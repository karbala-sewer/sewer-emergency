var sC=Object.create;var ll=Object.defineProperty,aC=Object.defineProperties,uC=Object.getOwnPropertyDescriptor,cC=Object.getOwnPropertyDescriptors,lC=Object.getOwnPropertyNames,vm=Object.getOwnPropertySymbols,dC=Object.getPrototypeOf,wm=Object.prototype.hasOwnProperty,hC=Object.prototype.propertyIsEnumerable;var _m=(t,e,n)=>e in t?ll(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E=(t,e)=>{for(var n in e||={})wm.call(e,n)&&_m(t,n,e[n]);if(vm)for(var n of vm(e))hC.call(e,n)&&_m(t,n,e[n]);return t},Z=(t,e)=>aC(t,cC(e));var fC=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var pC=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of lC(e))!wm.call(t,i)&&i!==n&&ll(t,i,{get:()=>e[i],enumerable:!(r=uC(e,i))||r.enumerable});return t};var gC=(t,e,n)=>(n=t!=null?sC(dC(t)):{},pC(e||!t||!t.__esModule?ll(n,"default",{value:t,enumerable:!0}):n,t));var D=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(c){i(c)}},s=u=>{try{a(n.throw(u))}catch(c){i(c)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var JE=fC((Qu,XE)=>{"use strict";(function(t,e){typeof Qu=="object"&&typeof XE<"u"?e(Qu):typeof define=="function"&&define.amd?define(["exports"],e):e(t.esriLoader=t.esriLoader||{})})(Qu,function(t){"use strict";var e=typeof window<"u",n={Promise:e?window.Promise:void 0},r="4.25",i="next";function o(C){if(C.toLowerCase()===i)return i;var F=C&&C.match(/^(\d)\.(\d+)/);return F&&{major:parseInt(F[1],10),minor:parseInt(F[2],10)}}function s(C){return C===void 0&&(C=r),"https://js.arcgis.com/".concat(C,"/")}function a(C){C===void 0&&(C=r);var F=s(C),J=o(C);if(J!==i&&J.major===3){var ue=J.minor<=10?"js/":"";return"".concat(F).concat(ue,"esri/css/esri.css")}else return"".concat(F,"esri/themes/light/main.css")}function u(C){var F=document.createElement("link");return F.rel="stylesheet",F.href=C,F}function c(C,F){if(F){var J=document.querySelector(F);J.parentNode.insertBefore(C,J)}else document.head.appendChild(C)}function l(C){return document.querySelector('link[href*="'.concat(C,'"]'))}function d(C){return!C||o(C)?a(C):C}function h(C,F){var J=d(C),ue=l(J);return ue||(ue=u(J),c(ue,F)),ue}var f={};function m(C){var F=document.createElement("script");return F.type="text/javascript",F.src=C,F.setAttribute("data-esri-loader","loading"),F}function b(C,F,J){var ue;J&&(ue=_(C,J));var tt=function(){F(C),C.removeEventListener("load",tt,!1),ue&&C.removeEventListener("error",ue,!1)};C.addEventListener("load",tt,!1)}function _(C,F){var J=function(ue){F(ue.error||new Error("There was an error attempting to load ".concat(C.src))),C.removeEventListener("error",J,!1)};return C.addEventListener("error",J,!1),J}function w(C){C===void 0&&(C={}),f=C}function B(){return document.querySelector("script[data-esri-loader]")}function re(){var C=window.require;return C&&C.on}function U(C){C===void 0&&(C={});var F={};[f,C].forEach(function(tt){for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(F[nt]=tt[nt])});var J=F.version,ue=F.url||s(J);return new n.Promise(function(tt,nt){var tn=B();if(tn){var ym=tn.getAttribute("src");ym!==ue?nt(new Error("The ArcGIS API for JavaScript is already loaded (".concat(ym,")."))):re()?tt(tn):b(tn,tt,nt)}else if(re())nt(new Error("The ArcGIS API for JavaScript is already loaded."));else{var cl=F.css;if(cl){var oC=cl===!0;h(oC?J:cl,F.insertCssBefore)}tn=m(ue),b(tn,function(){tn.setAttribute("data-esri-loader","loaded"),tt(tn)},nt),document.body.appendChild(tn)}})}function he(C){return new n.Promise(function(F,J){var ue=window.require.on("error",J);window.require(C,function(){for(var tt=[],nt=0;nt<arguments.length;nt++)tt[nt]=arguments[nt];ue.remove(),F(tt)})})}function Me(C,F){if(F===void 0&&(F={}),re())return he(C);var J=B(),ue=J&&J.getAttribute("src");return!F.url&&ue&&(F.url=ue),U(F).then(function(){return he(C)})}t.utils=n,t.loadModules=Me,t.getScript=B,t.isLoaded=re,t.loadScript=U,t.setDefaultOptions=w,t.loadCss=h,Object.defineProperty(t,"__esModule",{value:!0})})});var Em=null;var dl=1,Im=Symbol("SIGNAL");function rt(t){let e=Em;return Em=t,e}var Dm={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function mC(t){if(!(pl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===dl)){if(!t.producerMustRecompute(t)&&!hl(t)){t.dirty=!1,t.lastCleanEpoch=dl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=dl}}function Cm(t){return t&&(t.nextProducerIndex=0),rt(t)}function bm(t,e){if(rt(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(pl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)fl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function hl(t){Bs(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(mC(n),r!==n.version))return!0}return!1}function Tm(t){if(Bs(t),pl(t))for(let e=0;e<t.producerNode.length;e++)fl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function fl(t,e){if(yC(t),Bs(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)fl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Bs(i),i.producerIndexOfThis[r]=e}}function pl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Bs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function yC(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function vC(){throw new Error}var _C=vC;function Am(t){_C=t}function P(t){return typeof t=="function"}function kr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Us=kr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ji(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var _e=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(P(r))try{r()}catch(o){e=o instanceof Us?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Sm(o)}catch(s){e=e??[],s instanceof Us?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Us(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Sm(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ji(n,e)}remove(e){let{_finalizers:n}=this;n&&Ji(n,e),e instanceof t&&e._removeParent(this)}};_e.EMPTY=(()=>{let t=new _e;return t.closed=!0,t})();var gl=_e.EMPTY;function $s(t){return t instanceof _e||t&&"closed"in t&&P(t.remove)&&P(t.add)&&P(t.unsubscribe)}function Sm(t){P(t)?t():t.unsubscribe()}var _t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vr={setTimeout(t,e,...n){let{delegate:r}=Vr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Vr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Hs(t){Vr.setTimeout(()=>{let{onUnhandledError:e}=_t;if(e)e(t);else throw t})}function eo(){}var Mm=ml("C",void 0,void 0);function xm(t){return ml("E",void 0,t)}function Rm(t){return ml("N",t,void 0)}function ml(t,e,n){return{kind:t,value:e,error:n}}var Yn=null;function Lr(t){if(_t.useDeprecatedSynchronousErrorHandling){let e=!Yn;if(e&&(Yn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Yn;if(Yn=null,n)throw r}}else t()}function Nm(t){_t.useDeprecatedSynchronousErrorHandling&&Yn&&(Yn.errorThrown=!0,Yn.error=t)}var Zn=class extends _e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$s(e)&&e.add(this)):this.destination=IC}static create(e,n,r){return new jr(e,n,r)}next(e){this.isStopped?vl(Rm(e),this):this._next(e)}error(e){this.isStopped?vl(xm(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vl(Mm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},wC=Function.prototype.bind;function yl(t,e){return wC.call(t,e)}var _l=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){zs(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){zs(r)}else zs(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){zs(n)}}},jr=class extends Zn{constructor(e,n,r){super();let i;if(P(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&_t.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&yl(e.next,o),error:e.error&&yl(e.error,o),complete:e.complete&&yl(e.complete,o)}):i=e}this.destination=new _l(i)}};function zs(t){_t.useDeprecatedSynchronousErrorHandling?Nm(t):Hs(t)}function EC(t){throw t}function vl(t,e){let{onStoppedNotification:n}=_t;n&&Vr.setTimeout(()=>n(t,e))}var IC={closed:!0,next:eo,error:EC,complete:eo};var Br=typeof Symbol=="function"&&Symbol.observable||"@@observable";function it(t){return t}function wl(...t){return El(t)}function El(t){return t.length===0?it:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var W=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=CC(n)?n:new jr(n,r,i);return Lr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Pm(r),new r((i,o)=>{let s=new jr({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Br](){return this}pipe(...n){return El(n)(this)}toPromise(n){return n=Pm(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Pm(t){var e;return(e=t??_t.Promise)!==null&&e!==void 0?e:Promise}function DC(t){return t&&P(t.next)&&P(t.error)&&P(t.complete)}function CC(t){return t&&t instanceof Zn||DC(t)&&$s(t)}function Il(t){return P(t?.lift)}function q(t){return e=>{if(Il(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $(t,e,n,r,i){return new Dl(t,e,n,r,i)}var Dl=class extends Zn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ur(){return q((t,e)=>{let n=null;t._refCount++;let r=$(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var $r=class extends W{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Il(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _e;let n=this.getSubject();e.add(this.source.subscribe($(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_e.EMPTY)}return e}refCount(){return Ur()(this)}};var Om=kr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class t extends W{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new qs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Om}next(n){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?gl:(this.currentObservers=null,o.push(n),new _e(()=>{this.currentObservers=null,Ji(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new W;return n.source=this,n}}return t.create=(e,n)=>new qs(e,n),t})(),qs=class extends ot{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:gl}};var xe=class extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var dt=new W(t=>t.complete());function Fm(t){return t&&P(t.schedule)}function km(t){return t[t.length-1]}function Gs(t){return P(km(t))?t.pop():void 0}function vn(t){return Fm(km(t))?t.pop():void 0}function Lm(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function Vm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xn(t){return this instanceof Xn?(this.v=t,this):new Xn(t)}function jm(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(m,b){o.push([h,f,m,b])>1||a(h,f)})})}function a(h,f){try{u(r[h](f))}catch(m){d(o[0][3],m)}}function u(h){h.value instanceof Xn?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Bm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Vm=="function"?Vm(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}}var Ws=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ks(t){return P(t?.then)}function Qs(t){return P(t[Br])}function Ys(t){return Symbol.asyncIterator&&P(t?.[Symbol.asyncIterator])}function Zs(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function bC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xs=bC();function Js(t){return P(t?.[Xs])}function ea(t){return jm(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Xn(n.read());if(i)return yield Xn(void 0);yield yield Xn(r)}}finally{n.releaseLock()}})}function ta(t){return P(t?.getReader)}function fe(t){if(t instanceof W)return t;if(t!=null){if(Qs(t))return TC(t);if(Ws(t))return AC(t);if(Ks(t))return SC(t);if(Ys(t))return Um(t);if(Js(t))return MC(t);if(ta(t))return xC(t)}throw Zs(t)}function TC(t){return new W(e=>{let n=t[Br]();if(P(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function AC(t){return new W(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function SC(t){return new W(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Hs)})}function MC(t){return new W(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Um(t){return new W(e=>{RC(t,e).catch(n=>e.error(n))})}function xC(t){return Um(ea(t))}function RC(t,e){var n,r,i,o;return Lm(this,void 0,void 0,function*(){try{for(n=Bm(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ye(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function na(t,e=0){return q((n,r)=>{n.subscribe($(r,i=>Ye(r,t,()=>r.next(i),e),()=>Ye(r,t,()=>r.complete(),e),i=>Ye(r,t,()=>r.error(i),e)))})}function ra(t,e=0){return q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function $m(t,e){return fe(t).pipe(ra(e),na(e))}function Hm(t,e){return fe(t).pipe(ra(e),na(e))}function zm(t,e){return new W(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function qm(t,e){return new W(n=>{let r;return Ye(n,e,()=>{r=t[Xs](),Ye(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>P(r?.return)&&r.return()})}function ia(t,e){if(!t)throw new Error("Iterable cannot be null");return new W(n=>{Ye(n,e,()=>{let r=t[Symbol.asyncIterator]();Ye(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Gm(t,e){return ia(ea(t),e)}function Wm(t,e){if(t!=null){if(Qs(t))return $m(t,e);if(Ws(t))return zm(t,e);if(Ks(t))return Hm(t,e);if(Ys(t))return ia(t,e);if(Js(t))return qm(t,e);if(ta(t))return Gm(t,e)}throw Zs(t)}function oe(t,e){return e?Wm(t,e):fe(t)}function R(...t){let e=vn(t);return oe(t,e)}function Hr(t,e){let n=P(t)?t:()=>t,r=i=>i.error(n());return new W(e?i=>e.schedule(r,0,i):r)}function Cl(t){return!!t&&(t instanceof W||P(t.lift)&&P(t.subscribe))}var nn=kr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function k(t,e){return q((n,r)=>{let i=0;n.subscribe($(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:NC}=Array;function PC(t,e){return NC(e)?t(...e):t(e)}function oa(t){return k(e=>PC(t,e))}var{isArray:OC}=Array,{getPrototypeOf:FC,prototype:kC,keys:VC}=Object;function sa(t){if(t.length===1){let e=t[0];if(OC(e))return{args:e,keys:null};if(LC(e)){let n=VC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function LC(t){return t&&typeof t=="object"&&FC(t)===kC}function aa(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function to(...t){let e=vn(t),n=Gs(t),{args:r,keys:i}=sa(t);if(r.length===0)return oe([],e);let o=new W(jC(r,e,i?s=>aa(i,s):it));return n?o.pipe(oa(n)):o}function jC(t,e,n=it){return r=>{Km(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Km(e,()=>{let c=oe(t[u],e),l=!1;c.subscribe($(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Km(t,e,n){t?Ye(n,t,e):e()}function Qm(t,e,n,r,i,o,s,a){let u=[],c=0,l=0,d=!1,h=()=>{d&&!u.length&&!c&&e.complete()},f=b=>c<r?m(b):u.push(b),m=b=>{o&&e.next(b),c++;let _=!1;fe(n(b,l++)).subscribe($(e,w=>{i?.(w),o?f(w):e.next(w)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){let w=u.shift();s?Ye(e,s,()=>m(w)):m(w)}h()}catch(w){e.error(w)}}))};return t.subscribe($(e,f,()=>{d=!0,h()})),()=>{a?.()}}function pe(t,e,n=1/0){return P(e)?pe((r,i)=>k((o,s)=>e(r,o,i,s))(fe(t(r,i))),n):(typeof e=="number"&&(n=e),q((r,i)=>Qm(r,i,t,n)))}function zr(t=1/0){return pe(it,t)}function Ym(){return zr(1)}function qr(...t){return Ym()(oe(t,vn(t)))}function ua(t){return new W(e=>{fe(t()).subscribe(e)})}function bl(...t){let e=Gs(t),{args:n,keys:r}=sa(t),i=new W(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,c=s;for(let l=0;l<s;l++){let d=!1;fe(n[l]).subscribe($(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?aa(r,a):a),o.complete())}))}});return e?i.pipe(oa(e)):i}function Ze(t,e){return q((n,r)=>{let i=0;n.subscribe($(r,o=>t.call(e,o,i++)&&r.next(o)))})}function _n(t){return q((e,n)=>{let r=null,i=!1,o;r=e.subscribe($(n,void 0,void 0,s=>{o=fe(t(s,_n(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Zm(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe($(s,l=>{let d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function rn(t,e){return P(e)?pe(t,e,1):pe(t,1)}function wn(t){return q((e,n)=>{let r=!1;e.subscribe($(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function on(t){return t<=0?()=>dt:q((e,n)=>{let r=0;e.subscribe($(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Tl(t){return k(()=>t)}function ca(t=BC){return q((e,n)=>{let r=!1;e.subscribe($(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function BC(){return new nn}function En(t){return q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Mt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ze((i,o)=>t(i,o,r)):it,on(1),n?wn(e):ca(()=>new nn))}function Gr(t){return t<=0?()=>dt:q((e,n)=>{let r=[];e.subscribe($(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Al(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ze((i,o)=>t(i,o,r)):it,Gr(1),n?wn(e):ca(()=>new nn))}function Sl(t,e){return q(Zm(t,e,arguments.length>=2,!0))}function Ml(...t){let e=vn(t);return q((n,r)=>{(e?qr(t,n,e):qr(t,n)).subscribe(r)})}function Xe(t,e){return q((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe($(r,u=>{i?.unsubscribe();let c=0,l=o++;fe(t(u,l)).subscribe(i=$(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xl(t){return q((e,n)=>{fe(t).subscribe($(n,()=>n.complete(),eo)),!n.closed&&e.subscribe(n)})}function we(t,e,n){let r=P(t)||e||n?{next:t,error:e,complete:n}:t;return r?q((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe($(o,u=>{var c;(c=r.next)===null||c===void 0||c.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,u),o.error(u)},()=>{var u,c;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):it}var UC="https://g.co/ng/security#xss",M=class extends Error{constructor(e,n){super(La(e,n)),this.code=e}};function La(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function te(t){for(let e in t)if(t[e]===te)return e;throw Error("Could not find renamed property on target object.")}function $C(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Je(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Je).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Xm(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var HC=te({__forward_ref__:te});function Sn(t){return t.__forward_ref__=Sn,t.toString=function(){return Je(this())},t}function ze(t){return Fy(t)?t():t}function Fy(t){return typeof t=="function"&&t.hasOwnProperty(HC)&&t.__forward_ref__===Sn}function ky(t){return t&&!!t.\u0275providers}var zC=te({\u0275cmp:te}),qC=te({\u0275dir:te}),GC=te({\u0275pipe:te}),WC=te({\u0275mod:te}),_a=te({\u0275fac:te}),no=te({__NG_ELEMENT_ID__:te}),Jm=te({__NG_ENV_ID__:te});function Md(t){return typeof t=="string"?t:t==null?"":String(t)}function KC(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Md(t)}function QC(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new M(-200,`Circular dependency in DI detected for ${t}${n}`)}function xd(t,e){throw new M(-201,!1)}function YC(t,e){t==null&&ZC(e,t,null,"!=")}function ZC(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function A(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Re(t){return{providers:t.providers||[],imports:t.imports||[]}}function ja(t){return ey(t,Ly)||ey(t,jy)}function Vy(t){return ja(t)!==null}function ey(t,e){return t.hasOwnProperty(e)?t[e]:null}function XC(t){let e=t&&(t[Ly]||t[jy]);return e||null}function ty(t){return t&&(t.hasOwnProperty(ny)||t.hasOwnProperty(JC))?t[ny]:null}var Ly=te({\u0275prov:te}),ny=te({\u0275inj:te}),jy=te({ngInjectableDef:te}),JC=te({ngInjectorDef:te}),L=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(L||{}),ql;function By(){return ql}function ht(t){let e=ql;return ql=t,e}function Uy(t,e,n){let r=ja(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&L.Optional)return null;if(e!==void 0)return e;xd(t,"Injector")}var st=globalThis;var S=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=A({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var eb={},io=eb,Gl="__NG_DI_FLAG__",wa="ngTempTokenPath",tb="ngTokenPath",nb=/\n/gm,rb="\u0275",ry="__source",Zr;function ib(){return Zr}function In(t){let e=Zr;return Zr=t,e}function ob(t,e=L.Default){if(Zr===void 0)throw new M(-203,!1);return Zr===null?Uy(t,void 0,e):Zr.get(t,e&L.Optional?null:void 0,e)}function T(t,e=L.Default){return(By()||ob)(ze(t),e)}function y(t,e=L.Default){return T(t,Ba(e))}function Ba(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wl(t){let e=[];for(let n=0;n<t.length;n++){let r=ze(t[n]);if(Array.isArray(r)){if(r.length===0)throw new M(900,!1);let i,o=L.Default;for(let s=0;s<r.length;s++){let a=r[s],u=sb(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(T(i,o))}else e.push(T(r))}return e}function $y(t,e){return t[Gl]=e,t.prototype[Gl]=e,t}function sb(t){return t[Gl]}function ab(t,e,n,r){let i=t[wa];throw e[ry]&&i.unshift(e[ry]),t.message=ub(`
`+t.message,i,n,r),t[tb]=i,t[wa]=null,t}function ub(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==rb?t.slice(2):t;let i=Je(e);if(Array.isArray(e))i=e.map(Je).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Je(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nb,`
  `)}`}function go(t){return{toString:t}.toString()}var Hy=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Hy||{}),Nt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Nt||{}),Jr={},ft=[],et=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(et||{});function zy(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Kl(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];lb(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function cb(t){return t===3||t===4||t===6}function lb(t){return t.charCodeAt(0)===64}function oo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?iy(t,n,i,null,e[++r]):iy(t,n,i,null,null))}}return t}function iy(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var qy="ng-template";function db(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&zy(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function Gy(t){return t.type===4&&t.value!==qy}function hb(t,e,n){let r=t.type===4&&!n?qy:t.value;return e===r}function fb(t,e,n){let r=4,i=t.attrs||[],o=mb(i),s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!wt(r)&&!wt(u))return!1;if(s&&wt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!hb(t,u,n)||u===""&&e.length===1){if(wt(r))return!1;s=!0}}else{let c=r&8?u:e[++a];if(r&8&&t.attrs!==null){if(!db(t.attrs,c,n)){if(wt(r))return!1;s=!0}continue}let l=r&8?"class":u,d=pb(l,i,Gy(t),n);if(d===-1){if(wt(r))return!1;s=!0;continue}if(c!==""){let h;d>o?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&zy(f,c,0)!==-1||r&2&&c!==h){if(wt(r))return!1;s=!0}}}}return wt(r)||s}function wt(t){return(t&1)===0}function pb(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return yb(e,t)}function gb(t,e,n=!1){for(let r=0;r<e.length;r++)if(fb(t,e[r],n))return!0;return!1}function mb(t){for(let e=0;e<t.length;e++){let n=t[e];if(cb(n))return e}return t.length}function yb(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function oy(t,e){return t?":not("+e.trim()+")":e}function vb(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!wt(s)&&(e+=oy(o,i),i=""),r=s,o=o||!wt(r);n++}return i!==""&&(e+=oy(o,i)),e}function _b(t){return t.map(vb).join(",")}function wb(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!wt(i))break;i=o}r++}return{attrs:e,classes:n}}function Ua(t){return go(()=>{let e=Zy(t),n=Z(E({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Hy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Nt.Emulated,styles:t.styles||ft,_:null,schemas:t.schemas||null,tView:null,id:""});Xy(n);let r=t.dependencies;return n.directiveDefs=ay(r,!1),n.pipeDefs=ay(r,!0),n.id=Db(n),n})}function Eb(t){return Cn(t)||Wy(t)}function Ib(t){return t!==null}function Ne(t){return go(()=>({type:t.type,bootstrap:t.bootstrap||ft,declarations:t.declarations||ft,imports:t.imports||ft,exports:t.exports||ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function sy(t,e){if(t==null)return Jr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=et.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==et.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ve(t){return go(()=>{let e=Zy(t);return Xy(e),e})}function Cn(t){return t[zC]||null}function Wy(t){return t[qC]||null}function Ky(t){return t[GC]||null}function Qy(t){let e=Cn(t)||Wy(t)||Ky(t);return e!==null?e.standalone:!1}function Yy(t,e){let n=t[WC]||null;if(!n&&e===!0)throw new Error(`Type ${Je(t)} does not have '\u0275mod' property.`);return n}function Zy(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Jr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sy(t.inputs,e),outputs:sy(t.outputs),debugInfo:null}}function Xy(t){t.features?.forEach(e=>e(t))}function ay(t,e){if(!t)return null;let n=e?Ky:Eb;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Ib)}function Db(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var un=0,z=1,O=2,Fe=3,Et=4,It=5,Ea=6,so=7,sn=8,ei=9,bn=10,ke=11,ao=12,uy=13,mo=14,Pt=15,Rd=16,Wr=17,Nd=18,$a=19,Jy=20,Dn=21,Rl=22,tr=23,nr=25,ev=1;var rr=7,Ia=8,Da=9,pt=10,Pd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Pd||{});function Jn(t){return Array.isArray(t)&&typeof t[ev]=="object"}function cn(t){return Array.isArray(t)&&t[ev]===!0}function tv(t){return(t.flags&4)!==0}function Ha(t){return t.componentOffset>-1}function nv(t){return(t.flags&1)===1}function Tn(t){return!!t.template}function Cb(t){return(t[O]&512)!==0}function ti(t,e){let n=t.hasOwnProperty(_a);return n?t[_a]:null}var Ql=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function rv(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Mn(){return iv}function iv(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tb),bb}Mn.ngInherit=!0;function bb(){let t=sv(this),e=t?.current;if(e){let n=t.previous;if(n===Jr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Tb(t,e,n,r,i){let o=this.declaredInputs[r],s=sv(t)||Ab(t,{previous:Jr,current:null}),a=s.current||(s.current={}),u=s.previous,c=u[o];a[o]=new Ql(c&&c.currentValue,n,u===Jr),rv(t,e,i,n)}var ov="__ngSimpleChanges__";function sv(t){return t[ov]||null}function Ab(t,e){return t[ov]=e}var cy=null;var xt=function(t,e,n){cy?.(t,e,n)},Sb="svg",Mb="math",xb=!1;function Rb(){return xb}function Ot(t){for(;Array.isArray(t);)t=t[un];return t}function av(t,e){return Ot(e[t])}function gt(t,e){return Ot(e[t.index])}function uv(t,e){return t.data[e]}function xn(t,e){let n=e[t];return Jn(n)?n:n[un]}function Od(t){return(t[O]&128)===128}function Nb(t){return cn(t[Fe])}function ly(t,e){return e==null?null:t[e]}function cv(t){t[Wr]=0}function Pb(t){t[O]&1024||(t[O]|=1024,Od(t)&&uo(t))}function lv(t){return t[O]&9216||t[tr]?.dirty}function Yl(t){lv(t)?uo(t):t[O]&64&&(Rb()?(t[O]|=1024,uo(t)):t[bn].changeDetectionScheduler?.notify())}function uo(t){t[bn].changeDetectionScheduler?.notify();let e=co(t);for(;e!==null&&!(e[O]&8192||(e[O]|=8192,!Od(e)));)e=co(e)}function dv(t,e){if((t[O]&256)===256)throw new M(911,!1);t[Dn]===null&&(t[Dn]=[]),t[Dn].push(e)}function Ob(t,e){if(t[Dn]===null)return;let n=t[Dn].indexOf(e);n!==-1&&t[Dn].splice(n,1)}function co(t){let e=t[Fe];return cn(e)?e[Fe]:e}var K={lFrame:_v(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Fb(){return K.lFrame.elementDepthCount}function kb(){K.lFrame.elementDepthCount++}function Vb(){K.lFrame.elementDepthCount--}function hv(){return K.bindingsEnabled}function Lb(){return K.skipHydrationRootTNode!==null}function jb(t){return K.skipHydrationRootTNode===t}function Bb(){K.skipHydrationRootTNode=null}function le(){return K.lFrame.lView}function kt(){return K.lFrame.tView}function Dt(){let t=fv();for(;t!==null&&t.type===64;)t=t.parent;return t}function fv(){return K.lFrame.currentTNode}function Ub(){let t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function za(t,e){let n=K.lFrame;n.currentTNode=t,n.isParent=e}function pv(){return K.lFrame.isParent}function $b(){K.lFrame.isParent=!1}function gv(){let t=K.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Hb(t){return K.lFrame.bindingIndex=t}function Fd(){return K.lFrame.bindingIndex++}function zb(t){let e=K.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function qb(){return K.lFrame.inI18n}function Gb(t,e){let n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,Zl(e)}function Wb(){return K.lFrame.currentDirectiveIndex}function Zl(t){K.lFrame.currentDirectiveIndex=t}function Kb(t){let e=K.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function mv(t){K.lFrame.currentQueryIndex=t}function Qb(t){let e=t[z];return e.type===2?e.declTNode:e.type===1?t[It]:null}function yv(t,e,n){if(n&L.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&L.Host);)if(i=Qb(o),i===null||(o=o[mo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=K.lFrame=vv();return r.currentTNode=e,r.lView=t,!0}function kd(t){let e=vv(),n=t[z];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function vv(){let t=K.lFrame,e=t===null?null:t.child;return e===null?_v(t):e}function _v(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function wv(){let t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ev=wv;function Vd(){let t=wv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ci(){return K.lFrame.selectedIndex}function ir(t){K.lFrame.selectedIndex=t}function Iv(){let t=K.lFrame;return uv(t.tView,t.selectedIndex)}function Yb(){return K.lFrame.currentNamespace}var Dv=!0;function Cv(){return Dv}function bv(t){Dv=t}function Zb(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=iv(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Tv(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function pa(t,e,n){Av(t,e,3,n)}function ga(t,e,n,r){(t[O]&3)===n&&Av(t,e,n,r)}function Nl(t,e){let n=t[O];(n&3)===e&&(n&=16383,n+=1,t[O]=n)}function Av(t,e,n,r){let i=r!==void 0?t[Wr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Wr]+=65536),(a<o||o==-1)&&(Xb(t,n,e,u),t[Wr]=(t[Wr]&4294901760)+u+2),u++}function dy(t,e){xt(4,t,e);let n=rt(null);try{e.call(t)}finally{rt(n),xt(5,t,e)}}function Xb(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[O]>>14<t[Wr]>>16&&(t[O]&3)===e&&(t[O]+=16384,dy(a,o)):dy(a,o)}var Xr=-1,or=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Jb(t){return t instanceof or}function eT(t){return(t.flags&8)!==0}function tT(t){return(t.flags&16)!==0}function Sv(t){return t!==Xr}function Ca(t){return t&32767}function nT(t){return t>>16}function ba(t,e){let n=nT(t),r=e;for(;n>0;)r=r[mo],n--;return r}var Xl=!0;function hy(t){let e=Xl;return Xl=t,e}var rT=256,Mv=rT-1,xv=5,iT=0,Rt={};function oT(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(no)&&(r=n[no]),r==null&&(r=n[no]=iT++);let i=r&Mv,o=1<<i;e.data[t+(i>>xv)]|=o}function Ta(t,e){let n=Rv(t,e);if(n!==-1)return n;let r=e[z];r.firstCreatePass&&(t.injectorIndex=e.length,Pl(r.data,t),Pl(e,null),Pl(r.blueprint,null));let i=Ld(t,e),o=t.injectorIndex;if(Sv(i)){let s=Ca(i),a=ba(i,e),u=a[z].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function Pl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Rv(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ld(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=kv(i),r===null)return Xr;if(n++,i=i[mo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Xr}function Jl(t,e,n){oT(t,e,n)}function Nv(t,e,n){if(n&L.Optional||t!==void 0)return t;xd(e,"NodeInjector")}function Pv(t,e,n,r){if(n&L.Optional&&r===void 0&&(r=null),!(n&(L.Self|L.Host))){let i=t[ei],o=ht(void 0);try{return i?i.get(e,r,n&L.Optional):Uy(e,r,n&L.Optional)}finally{ht(o)}}return Nv(r,e,n)}function Ov(t,e,n,r=L.Default,i){if(t!==null){if(e[O]&2048&&!(r&L.Self)){let s=lT(t,e,n,r,Rt);if(s!==Rt)return s}let o=Fv(t,e,n,r,Rt);if(o!==Rt)return o}return Pv(e,n,r,i)}function Fv(t,e,n,r,i){let o=uT(n);if(typeof o=="function"){if(!yv(e,t,r))return r&L.Host?Nv(i,n,r):Pv(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&L.Optional))xd(n);else return s}finally{Ev()}}else if(typeof o=="number"){let s=null,a=Rv(t,e),u=Xr,c=r&L.Host?e[Pt][It]:null;for((a===-1||r&L.SkipSelf)&&(u=a===-1?Ld(t,e):e[a+8],u===Xr||!py(r,!1)?a=-1:(s=e[z],a=Ca(u),e=ba(u,e)));a!==-1;){let l=e[z];if(fy(o,a,l.data)){let d=sT(a,e,n,s,r,c);if(d!==Rt)return d}u=e[a+8],u!==Xr&&py(r,e[z].data[a+8]===c)&&fy(o,a,e)?(s=l,a=Ca(u),e=ba(u,e)):a=-1}}return i}function sT(t,e,n,r,i,o){let s=e[z],a=s.data[t+8],u=r==null?Ha(a)&&Xl:r!=s&&(a.type&3)!==0,c=i&L.Host&&o===a,l=aT(a,s,n,u,c);return l!==null?ni(e,s,l,a):Rt}function aT(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,c=t.directiveEnd,l=o>>20,d=r?a:a+l,h=i?a+l:c;for(let f=d;f<h;f++){let m=s[f];if(f<u&&n===m||f>=u&&m.type===n)return f}if(i){let f=s[u];if(f&&Tn(f)&&f.type===n)return u}return null}function ni(t,e,n,r){let i=t[n],o=e.data;if(Jb(i)){let s=i;s.resolving&&QC(KC(o[n]));let a=hy(s.canSeeViewProviders);s.resolving=!0;let u,c=s.injectImpl?ht(s.injectImpl):null,l=yv(t,r,L.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&Zb(n,o[n],e)}finally{c!==null&&ht(c),hy(a),s.resolving=!1,Ev()}}return i}function uT(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(no)?t[no]:void 0;return typeof e=="number"?e>=0?e&Mv:cT:e}function fy(t,e,n){let r=1<<t;return!!(n[e+(t>>xv)]&r)}function py(t,e){return!(t&L.Self)&&!(t&L.Host&&e)}var er=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Ov(this._tNode,this._lView,e,Ba(r),n)}};function cT(){return new er(Dt(),le())}function ur(t){return go(()=>{let e=t.prototype.constructor,n=e[_a]||ed(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[_a]||ed(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ed(t){return Fy(t)?()=>{let e=ed(ze(t));return e&&e()}:ti(t)}function lT(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[O]&2048&&!(s[O]&512);){let a=Fv(o,s,n,r|L.Self,Rt);if(a!==Rt)return a;let u=o.parent;if(!u){let c=s[Jy];if(c){let l=c.get(n,Rt,r);if(l!==Rt)return l}u=kv(s),s=s[mo]}o=u}return i}function kv(t){let e=t[z],n=e.type;return n===2?e.declTNode:n===1?t[It]:null}var la="__parameters__";function dT(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Vv(t,e,n){return go(()=>{let r=dT(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,c,l){let d=u.hasOwnProperty(la)?u[la]:Object.defineProperty(u,la,{value:[]})[la];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function hT(t){let e=st.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function fT(t){return typeof t=="function"}function jd(t,e){t.forEach(n=>Array.isArray(n)?jd(n,e):e(n))}function Lv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Aa(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function gT(t,e,n){let r=yo(t,e);return r>=0?t[r|1]=n:(r=~r,pT(t,r,e,n)),r}function Ol(t,e){let n=yo(t,e);if(n>=0)return t[n|1]}function yo(t,e){return mT(t,e,1)}function mT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Bd=$y(Vv("Optional"),8);var jv=$y(Vv("SkipSelf"),4);function yT(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(ET))}return o}return Sa.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(c=>{i.template=c}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),s.push(r(d).then(f=>{a[c+h]=f,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(c=>{a.push(c),i.styleUrl=void 0}));let u=Promise.all(s).then(()=>IT(o));e.push(u)}),_T(),Promise.all(e).then(()=>{})}var Sa=new Map,vT=new Set;function _T(){let t=Sa;return Sa=new Map,t}function wT(){return Sa.size===0}function ET(t){return typeof t=="string"?t:t.text()}function IT(t){vT.delete(t)}var ri=new S(""),Bv=new S("",-1),Uv=new S(""),Ma=class{get(e,n=io){if(n===io){let r=new Error(`NullInjectorError: No provider for ${Je(e)}!`);throw r.name="NullInjectorError",r}return n}};function qa(t){return{\u0275providers:t}}function DT(...t){return{\u0275providers:$v(!0,t),\u0275fromNgModule:!0}}function $v(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return jd(e,s=>{let a=s;td(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Hv(i,o),n}function Hv(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ud(i,o=>{e(o,r)})}}function td(t,e,n,r){if(t=ze(t),!t)return!1;let i=null,o=ty(t),s=!o&&Cn(t);if(!o&&!s){let u=t.ngModule;if(o=ty(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of u)td(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{jd(o.imports,l=>{td(l,e,n,r)&&(c||=[],c.push(l))})}finally{}c!==void 0&&Hv(c,e)}if(!a){let c=ti(i)||(()=>new i);e({provide:i,useFactory:c,deps:ft},i),e({provide:Uv,useValue:i,multi:!0},i),e({provide:ri,useValue:()=>T(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let c=t;Ud(u,l=>{e(l,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Ud(t,e){for(let n of t)ky(n)&&(n=n.\u0275providers),Array.isArray(n)?Ud(n,e):e(n)}var CT=te({provide:String,useValue:te});function zv(t){return t!==null&&typeof t=="object"&&CT in t}function bT(t){return!!(t&&t.useExisting)}function TT(t){return!!(t&&t.useFactory)}function ii(t){return typeof t=="function"}function AT(t){return!!t.useClass}var Ga=new S(""),ma={},ST={},Fl;function $d(){return Fl===void 0&&(Fl=new Ma),Fl}var qe=class{},lo=class extends qe{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rd(e,s=>this.processProvider(s)),this.records.set(Bv,Kr(void 0,this)),i.has("environment")&&this.records.set(qe,Kr(void 0,this));let o=this.records.get(Ga);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Uv,ft,L.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=In(this),r=ht(void 0),i;try{return e()}finally{In(n),ht(r)}}get(e,n=io,r=L.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Jm))return e[Jm](this);r=Ba(r);let i,o=In(this),s=ht(void 0);try{if(!(r&L.SkipSelf)){let u=this.records.get(e);if(u===void 0){let c=PT(e)&&ja(e);c&&this.injectableDefInScope(c)?u=Kr(nd(e),ma):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&L.Self?$d():this.parent;return n=r&L.Optional&&n===io?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[wa]=a[wa]||[]).unshift(Je(e)),o)throw a;return ab(a,e,"R3InjectorError",this.source)}else throw a}finally{ht(s),In(o)}}resolveInjectorInitializers(){let e=In(this),n=ht(void 0),r;try{let i=this.get(ri,ft,L.Self);for(let o of i)o()}finally{In(e),ht(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Je(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(e){e=ze(e);let n=ii(e)?e:ze(e&&e.provide),r=xT(e);if(!ii(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Kr(void 0,ma,!0),i.factory=()=>Wl(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===ma&&(n.value=ST,n.value=n.factory()),typeof n.value=="object"&&n.value&&NT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ze(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function nd(t){let e=ja(t),n=e!==null?e.factory:ti(t);if(n!==null)return n;if(t instanceof S)throw new M(204,!1);if(t instanceof Function)return MT(t);throw new M(204,!1)}function MT(t){if(t.length>0)throw new M(204,!1);let n=XC(t);return n!==null?()=>n.factory(t):()=>new t}function xT(t){if(zv(t))return Kr(void 0,t.useValue);{let e=qv(t);return Kr(e,ma)}}function qv(t,e,n){let r;if(ii(t)){let i=ze(t);return ti(i)||nd(i)}else if(zv(t))r=()=>ze(t.useValue);else if(TT(t))r=()=>t.useFactory(...Wl(t.deps||[]));else if(bT(t))r=()=>T(ze(t.useExisting));else{let i=ze(t&&(t.useClass||t.provide));if(RT(t))r=()=>new i(...Wl(t.deps));else return ti(i)||nd(i)}return r}function Kr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function RT(t){return!!t.deps}function NT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function PT(t){return typeof t=="function"||typeof t=="object"&&t instanceof S}function rd(t,e){for(let n of t)Array.isArray(n)?rd(n,e):n&&ky(n)?rd(n.\u0275providers,e):e(n)}function Vt(t,e){t instanceof lo&&t.assertNotDestroyed();let n,r=In(t),i=ht(void 0);try{return e()}finally{In(r),ht(i)}}function OT(t){if(!By()&&!ib())throw new M(-203,!1)}function gy(t,e=null,n=null,r){let i=Gv(t,e,n,r);return i.resolveInjectorInitializers(),i}function Gv(t,e=null,n=null,r,i=new Set){let o=[n||ft,DT(t)];return r=r||(typeof t=="object"?void 0:Je(t)),new lo(o,e||$d(),r||null,i)}var Ct=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return gy({name:""},i,r,"");{let o=r.name??"";return gy({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=io,e.NULL=new Ma,e.\u0275prov=A({token:e,providedIn:"any",factory:()=>T(Bv)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var id;function Wv(t){id=t}function FT(){if(id!==void 0)return id;if(typeof document<"u")return document;throw new M(210,!1)}var Wa=new S("",{providedIn:"root",factory:()=>kT}),kT="ng",Hd=new S(""),Lt=new S("",{providedIn:"platform",factory:()=>"unknown"});var zd=new S("",{providedIn:"root",factory:()=>FT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Kv(t){return t instanceof Function?t():t}function VT(t){return(t??y(Ct)).get(Lt)==="browser"}function Qv(t){return(t.flags&128)===128}var an=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(an||{});var Yv=new Map,LT=0;function jT(){return LT++}function BT(t){Yv.set(t[$a],t)}function UT(t){Yv.delete(t[$a])}var my="__ngContext__";function oi(t,e){Jn(e)?(t[my]=e[$a],BT(e)):t[my]=e}var $T;function qd(t,e){return $T(t,e)}function Qr(t,e,n,r,i){if(r!=null){let o,s=!1;cn(r)?o=r:Jn(r)&&(s=!0,r=r[un]);let a=Ot(r);t===0&&n!==null?i==null?t_(e,n,a):xa(e,n,a,i||null,!0):t===1&&n!==null?xa(e,n,a,i||null,!0):t===2?oA(e,a,s):t===3&&e.destroyNode(a),o!=null&&aA(e,t,o,n,i)}}function HT(t,e){return t.createText(e)}function zT(t,e,n){t.setValue(e,n)}function Zv(t,e,n){return t.createElement(e,n)}function qT(t,e){Xv(t,e),e[un]=null,e[It]=null}function GT(t,e,n,r,i,o){r[un]=i,r[It]=e,Ka(t,r,n,1,i,o)}function Xv(t,e){Ka(t,e,e[ke],2,null,null)}function WT(t){let e=t[ao];if(!e)return kl(t[z],t);for(;e;){let n=null;if(Jn(e))n=e[ao];else{let r=e[pt];r&&(n=r)}if(!n){for(;e&&!e[Et]&&e!==t;)Jn(e)&&kl(e[z],e),e=e[Fe];e===null&&(e=t),Jn(e)&&kl(e[z],e),n=e&&e[Et]}e=n}}function KT(t,e,n,r){let i=pt+r,o=n.length;r>0&&(n[i-1][Et]=e),r<o-pt?(e[Et]=n[i],Lv(n,pt+r,e)):(n.push(e),e[Et]=null),e[Fe]=n;let s=e[Rd];s!==null&&n!==s&&QT(s,e);let a=e[Nd];a!==null&&a.insertView(t),Yl(e),e[O]|=128}function QT(t,e){let n=t[Da],i=e[Fe][Fe][Pt];e[Pt]!==i&&(t[O]|=Pd.HasTransplantedViews),n===null?t[Da]=[e]:n.push(e)}function Jv(t,e){let n=t[Da],r=n.indexOf(e);n.splice(r,1)}function od(t,e){if(t.length<=pt)return;let n=pt+e,r=t[n];if(r){let i=r[Rd];i!==null&&i!==t&&Jv(i,r),e>0&&(t[n-1][Et]=r[Et]);let o=Aa(t,pt+e);qT(r[z],r);let s=o[Nd];s!==null&&s.detachView(o[z]),r[Fe]=null,r[Et]=null,r[O]&=-129}return r}function e_(t,e){if(!(e[O]&256)){let n=e[ke];n.destroyNode&&Ka(t,e,n,3,null,null),WT(e)}}function kl(t,e){if(!(e[O]&256)){e[O]&=-129,e[O]|=256,e[tr]&&Tm(e[tr]),ZT(t,e),YT(t,e),e[z].type===1&&e[ke].destroy();let n=e[Rd];if(n!==null&&cn(e[Fe])){n!==e[Fe]&&Jv(n,e);let r=e[Nd];r!==null&&r.detachView(t)}UT(e)}}function YT(t,e){let n=t.cleanup,r=e[so];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[so]=null);let i=e[Dn];if(i!==null){e[Dn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function ZT(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof or)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];xt(4,a,u);try{u.call(a)}finally{xt(5,a,u)}}else{xt(4,i,o);try{o.call(i)}finally{xt(5,i,o)}}}}}function XT(t,e,n){return JT(t,e.parent,n)}function JT(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[un];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Nt.None||o===Nt.Emulated)return null}return gt(r,n)}}function xa(t,e,n,r,i){t.insertBefore(e,n,r,i)}function t_(t,e,n){t.appendChild(e,n)}function yy(t,e,n,r,i){r!==null?xa(t,e,n,r,i):t_(t,e,n)}function eA(t,e,n,r){t.removeChild(e,n,r)}function Gd(t,e){return t.parentNode(e)}function tA(t,e){return t.nextSibling(e)}function nA(t,e,n){return iA(t,e,n)}function rA(t,e,n){return t.type&40?gt(t,n):null}var iA=rA,vy;function n_(t,e,n,r){let i=XT(t,r,e),o=e[ke],s=r.parent||e[It],a=nA(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)yy(o,i,n[u],a,!1);else yy(o,i,n,a,!1);vy!==void 0&&vy(o,r,e,n,i)}function ya(t,e){if(e!==null){let n=e.type;if(n&3)return gt(e,t);if(n&4)return sd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ya(t,r);{let i=t[e.index];return cn(i)?sd(-1,i):Ot(i)}}else{if(n&32)return qd(e,t)()||Ot(t[e.index]);{let r=r_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=co(t[Pt]);return ya(i,r)}else return ya(t,e.next)}}}return null}function r_(t,e){if(e!==null){let r=t[Pt][It],i=e.projection;return r.projection[i]}return null}function sd(t,e){let n=pt+t+1;if(n<e.length){let r=e[n],i=r[z].firstChild;if(i!==null)return ya(r,i)}return e[rr]}function oA(t,e,n){let r=Gd(t,e);r&&eA(t,r,e,n)}function Wd(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&oi(Ot(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Wd(t,e,n.child,r,i,o,!1),Qr(e,t,i,a,o);else if(u&32){let c=qd(n,r),l;for(;l=c();)Qr(e,t,i,l,o);Qr(e,t,i,a,o)}else u&16?sA(t,e,r,n,i,o):Qr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ka(t,e,n,r,i,o){Wd(n,r,t.firstChild,e,i,o,!1)}function sA(t,e,n,r,i,o){let s=n[Pt],u=s[It].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++){let l=u[c];Qr(e,t,i,l,o)}else{let c=u,l=s[Fe];Qv(r)&&(c.flags|=128),Wd(t,e,c,l,i,o,!0)}}function aA(t,e,n,r,i){let o=n[rr],s=Ot(n);o!==s&&Qr(e,t,r,o,i);for(let a=pt;a<n.length;a++){let u=n[a];Ka(u[z],u,t,e,r,o)}}function uA(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:an.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=an.Important),t.setStyle(n,r,i,o))}}function cA(t,e,n){t.setAttribute(e,"style",n)}function i_(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function o_(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Kl(t,e,r),i!==null&&i_(t,e,i),o!==null&&cA(t,e,o)}var ad=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${UC})`}};function Kd(t){return t instanceof ad?t.changingThisBreaksApplicationSecurity:t}var ud=class{};var lA="h",dA="b";var hA=()=>null;function Qd(t,e,n=!1){return hA(t,e,n)}var cd=class{},Ra=class{};function fA(t){let e=Error(`No component factory found for ${Je(t)}.`);return e[pA]=t,e}var pA="ngComponent";var ld=class{resolveComponentFactory(e){throw fA(e)}},Qa=(()=>{let e=class e{};e.NULL=new ld;let t=e;return t})();function gA(){return Yd(Dt(),le())}function Yd(t,e){return new Rn(gt(t,e))}var Rn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=gA;let t=e;return t})();var ho=class{},cr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>mA();let t=e;return t})();function mA(){let t=le(),e=Dt(),n=xn(e.index,t);return(Jn(n)?n:t)[ke]}var yA=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Vl={};function Na(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Ot(o)),cn(o)&&vA(o,r);let s=n.type;if(s&8)Na(t,e,n.child,r);else if(s&32){let a=qd(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=r_(e,n);if(Array.isArray(a))r.push(...a);else{let u=co(e[Pt]);Na(u[z],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function vA(t,e){for(let n=pt;n<t.length;n++){let r=t[n],i=r[z].firstChild;i!==null&&Na(r[z],r,i,e)}t[rr]!==t[un]&&e.push(t[rr])}var s_=[];function _A(t){return t[tr]??wA(t)}function wA(t){let e=s_.pop()??Object.create(IA);return e.lView=t,e}function EA(t){t.lView[tr]!==t&&(t.lView=null,s_.push(t))}var IA=Z(E({},Dm),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{uo(t.lView)},consumerOnSignalRead(){this.lView[tr]=this}});function a_(t){return c_(t[ao])}function u_(t){return c_(t[Et])}function c_(t){for(;t!==null&&!cn(t);)t=t[Et];return t}var DA="ngOriginalError";function Ll(t){return t[DA]}var Ft=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ll(e);for(;n&&Ll(n);)n=Ll(n);return n||null}},l_=new S("",{providedIn:"root",factory:()=>y(Ft).handleError.bind(void 0)});var d_=!1,CA=new S("",{providedIn:"root",factory:()=>d_});var lr={};function Ge(t=1){h_(kt(),le(),ci()+t,!1)}function h_(t,e,n,r){if(!r)if((e[O]&3)===3){let o=t.preOrderCheckHooks;o!==null&&pa(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ga(e,o,0,n)}ir(n)}function ne(t,e=L.Default){let n=le();if(n===null)return T(t,e);let r=Dt();return Ov(r,n,ze(t),e)}function f_(){let t="invalid";throw new Error(t)}function p_(t,e,n,r,i,o){let s=rt(null);try{let a=null;i&et.SignalBased&&(a=e[r][Im]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&et.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):rv(e,a,r,o)}finally{rt(s)}}function bA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ir(~i);else{let o=i,s=n[++r],a=n[++r];Gb(s,o);let u=e[o];a(2,u)}}}finally{ir(-1)}}function Zd(t,e,n,r,i,o,s,a,u,c,l){let d=e.blueprint.slice();return d[un]=i,d[O]=r|4|128|8|64,(c!==null||t&&t[O]&2048)&&(d[O]|=2048),cv(d),d[Fe]=d[mo]=t,d[sn]=n,d[bn]=s||t&&t[bn],d[ke]=a||t&&t[ke],d[ei]=u||t&&t[ei]||null,d[It]=o,d[$a]=jT(),d[Ea]=l,d[Jy]=c,d[Pt]=e.type==2?t[Pt]:d,d}function Xd(t,e,n,r,i){let o=t.data[e];if(o===null)o=TA(t,e,n,r,i),qb()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Ub();o.injectorIndex=s===null?-1:s.injectorIndex}return za(o,!0),o}function TA(t,e,n,r,i){let o=fv(),s=pv(),a=s?o:o&&o.parent,u=t.data[e]=PA(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function g_(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function m_(t,e,n,r,i){let o=ci(),s=r&2;try{ir(-1),s&&e.length>nr&&h_(t,e,nr,!1),xt(s?2:0,i),n(r,i)}finally{ir(o),xt(s?3:1,i)}}function y_(t,e,n){if(tv(e)){let r=rt(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{rt(r)}}}function AA(t,e,n){hv()&&(UA(t,e,n,gt(n,e)),(n.flags&64)===64&&E_(t,e,n))}function SA(t,e,n=gt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function v_(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=__(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function __(t,e,n,r,i,o,s,a,u,c,l){let d=nr+r,h=d+i,f=MA(d,h),m=typeof c=="function"?c():c;return f[z]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:m,incompleteFirstPass:!1,ssrId:l}}function MA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:lr);return n}function xA(t,e,n,r){let o=r.get(CA,d_)||n===Nt.ShadowDom,s=t.selectRootElement(e,o);return RA(s),s}function RA(t){NA(t)}var NA=()=>null;function PA(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Lb()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function _y(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=et.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?wy(r,n,c,a,u):wy(r,n,c,a)}return r}function wy(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function OA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,c=null;for(let l=r;l<i;l++){let d=o[l],h=n?n.get(d):null,f=h?h.inputs:null,m=h?h.outputs:null;u=_y(0,d.inputs,l,u,f),c=_y(1,d.outputs,l,c,m);let b=u!==null&&s!==null&&!Gy(e)?XA(u,l,s):null;a.push(b)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}function FA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function kA(t,e,n,r,i,o,s,a){let u=gt(e,n),c=e.inputs,l;!a&&c!=null&&(l=c[r])?(eh(t,n,l,r,i),Ha(e)&&VA(n,e.index)):e.type&3?(r=FA(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function VA(t,e){let n=xn(e,t);n[O]&16||(n[O]|=64)}function LA(t,e,n,r){if(hv()){let i=r===null?null:{"":-1},o=HA(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&w_(t,e,n,s,i,a),i&&zA(n,r,i)}n.mergedAttrs=oo(n.mergedAttrs,n.attrs)}function w_(t,e,n,r,i,o){for(let c=0;c<r.length;c++)Jl(Ta(n,e),t,r[c].type);GA(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=g_(t,e,r.length,null);for(let c=0;c<r.length;c++){let l=r[c];n.mergedAttrs=oo(n.mergedAttrs,l.hostAttrs),WA(t,n,e,u,l),qA(u,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}OA(t,n,o)}function jA(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;BA(s)!=a&&s.push(a),s.push(n,r,o)}}function BA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function UA(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Ha(n)&&KA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ta(n,e),oi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],c=ni(e,t,a,n);if(oi(c,e),s!==null&&ZA(e,a-i,c,u,n,s),Tn(u)){let l=xn(n.index,e);l[sn]=ni(e,t,a,n)}}}function E_(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Wb();try{ir(o);for(let a=r;a<i;a++){let u=t.data[a],c=e[a];Zl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&$A(u,c)}}finally{ir(-1),Zl(s)}}function $A(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function HA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(gb(e,s.selectors,!1))if(r||(r=[]),Tn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;dd(t,e,u)}else r.unshift(s),dd(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function dd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function zA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new M(-301,!1);r.push(e[i],o)}}}function qA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Tn(e)&&(n[""]=t)}}function GA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function WA(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ti(i.type,!0)),s=new or(o,Tn(i),ne);t.blueprint[r]=s,n[r]=s,jA(t,e,r,g_(t,n,i.hostVars,lr),i)}function KA(t,e,n){let r=gt(e,t),i=v_(n),o=t[bn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Jd(t,Zd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function QA(t,e,n,r,i,o){let s=gt(t,e);YA(e[ke],s,o,t.value,n,r,i)}function YA(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Md(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function ZA(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],c=s[a++],l=s[a++],d=s[a++];p_(r,n,u,c,l,d)}}function XA(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function JA(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function I_(t,e){let n=t.contentQueries;if(n!==null){let r=rt(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];mv(o),a.contentQueries(2,e[s],s)}}}finally{rt(r)}}}function Jd(t,e){return t[ao]?t[uy][Et]=e:t[ao]=e,t[uy]=e,e}function hd(t,e,n){mv(0);let r=rt(null);try{e(t,n)}finally{rt(r)}}function eS(t){return t[so]||(t[so]=[])}function tS(t){return t.cleanup||(t.cleanup=[])}function D_(t,e){let n=t[ei],r=n?n.get(Ft,null):null;r&&r.handleError(e)}function eh(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],c=e[s],l=t.data[s];p_(l,c,r,a,u,i)}}function nS(t,e,n){let r=av(e,t);zT(t[ke],r,n)}var rS=100;function iS(t,e=!0){let n=t[bn],r=n.rendererFactory,i=!1;i||r.begin?.();try{oS(t)}catch(o){throw e&&D_(t,o),o}finally{i||(r.end?.(),n.inlineEffectRunner?.flush())}}function oS(t){fd(t,0);let e=0;for(;lv(t);){if(e===rS)throw new M(103,!1);e++,fd(t,1)}}function sS(t,e,n,r){let i=e[O];if((i&256)===256)return;let o=!1;!o&&e[bn].inlineEffectRunner?.flush(),kd(e);let s=null,a=null;!o&&aS(t)&&(a=_A(e),s=Cm(a));try{cv(e),Hb(t.bindingStartIndex),n!==null&&m_(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let d=t.preOrderCheckHooks;d!==null&&pa(e,d,null)}else{let d=t.preOrderHooks;d!==null&&ga(e,d,0,null),Nl(e,0)}if(uS(e),C_(e,0),t.contentQueries!==null&&I_(t,e),!o)if(u){let d=t.contentCheckHooks;d!==null&&pa(e,d)}else{let d=t.contentHooks;d!==null&&ga(e,d,1),Nl(e,1)}bA(t,e);let c=t.components;c!==null&&T_(e,c,0);let l=t.viewQuery;if(l!==null&&hd(2,l,r),!o)if(u){let d=t.viewCheckHooks;d!==null&&pa(e,d)}else{let d=t.viewHooks;d!==null&&ga(e,d,2),Nl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Rl]){for(let d of e[Rl])d();e[Rl]=null}o||(e[O]&=-73)}catch(u){throw uo(e),u}finally{a!==null&&(bm(a,s),EA(a)),Vd()}}function aS(t){return t.type!==2}function C_(t,e){for(let n=a_(t);n!==null;n=u_(n))for(let r=pt;r<n.length;r++){let i=n[r];b_(i,e)}}function uS(t){for(let e=a_(t);e!==null;e=u_(e)){if(!(e[O]&Pd.HasTransplantedViews))continue;let n=e[Da];for(let r=0;r<n.length;r++){let i=n[r],o=i[Fe];Pb(i)}}}function cS(t,e,n){let r=xn(e,t);b_(r,n)}function b_(t,e){Od(t)&&fd(t,e)}function fd(t,e){let r=t[z],i=t[O],o=t[tr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&hl(o)),o&&(o.dirty=!1),t[O]&=-9217,s)sS(r,t,r.template,t[sn]);else if(i&8192){C_(t,1);let a=r.components;a!==null&&T_(t,a,1)}}function T_(t,e,n){for(let r=0;r<e.length;r++)cS(t,e[r],n)}function th(t){for(t[bn].changeDetectionScheduler?.notify();t;){t[O]|=64;let e=co(t);if(Cb(t)&&!e)return t;t=e}return null}var si=class{get rootNodes(){let e=this._lView,n=e[z];return Na(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[sn]}set context(e){this._lView[sn]=e}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Fe];if(cn(e)){let n=e[Ia],r=n?n.indexOf(this):-1;r>-1&&(od(e,r),Aa(n,r))}this._attachedToViewContainer=!1}e_(this._lView[z],this._lView)}onDestroy(e){dv(this._lView,e)}markForCheck(){th(this._cdRefInjectingView||this._lView)}detach(){this._lView[O]&=-129}reattach(){Yl(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,iS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Xv(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=e,Yl(this._lView)}},vo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=lS;let t=e;return t})();function lS(t){return dS(Dt(),le(),(t&16)===16)}function dS(t,e,n){if(Ha(t)&&!n){let r=xn(t.index,e);return new si(r,r)}else if(t.type&47){let r=e[Pt];return new si(r,e)}return null}var A_=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=hS,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),pd=class extends A_{constructor(e){super(),this._lView=e}onDestroy(e){return dv(this._lView,e),()=>Ob(this._lView,e)}};function hS(){return new pd(le())}var Ey=new Set;function Ya(t){Ey.has(t)||(Ey.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var gd=class extends ot{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=jl(o),i&&(i=jl(i)),s&&(s=jl(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof _e&&e.add(a),a}};function jl(t){return e=>{setTimeout(t,void 0,e)}}var ge=gd;function Iy(...t){}function fS(){let t=typeof st.requestAnimationFrame=="function",e=st[t?"requestAnimationFrame":"setTimeout"],n=st[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ee=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ge(!1),this.onMicrotaskEmpty=new ge(!1),this.onStable=new ge(!1),this.onError=new ge(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=fS().nativeRequestAnimationFrame,mS(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new M(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,pS,Iy,Iy);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},pS={};function nh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gS(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(st,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,md(t),t.isCheckStableRunning=!0,nh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),md(t))}function mS(t){let e=()=>{gS(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(yS(a))return n.invokeTask(i,o,s,a);try{return Dy(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Cy(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Dy(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Cy(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,md(t),nh(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function md(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Dy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cy(t){t._nesting--,nh(t)}var yd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ge,this.onMicrotaskEmpty=new ge,this.onStable=new ge,this.onError=new ge}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function yS(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function vS(t="zone.js",e){return t==="noop"?new yd:t==="zone.js"?new ee(e):t}var Yr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Yr||{}),_S={destroy(){}};function rh(t,e){!e&&OT(rh);let n=e?.injector??y(Ct);if(!VT(n))return _S;Ya("NgAfterNextRender");let r=n.get(ih),i=r.handler??=new _d,o=e?.phase??Yr.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get(A_).onDestroy(s),u=new vd(n,o,()=>{s(),t()});return i.register(u),{destroy:s}}var vd=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(ee),this.errorHandler=e.get(Ft,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},_d=class{constructor(){this.executingCallbacks=!1,this.buckets={[Yr.EarlyRead]:new Set,[Yr.Write]:new Set,[Yr.MixedReadWrite]:new Set,[Yr.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){let e=!1;this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let r of n)e=!0,r.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);return this.deferredCallbacks.clear(),e}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},ih=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let o of r)o();return!!this.handler?.execute()||r.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function wS(t,e){let n=xn(e,t),r=n[z];ES(r,n);let i=n[un];i!==null&&n[Ea]===null&&(n[Ea]=Qd(i,n[ei])),S_(r,n,n[sn])}function ES(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function S_(t,e,n){kd(e);try{let r=t.viewQuery;r!==null&&hd(1,r,n);let i=t.template;i!==null&&m_(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&I_(t,e),t.staticViewQueries&&hd(2,t.viewQuery,n);let o=t.components;o!==null&&IS(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[O]&=-5,Vd()}}function IS(t,e){for(let n=0;n<e.length;n++)wS(t,e[n])}function wd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Xm(i,a);else if(o==2){let u=a,c=e[++s];r=Xm(r,u+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Pa=class extends Qa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Cn(e);return new ai(n,this.ngModule)}};function by(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function DS(t){let e=t.toLowerCase();return e==="svg"?Sb:e==="math"?Mb:null}var Ed=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ba(r);let i=this.injector.get(e,Vl,r);return i!==Vl||n===Vl?i:this.parentInjector.get(e,n,r)}},ai=class extends Ra{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=by(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return by(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=_b(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let o=i instanceof qe?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new Ed(e,o):e,a=s.get(ho,null);if(a===null)throw new M(407,!1);let u=s.get(yA,null),c=s.get(ih,null),l=s.get(ud,null),d={rendererFactory:a,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:c,changeDetectionScheduler:l},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",m=r?xA(h,r,this.componentDef.encapsulation,s):Zv(h,f,DS(f)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let _=null;m!==null&&(_=Qd(m,s,!0));let w=__(0,null,null,1,0,null,null,null,null,null,null),B=Zd(null,w,null,b,null,null,d,h,s,null,_);kd(B);let re,U;try{let he=this.componentDef,Me,C=null;he.findHostDirectiveDefs?(Me=[],C=new Map,he.findHostDirectiveDefs(he,Me,C),Me.push(he)):Me=[he];let F=CS(B,m),J=bS(F,m,he,Me,B,d,h);U=uv(w,nr),m&&SS(h,he,m,r),n!==void 0&&MS(U,this.ngContentSelectors,n),re=AS(J,he,Me,C,B,[xS]),S_(w,B,null)}finally{Vd()}return new Id(this.componentType,re,Yd(U,B),B,U)}},Id=class extends cd{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new si(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;eh(o[z],o,i,e,n),this.previousInputValues.set(e,n);let s=xn(this._tNode.index,o);th(s)}}get injector(){return new er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function CS(t,e){let n=t[z],r=nr;return t[r]=e,Xd(n,r,2,"#host",null)}function bS(t,e,n,r,i,o,s){let a=i[z];TS(r,t,e,s);let u=null;e!==null&&(u=Qd(e,i[ei]));let c=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Zd(i,v_(n),null,l,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&dd(a,t,r.length-1),Jd(i,d),i[t.index]=d}function TS(t,e,n,r){for(let i of t)e.mergedAttrs=oo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(wd(e,e.mergedAttrs,!0),n!==null&&o_(r,n,e))}function AS(t,e,n,r,i,o){let s=Dt(),a=i[z],u=gt(s,i);w_(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,h=ni(i,a,d,s);oi(h,i)}E_(a,i,s),u&&oi(u,i);let c=ni(i,a,s.directiveStart+s.componentOffset,s);if(t[sn]=i[sn]=c,o!==null)for(let l of o)l(c,e);return y_(a,s,t),c}function SS(t,e,n,r){if(r)Kl(t,n,["ng-version","17.1.2"]);else{let{attrs:i,classes:o}=wb(e.selectors[0]);i&&Kl(t,n,i),o&&o.length>0&&i_(t,n,o.join(" "))}}function MS(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function xS(){let t=Dt();Tv(le()[z],t)}function RS(t){return Object.getPrototypeOf(t.prototype).constructor}function jt(t){let e=RS(t.type),n=!0,r=[t];for(;e;){let i;if(Tn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new M(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=da(t.inputs),s.inputTransforms=da(t.inputTransforms),s.declaredInputs=da(t.declaredInputs),s.outputs=da(t.outputs);let a=i.hostBindings;a&&kS(t,a);let u=i.viewQuery,c=i.contentQueries;if(u&&OS(t,u),c&&FS(t,c),NS(t,i),$C(t.outputs,i.outputs),Tn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===jt&&(n=!1)}}e=Object.getPrototypeOf(e)}PS(r)}function NS(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function PS(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=oo(i.hostAttrs,n=oo(n,i.hostAttrs))}}function da(t){return t===Jr?{}:t===ft?[]:t}function OS(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function FS(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function kS(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var nU=new RegExp(`^(\\d+)*(${dA}|${lA})*(.*)`);var VS=()=>null;function Ty(t,e){return VS(t,e)}function Ay(t,e){return!e||e.firstChild===null||Qv(t)}function LS(t,e,n,r=!0){let i=e[z];if(KT(i,e,t,n),r){let s=sd(n,t),a=e[ke],u=Gd(a,t[rr]);u!==null&&GT(i,t[It],a,e,u,s)}let o=e[Ea];o!==null&&o.firstChild!==null&&(o.firstChild=null)}var Za=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jS;let t=e;return t})();function jS(){let t=Dt();return US(t,le())}var BS=Za,M_=class extends BS{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Yd(this._hostTNode,this._hostLView)}get injector(){return new er(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ld(this._hostTNode,this._hostLView);if(Sv(e)){let n=ba(e,this._hostLView),r=Ca(e),i=n[z].data[r+8];return new er(i,n)}else return new er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Sy(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ty(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ay(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!fT(e),a;if(s)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let u=s?e:new ai(Cn(e)),c=r||this.parentInjector;if(!o&&u.ngModule==null){let b=(s?c:this.parentInjector).get(qe,null);b&&(o=b)}let l=Cn(u.componentType??{}),d=Ty(this._lContainer,l?.id??null),h=d?.firstChild??null,f=u.create(c,i,h,o);return this.insertImpl(f.hostView,a,Ay(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Nb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Fe],c=new M_(u,u[It],u[Fe]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return LS(s,i,o,r),e.attachToViewContainerRef(),Lv(Bl(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Sy(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=od(this._lContainer,n);r&&(Aa(Bl(this._lContainer),n),e_(r[z],r))}detach(e){let n=this._adjustIndex(e,-1),r=od(this._lContainer,n);return r&&Aa(Bl(this._lContainer),n)!=null?new si(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Sy(t){return t[Ia]}function Bl(t){return t[Ia]||(t[Ia]=[])}function US(t,e){let n,r=e[t.index];return cn(r)?n=r:(n=JA(r,e,null,t),e[t.index]=n,Jd(e,n)),HS(n,e,t,r),new M_(n,t,e)}function $S(t,e){let n=t[ke],r=n.createComment(""),i=gt(e,t),o=Gd(n,i);return xa(n,o,r,tA(n,i),!1),r}var HS=zS;function zS(t,e,n,r){if(t[rr])return;let i;n.type&8?i=Ot(r):i=$S(e,n),t[rr]=i}function x_(t,e,n){return t[e]=n}function sr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function R_(t,e,n,r){let i=sr(t,e,n);return sr(t,e+1,r)||i}function qS(t,e,n,r,i){let o=R_(t,e,n,r);return sr(t,e+2,i)||o}function _o(t,e,n,r){let i=le(),o=Fd();if(sr(i,o,e)){let s=kt(),a=Iv();QA(a,i,t,e,n,r)}return _o}function GS(t,e,n,r){return sr(t,Fd(),n)?e+Md(n)+r:lr}function ha(t,e){return t<<17|e<<2}function ar(t){return t>>17&32767}function WS(t){return(t&2)==2}function KS(t,e){return t&131071|e<<17}function Dd(t){return t|2}function ui(t){return(t&131068)>>2}function Ul(t,e){return t&-131069|e<<2}function QS(t){return(t&1)===1}function Cd(t){return t|1}function YS(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ar(s),u=ui(s);t[r]=n;let c=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||yo(d,l)>0)&&(c=!0)}else l=n;if(i)if(u!==0){let h=ar(t[a+1]);t[r+1]=ha(h,a),h!==0&&(t[h+1]=Ul(t[h+1],r)),t[a+1]=KS(t[a+1],r)}else t[r+1]=ha(a,0),a!==0&&(t[a+1]=Ul(t[a+1],r)),a=r;else t[r+1]=ha(u,0),a===0?a=r:t[u+1]=Ul(t[u+1],r),u=r;c&&(t[r+1]=Dd(t[r+1])),My(t,l,r,!0),My(t,l,r,!1),ZS(e,l,t,r,o),s=ha(a,u),o?e.classBindings=s:e.styleBindings=s}function ZS(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&yo(o,e)>=0&&(n[r+1]=Cd(n[r+1]))}function My(t,e,n,r){let i=t[n+1],o=e===null,s=r?ar(i):ui(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],c=t[s+1];XS(u,e)&&(a=!0,t[s+1]=r?Cd(c):Dd(c)),s=r?ar(c):ui(c)}a&&(t[n+1]=r?Dd(i):Cd(i))}function XS(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?yo(t,e)>=0:!1}function bt(t,e,n){let r=le(),i=Fd();if(sr(r,i,e)){let o=kt(),s=Iv();kA(o,s,r,t,e,r[ke],n,!1)}return bt}function xy(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";eh(t,n,o[s],s,r)}function Nn(t,e){return JS(t,e,null,!0),Nn}function JS(t,e,n,r){let i=le(),o=kt(),s=zb(2);if(o.firstUpdatePass&&tM(o,t,s,r),e!==lr&&sr(i,s,e)){let a=o.data[ci()];sM(o,a,i,i[ke],t,i[s+1]=aM(e,n),r,s)}}function eM(t,e){return e>=t.expandoStartIndex}function tM(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ci()],s=eM(t,n);uM(o,r)&&e===null&&!s&&(e=!1),e=nM(i,o,e,r),YS(i,o,e,n,s,r)}}function nM(t,e,n,r){let i=Kb(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=$l(null,t,e,n,r),n=fo(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=$l(i,t,e,n,r),o===null){let u=rM(t,e,r);u!==void 0&&Array.isArray(u)&&(u=$l(null,t,e,u[1],r),u=fo(u,e.attrs,r),iM(t,e,r,u))}else o=oM(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function rM(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ui(r)!==0)return t[ar(r)]}function iM(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ar(i)]=r}function oM(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=fo(r,s,n)}return fo(r,e.attrs,n)}function $l(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=fo(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function fo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),gT(t,s,n?!0:e[++o]))}return t===void 0?null:t}function sM(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,c=u[a+1],l=QS(c)?Ry(u,e,n,i,ui(c),s):void 0;if(!Oa(l)){Oa(o)||WS(c)&&(o=Ry(u,null,n,i,a,s));let d=av(ci(),n);uA(r,s,d,i,o)}}function Ry(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=l===null,h=n[i+1];h===lr&&(h=d?ft:void 0);let f=d?Ol(h,r):l===r?h:void 0;if(c&&!Oa(f)&&(f=Ol(u,r)),Oa(f)&&(a=f,s))return a;let m=t[i+1];i=s?ar(m):ui(m)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Ol(u,r))}return a}function Oa(t){return t!==void 0}function aM(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Je(Kd(t)))),t}function uM(t,e){return(t.flags&(e?8:16))!==0}function cM(t,e,n,r,i,o){let s=e.consts,a=ly(s,i),u=Xd(e,t,2,r,a);return LA(e,n,u,ly(s,o)),u.attrs!==null&&wd(u,u.attrs,!1),u.mergedAttrs!==null&&wd(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function We(t,e,n,r){let i=le(),o=kt(),s=nr+t,a=i[ke],u=o.firstCreatePass?cM(s,o,i,e,n,r):o.data[s],c=lM(o,i,u,a,e,t);i[s]=c;let l=nv(u);return za(u,!0),o_(a,c,u),(u.flags&32)!==32&&Cv()&&n_(o,i,c,u),Fb()===0&&oi(c,i),kb(),l&&(AA(o,i,u),y_(o,u,i)),r!==null&&SA(i,u),We}function Ie(){let t=Dt();pv()?$b():(t=t.parent,za(t,!1));let e=t;jb(e)&&Bb(),Vb();let n=kt();return n.firstCreatePass&&(Tv(n,t),tv(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&eT(e)&&xy(n,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&tT(e)&&xy(n,e,le(),e.stylesWithoutHost,!1),Ie}function Pn(t,e,n,r){return We(t,e,n,r),Ie(),Pn}var lM=(t,e,n,r,i,o)=>(bv(!0),Zv(r,i,Yb()));var Fa="en-US";var dM=Fa;function hM(t){YC(t,"Expected localeId to be defined"),typeof t=="string"&&(dM=t.toLowerCase().replace(/_/g,"-"))}function dr(t){return!!t&&typeof t.then=="function"}function N_(t){return!!t&&typeof t.subscribe=="function"}function Bt(t,e,n,r){let i=le(),o=kt(),s=Dt();return pM(o,i,i[ke],s,t,e,r),Bt}function fM(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[so],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function pM(t,e,n,r,i,o,s){let a=nv(r),c=t.firstCreatePass&&tS(t),l=e[sn],d=eS(e),h=!0;if(r.type&3||s){let b=gt(r,e),_=s?s(b):b,w=d.length,B=s?U=>s(Ot(U[r.index])):r.index,re=null;if(!s&&a&&(re=fM(t,e,i,r.index)),re!==null){let U=re.__ngLastListenerFn__||re;U.__ngNextListenerFn__=o,re.__ngLastListenerFn__=o,h=!1}else{o=Py(r,e,l,o,!1);let U=n.listen(_,i,o);d.push(o,U),c&&c.push(i,B,w,w+1)}}else o=Py(r,e,l,o,!1);let f=r.outputs,m;if(h&&f!==null&&(m=f[i])){let b=m.length;if(b)for(let _=0;_<b;_+=2){let w=m[_],B=m[_+1],he=e[w][B].subscribe(o),Me=d.length;d.push(o,he),c&&c.push(i,r.index,Me,-(Me+1))}}}function Ny(t,e,n,r){try{return xt(6,e,n),n(r)!==!1}catch(i){return D_(t,i),!1}finally{xt(7,e,n)}}function Py(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?xn(t.index,e):e;th(a);let u=Ny(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=Ny(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function Tt(t,e=""){let n=le(),r=kt(),i=t+nr,o=r.firstCreatePass?Xd(r,i,1,e,null):r.data[i],s=gM(r,n,o,e,t);n[i]=s,Cv()&&n_(r,n,s,o),za(o,!1)}var gM=(t,e,n,r,i)=>(bv(!0),HT(e[ke],r));function Xa(t,e,n){let r=le(),i=GS(r,t,e,n);return i!==lr&&nS(r,ci(),i),Xa}function mM(t,e,n){let r=kt();if(r.firstCreatePass){let i=Tn(t);bd(n,r.data,r.blueprint,i,!0),bd(e,r.data,r.blueprint,i,!1)}}function bd(t,e,n,r,i){if(t=ze(t),Array.isArray(t))for(let o=0;o<t.length;o++)bd(t[o],e,n,r,i);else{let o=kt(),s=le(),a=Dt(),u=ii(t)?t:ze(t.provide),c=qv(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(ii(t)||!t.multi){let f=new or(c,i,ne),m=zl(u,e,i?l:l+h,d);m===-1?(Jl(Ta(a,s),o,u),Hl(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[m]=f,s[m]=f)}else{let f=zl(u,e,l+h,d),m=zl(u,e,l,l+h),b=f>=0&&n[f],_=m>=0&&n[m];if(i&&!_||!i&&!b){Jl(Ta(a,s),o,u);let w=_M(i?vM:yM,n.length,i,r,c);!i&&_&&(n[m].providerFactory=w),Hl(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),s.push(w)}else{let w=P_(n[i?m:f],c,!i&&r);Hl(o,t,f>-1?f:m,w)}!i&&r&&_&&n[m].componentProviders++}}}function Hl(t,e,n,r){let i=ii(e),o=AT(e);if(i||o){let u=(o?ze(e.useClass):e).prototype.ngOnDestroy;if(u){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=c.indexOf(n);l===-1?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function P_(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zl(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function yM(t,e,n,r){return Td(this.multi,[])}function vM(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ni(n,n[z],this.providerFactory.index,r);o=a.slice(0,s),Td(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Td(i,o);return o}function Td(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function _M(t,e,n,r,i){let o=new or(t,n,ne);return o.multi=[],o.index=e,o.componentProviders=0,P_(o,i,r&&!n),o}function li(t,e=[]){return n=>{n.providersResolver=(r,i)=>mM(r,i?i(t):t,e)}}var An=class{},po=class{};var ka=class extends An{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Pa(this);let i=Yy(e);this._bootstrapComponents=Kv(i.bootstrap),this._r3Injector=Gv(e,n,[{provide:An,useValue:this},{provide:Qa,useValue:this.componentFactoryResolver},...r],Je(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Va=class extends po{constructor(e){super(),this.moduleType=e}create(e){return new ka(this.moduleType,e,[])}};function wM(t,e,n){return new ka(t,e,n)}var Ad=class extends An{constructor(e){super(),this.componentFactoryResolver=new Pa(this),this.instance=null;let n=new lo([...e.providers,{provide:An,useValue:this},{provide:Qa,useValue:this.componentFactoryResolver}],e.parent||$d(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ja(t,e,n=null){return new Ad({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var EM=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=$v(!1,r.type),o=i.length>0?Ja([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=A({token:e,providedIn:"environment",factory:()=>new e(T(qe))});let t=e;return t})();function O_(t){Ya("NgStandalone"),t.getStandaloneInjector=e=>e.get(EM).getOrCreateStandaloneInjector(t)}function oh(t,e,n,r,i){return IM(le(),gv(),t,e,n,r,i)}function F_(t,e,n,r,i,o){return DM(le(),gv(),t,e,n,r,i,o)}function k_(t,e){let n=t[e];return n===lr?void 0:n}function IM(t,e,n,r,i,o,s){let a=e+n;return R_(t,a,i,o)?x_(t,a+2,s?r.call(s,i,o):r(i,o)):k_(t,a+2)}function DM(t,e,n,r,i,o,s,a){let u=e+n;return qS(t,u,i,o,s)?x_(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):k_(t,u+3)}var fa=null;function CM(t){fa!==null&&(t.defaultEncapsulation!==fa.defaultEncapsulation||t.preserveWhitespaces!==fa.preserveWhitespaces)||(fa=t)}var eu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Sd=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},tu=(()=>{let e=class e{compileModuleSync(r){return new Va(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=Yy(r),s=Kv(o.declarations).reduce((a,u)=>{let c=Cn(u);return c&&a.push(new ai(c)),a},[]);return new Sd(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bM=new S("");var hr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sh=new S(""),wo=new S(""),nu=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ah||(TM(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(T(ee),T(ru),T(wo))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),ru=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return ah?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function TM(t){ah=t}var ah,iu=new S(""),V_=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=y(iu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(dr(s))r.push(s);else if(N_(s)){let a=new Promise((u,c)=>{s.subscribe({complete:u,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ou=new S("");function AM(t,e,n){let r=new Va(n);return Promise.resolve(r)}function SM(){Am(()=>{throw new M(600,!1)})}function MM(t){return t.isBoundToModule}function xM(t,e,n){try{let r=n();return dr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function L_(t,e){return Array.isArray(e)?e.reduce(L_,t):E(E({},t),e)}var fr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=y(l_),this.afterRenderEffectManager=y(ih),this.componentTypes=[],this.components=[],this.isStable=y(hr).hasPendingTasks.pipe(k(r=>!r)),this._injector=y(qe)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Ra;if(!this._injector.get(V_).done){let f=!o&&Qy(r),m=!1;throw new M(405,m)}let a;o?a=r:a=this._injector.get(Qa).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=MM(a)?void 0:this._injector.get(An),c=i||a.selector,l=a.create(Ct.NULL,[],c,u),d=l.location.nativeElement,h=l.injector.get(sh,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),va(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new M(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{try{let r=this.afterRenderEffectManager.execute()}catch(r){this.internalErrorHandler(r)}this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;va(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(ou,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>va(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new M(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function va(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Oy(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var RM=(()=>{let e=class e{constructor(){this.zone=y(ee),this.applicationRef=y(fr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NM(t){return[{provide:ee,useFactory:t},{provide:ri,multi:!0,useFactory:()=>{let e=y(RM,{optional:!0});return()=>e.initialize()}},{provide:ri,multi:!0,useFactory:()=>{let e=y(FM);return()=>{e.initialize()}}},{provide:l_,useFactory:PM}]}function PM(){let t=y(ee),e=y(Ft);return n=>t.runOutsideAngular(()=>e.handleError(n))}function OM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var FM=(()=>{let e=class e{constructor(){this.subscription=new _e,this.initialized=!1,this.zone=y(ee),this.pendingTasks=y(hr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ee.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ee.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kM(){return typeof $localize<"u"&&$localize.locale||Fa}var uh=new S("",{providedIn:"root",factory:()=>y(uh,L.Optional|L.SkipSelf)||kM()});var j_=new S(""),B_=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=vS(i?.ngZone,OM({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=wM(r.moduleType,this.injector,NM(()=>o)),a=s.injector.get(Ft,null);return o.runOutsideAngular(()=>{let u=o.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{va(this._modules,s),u.unsubscribe()})}),xM(a,o,()=>{let u=s.injector.get(V_);return u.runInitializers(),u.donePromise.then(()=>{let c=s.injector.get(uh,Fa);return hM(c||Fa),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=L_({},i);return AM(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(fr);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new M(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(j_,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(T(Ct))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),ro=null,U_=new S("");function VM(t){if(ro&&!ro.get(U_,!1))throw new M(400,!1);SM(),ro=t;let e=t.get(B_);return BM(t),e}function ch(t,e,n=[]){let r=`Platform: ${e}`,i=new S(r);return(o=[])=>{let s=$_();if(!s||s.injector.get(U_,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):VM(LM(a,r))}return jM(i)}}function LM(t=[],e){return Ct.create({name:e,providers:[{provide:Ga,useValue:"platform"},{provide:j_,useValue:new Set([()=>ro=null])},...t]})}function jM(t){let e=$_();if(!e)throw new M(401,!1);return e}function $_(){return ro?.get(B_)??null}function BM(t){t.get(Hd,null)?.forEach(n=>n())}var H_=ch(null,"core",[]),z_=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(T(fr))},e.\u0275mod=Ne({type:e}),e.\u0275inj=Re({});let t=e;return t})();function su(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function q_(t){let e=Cn(t);if(!e)return null;let n=new ai(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Q_=null;function $t(){return Q_}function Y_(t){Q_??=t}var au=class{},Le=new S(""),ph=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>y(HM),providedIn:"platform"});let t=e;return t})(),Z_=new S(""),HM=(()=>{let e=class e extends ph{constructor(){super(),this._doc=y(Le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $t().getBaseHref(this._doc)}onPopState(r){let i=$t().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=$t().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function gh(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function G_(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ln(t){return t&&t[0]!=="?"?"?"+t:t}var pr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>y(mh),providedIn:"root"});let t=e;return t})(),X_=new S(""),mh=(()=>{let e=class e extends pr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??y(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return gh(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ln(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ln(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ln(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(T(ph),T(X_,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),J_=(()=>{let e=class e extends pr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=gh(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ln(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ln(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(T(ph),T(X_,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),hi=(()=>{let e=class e{constructor(r){this._subject=new ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=GM(G_(W_(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ln(i))}normalize(r){return e.stripTrailingSlash(qM(this._basePath,W_(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ln(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ln(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=ln,e.joinWithSlash=gh,e.stripTrailingSlash=G_,e.\u0275fac=function(i){return new(i||e)(T(pr))},e.\u0275prov=A({token:e,factory:()=>zM(),providedIn:"root"});let t=e;return t})();function zM(){return new hi(T(pr))}function qM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function W_(t){return t.replace(/\/index.html$/,"")}function GM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function uu(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var lh=/\s+/,K_=[],ew=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=K_,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(lh):K_}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(lh):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(lh).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(ne(Rn),ne(cr))},e.\u0275dir=Ve({type:e,selectors:[["","ngClass",""]],inputs:{klass:[et.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var tw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ne({type:e}),e.\u0275inj=Re({});let t=e;return t})(),yh="browser",WM="server";function KM(t){return t===yh}function vh(t){return t===WM}var nw=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>KM(y(Lt))?new dh(y(Le),window):new hh});let t=e;return t})(),dh=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=QM(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function QM(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var hh=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},di=class{};var Io=class{},lu=class{},gr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var wh=class{encodeKey(e){return iw(e)}encodeValue(e){return iw(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function XM(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var JM=/%(\d[a-f0-9])/gi,ex={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iw(t){return encodeURIComponent(t).replace(JM,(e,n)=>ex[n]??e)}function cu(t){return`${t}`}var On=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new wh,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=XM(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(cu):[cu(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(cu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(cu(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Eh=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function tx(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ow(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function sw(t){return typeof Blob<"u"&&t instanceof Blob}function aw(t){return typeof FormData<"u"&&t instanceof FormData}function nx(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Eo=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(tx(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new gr,this.context??=new Eh,!this.params)this.params=new On,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:ow(this.body)||sw(this.body)||aw(this.body)||nx(this.body)||typeof this.body=="string"?this.body:this.body instanceof On?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||aw(this.body)?null:sw(this.body)?this.body.type||null:ow(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof On?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params,l=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new t(n,r,o,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:s})}},fi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(fi||{}),Do=class{constructor(e,n=fu.Ok,r="OK"){this.headers=e.headers||new gr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ih=class t extends Do{constructor(e={}){super(e),this.type=fi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},du=class t extends Do{constructor(e={}){super(e),this.type=fi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},hu=class extends Do{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},fu=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(fu||{});function _h(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Dh=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Eo)s=r;else{let c;o.headers instanceof gr?c=o.headers:c=new gr(o.headers);let l;o.params&&(o.params instanceof On?l=o.params:l=new On({fromObject:o.params})),s=new Eo(r,i,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=R(s).pipe(rn(c=>this.handler.handle(c)));if(r instanceof Eo||o.observe==="events")return a;let u=a.pipe(Ze(c=>c instanceof du));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(k(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return u.pipe(k(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return u.pipe(k(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return u.pipe(k(c=>c.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new On().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,_h(o,i))}post(r,i,o={}){return this.request("POST",r,_h(o,i))}put(r,i,o={}){return this.request("PUT",r,_h(o,i))}};e.\u0275fac=function(i){return new(i||e)(T(Io))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function dw(t,e){return e(t)}function rx(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function ix(t,e,n){return(r,i)=>Vt(n,()=>e(r,o=>t(o,i)))}var ox=new S(""),Ch=new S(""),sx=new S(""),ax=new S("");function ux(){let t=null;return(e,n)=>{t===null&&(t=(y(ox,{optional:!0})??[]).reduceRight(rx,dw));let r=y(hr),i=r.add();return t(e,n).pipe(En(()=>r.remove(i)))}}var uw=(()=>{let e=class e extends Io{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=y(hr);let o=y(ax,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Ch),...this.injector.get(sx,[])]));this.chain=o.reduceRight((s,a)=>ix(s,a,this.injector),dw)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(En(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(T(lu),T(qe))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();var cx=/^\)\]\}',?\n/;function lx(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var cw=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new M(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?oe(i.\u0275loadImpl()):R(null)).pipe(Xe(()=>new W(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((_,w)=>a.setRequestHeader(_,w.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let _=r.detectContentTypeHeader();_!==null&&a.setRequestHeader("Content-Type",_)}if(r.responseType){let _=r.responseType.toLowerCase();a.responseType=_!=="json"?_:"text"}let u=r.serializeBody(),c=null,l=()=>{if(c!==null)return c;let _=a.statusText||"OK",w=new gr(a.getAllResponseHeaders()),B=lx(a)||r.url;return c=new Ih({headers:w,status:a.status,statusText:_,url:B}),c},d=()=>{let{headers:_,status:w,statusText:B,url:re}=l(),U=null;w!==fu.NoContent&&(U=typeof a.response>"u"?a.responseText:a.response),w===0&&(w=U?fu.Ok:0);let he=w>=200&&w<300;if(r.responseType==="json"&&typeof U=="string"){let Me=U;U=U.replace(cx,"");try{U=U!==""?JSON.parse(U):null}catch(C){U=Me,he&&(he=!1,U={error:C,text:U})}}he?(s.next(new du({body:U,headers:_,status:w,statusText:B,url:re||void 0})),s.complete()):s.error(new hu({error:U,headers:_,status:w,statusText:B,url:re||void 0}))},h=_=>{let{url:w}=l(),B=new hu({error:_,status:a.status||0,statusText:a.statusText||"Unknown Error",url:w||void 0});s.error(B)},f=!1,m=_=>{f||(s.next(l()),f=!0);let w={type:fi.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),r.responseType==="text"&&a.responseText&&(w.partialText=a.responseText),s.next(w)},b=_=>{let w={type:fi.UploadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),s.next(w)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",m),u!==null&&a.upload&&a.upload.addEventListener("progress",b)),a.send(u),s.next({type:fi.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",m),u!==null&&a.upload&&a.upload.removeEventListener("progress",b)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(T(di))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),hw=new S(""),dx="XSRF-TOKEN",hx=new S("",{providedIn:"root",factory:()=>dx}),fx="X-XSRF-TOKEN",px=new S("",{providedIn:"root",factory:()=>fx}),pu=class{},gx=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=uu(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(T(Le),T(Lt),T(hx))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function mx(t,e){let n=t.url.toLowerCase();if(!y(hw)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=y(pu).getToken(),i=y(px);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var fw=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(fw||{});function yx(t,e){return{\u0275kind:t,\u0275providers:e}}function vx(...t){let e=[Dh,cw,uw,{provide:Io,useExisting:uw},{provide:lu,useExisting:cw},{provide:Ch,useValue:mx,multi:!0},{provide:hw,useValue:!0},{provide:pu,useClass:gx}];for(let n of t)e.push(...n.\u0275providers);return qa(e)}var lw=new S("");function _x(){return yx(fw.LegacyInterceptors,[{provide:lw,useFactory:ux},{provide:Ch,useExisting:lw,multi:!0}])}var pw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ne({type:e}),e.\u0275inj=Re({providers:[vx(_x())]});let t=e;return t})();var Ah=class extends au{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Sh=class t extends Ah{static makeCurrent(){Y_(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Ex();return n==null?null:Ix(n)}resetBaseElement(){Co=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return uu(document.cookie,e)}},Co=null;function Ex(){return Co=Co||document.querySelector("base"),Co?Co.getAttribute("href"):null}function Ix(t){return new URL(t,document.baseURI).pathname}var Mh=class{addToWindow(e){st.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new M(5103,!1);return o},st.getAllAngularTestabilities=()=>e.getAllTestabilities(),st.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=st.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};st.frameworkStabilizers||(st.frameworkStabilizers=[]),st.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?$t().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},Dx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),xh=new S(""),vw=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new M(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(T(xh),T(ee))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),gu=class{constructor(e){this._doc=e}},bh="ng-app-id",_w=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vh(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${bh}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(bh),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(bh,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(T(Le),T(Wa),T(zd,8),T(Lt))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Th={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Nh=/%COMP%/g,ww="%COMP%",Cx=`_nghost-${ww}`,bx=`_ngcontent-${ww}`,Tx=!0,Ax=new S("",{providedIn:"root",factory:()=>Tx});function Sx(t){return bx.replace(Nh,t)}function Mx(t){return Cx.replace(Nh,t)}function Ew(t,e){return e.map(n=>n.replace(Nh,t))}var gw=(()=>{let e=class e{constructor(r,i,o,s,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=vh(u),this.defaultRenderer=new bo(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Nt.ShadowDom&&(i=Z(E({},i),{encapsulation:Nt.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof mu?o.applyToHost(r):o instanceof To&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Nt.Emulated:s=new mu(c,l,i,this.appId,d,a,u,h);break;case Nt.ShadowDom:return new Rh(c,l,r,i,a,u,this.nonce,h);default:s=new To(c,l,i,d,a,u,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(T(vw),T(_w),T(Wa),T(Ax),T(Le),T(Lt),T(ee),T(zd))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),bo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Th[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(mw(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(mw(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new M(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Th[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Th[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(an.DashCase|an.Important)?e.style.setProperty(n,r,i&an.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&an.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=$t().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function mw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Rh=class extends bo{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Ew(i.id,i.styles);for(let l of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},To=class extends bo{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Ew(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},mu=class extends To{constructor(e,n,r,i,o,s,a,u){let c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=Sx(c),this.hostAttr=Mx(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},xx=(()=>{let e=class e extends gu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(T(Le))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),yw=["alt","control","meta","shift"],Rx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Px=(()=>{let e=class e extends gu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$t().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),yw.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let o=Rx[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),yw.forEach(a=>{if(a!==o){let u=Nx[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(T(Le))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function Ox(){Sh.makeCurrent()}function Fx(){return new Ft}function kx(){return Wv(document),document}var Vx=[{provide:Lt,useValue:yh},{provide:Hd,useValue:Ox,multi:!0},{provide:Le,useFactory:kx,deps:[]}],Iw=ch(H_,"browser",Vx),Lx=new S(""),jx=[{provide:wo,useClass:Mh,deps:[]},{provide:sh,useClass:nu,deps:[ee,ru,wo]},{provide:nu,useClass:nu,deps:[ee,ru,wo]}],Bx=[{provide:Ga,useValue:"root"},{provide:Ft,useFactory:Fx,deps:[]},{provide:xh,useClass:xx,multi:!0,deps:[Le,ee,Lt]},{provide:xh,useClass:Px,multi:!0,deps:[Le]},gw,_w,vw,{provide:ho,useExisting:gw},{provide:di,useClass:Dx,deps:[]},[]],Dw=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Wa,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(T(Lx,12))},e.\u0275mod=Ne({type:e}),e.\u0275inj=Re({providers:[...Bx,...jx],imports:[tw,z_]});let t=e;return t})();var Cw=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(T(Le))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var V="primary",Uo=Symbol("RouteTitle"),Vh=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function vi(t){return new Vh(t)}function Ux(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function $x(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ht(t[n],e[n]))return!1;return!0}function Ht(t,e){let n=t?Lh(t):void 0,r=e?Lh(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ow(t[i],e[i]))return!1;return!0}function Lh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Ow(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function Fw(t){return t.length>0?t[t.length-1]:null}function Ln(t){return Cl(t)?t:dr(t)?oe(Promise.resolve(t)):R(t)}var Hx={exact:Vw,subset:Lw},kw={exact:zx,subset:qx,ignored:()=>!0};function Tw(t,e,n){return Hx[n.paths](t.root,e.root,n.matrixParams)&&kw[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function zx(t,e){return Ht(t,e)}function Vw(t,e,n){if(!yr(t.segments,e.segments)||!_u(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Vw(t.children[r],e.children[r],n))return!1;return!0}function qx(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ow(t[n],e[n]))}function Lw(t,e,n){return jw(t,e,e.segments,n)}function jw(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!yr(i,n)||e.hasChildren()||!_u(i,n,r))}else if(t.segments.length===n.length){if(!yr(t.segments,n)||!_u(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Lw(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!yr(t.segments,i)||!_u(t.segments,i,r)||!t.children[V]?!1:jw(t.children[V],e,o,r)}}function _u(t,e,n){return e.every((r,i)=>kw[n](t[i].parameters,r.parameters))}var Fn=class{constructor(e=new Y([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vi(this.queryParams),this._queryParamMap}toString(){return Kx.serialize(this)}},Y=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wu(this)}},mr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=vi(this.parameters),this._parameterMap}toString(){return Uw(this)}};function Gx(t,e){return yr(t,e)&&t.every((n,r)=>Ht(n.parameters,e[r].parameters))}function yr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Wx(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===V&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==V&&(n=n.concat(e(i,r)))}),n}var $o=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>new Po,providedIn:"root"});let t=e;return t})(),Po=class{parse(e){let n=new Bh(e);return new Fn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ao(e.root,!0)}`,r=Zx(e.queryParams),i=typeof e.fragment=="string"?`#${Qx(e.fragment)}`:"";return`${n}${r}${i}`}},Kx=new Po;function wu(t){return t.segments.map(e=>Uw(e)).join("/")}function Ao(t,e){if(!t.hasChildren())return wu(t);if(e){let n=t.children[V]?Ao(t.children[V],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==V&&r.push(`${i}:${Ao(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Wx(t,(r,i)=>i===V?[Ao(t.children[V],!1)]:[`${i}:${Ao(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[V]!=null?`${wu(t)}/${n[0]}`:`${wu(t)}/(${n.join("//")})`}}function Bw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yu(t){return Bw(t).replace(/%3B/gi,";")}function Qx(t){return encodeURI(t)}function jh(t){return Bw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Eu(t){return decodeURIComponent(t)}function Aw(t){return Eu(t.replace(/\+/g,"%20"))}function Uw(t){return`${jh(t.path)}${Yx(t.parameters)}`}function Yx(t){return Object.entries(t).map(([e,n])=>`;${jh(e)}=${jh(n)}`).join("")}function Zx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${yu(n)}=${yu(i)}`).join("&"):`${yu(n)}=${yu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Xx=/^[^\/()?;#]+/;function Ph(t){let e=t.match(Xx);return e?e[0]:""}var Jx=/^[^\/()?;=#]+/;function eR(t){let e=t.match(Jx);return e?e[0]:""}var tR=/^[^=?&#]+/;function nR(t){let e=t.match(tR);return e?e[0]:""}var rR=/^[^&#]+/;function iR(t){let e=t.match(rR);return e?e[0]:""}var Bh=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[V]=new Y(e,n)),r}parseSegment(){let e=Ph(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(e),new mr(Eu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=eR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ph(this.remaining);i&&(r=i,this.capture(r))}e[Eu(n)]=Eu(r)}parseQueryParam(e){let n=nR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=iR(this.remaining);s&&(r=s,this.capture(r))}let i=Aw(n),o=Aw(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ph(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new M(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=V);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[V]:new Y([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new M(4011,!1)}};function $w(t){return t.segments.length>0?new Y([],{[V]:t}):t}function Hw(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=Hw(i);if(r===V&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Y(t.segments,e);return oR(n)}function oR(t){if(t.numberOfChildren===1&&t.children[V]){let e=t.children[V];return new Y(t.segments.concat(e.segments),e.children)}return t}function _i(t){return t instanceof Fn}function sR(t,e,n=null,r=null){let i=zw(t);return qw(i,e,n,r)}function zw(t){let e;function n(o){let s={};for(let u of o.children){let c=n(u);s[u.outlet]=c}let a=new Y(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=$w(r);return e??i}function qw(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Oh(i,i,i,n,r);let o=aR(e);if(o.toRoot())return Oh(i,i,new Y([],{}),n,r);let s=uR(o,i,t),a=s.processChildren?xo(s.segmentGroup,s.index,o.commands):Ww(s.segmentGroup,s.index,o.commands);return Oh(i,s.segmentGroup,a,n,r)}function Iu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Oo(t){return typeof t=="object"&&t!=null&&t.outlets}function Oh(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`});let s;t===e?s=n:s=Gw(t,e,n);let a=$w(Hw(s));return new Fn(a,o,i)}function Gw(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Gw(o,e,n)}),new Y(t.segments,r)}var Du=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Iu(r[0]))throw new M(4003,!1);let i=r.find(Oo);if(i&&i!==Fw(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function aR(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Du(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Du(n,e,r)}var mi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function uR(t,e,n){if(t.isAbsolute)return new mi(e,!0,0);if(!n)return new mi(e,!1,NaN);if(n.parent===null)return new mi(n,!0,0);let r=Iu(t.commands[0])?0:1,i=n.segments.length-1+r;return cR(n,i,t.numberOfDoubleDots)}function cR(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new mi(r,!1,i-o)}function lR(t){return Oo(t[0])?t[0].outlets:{[V]:t}}function Ww(t,e,n){if(t??=new Y([],{}),t.segments.length===0&&t.hasChildren())return xo(t,e,n);let r=dR(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Y(t.segments.slice(0,r.pathIndex),{});return o.children[V]=new Y(t.segments.slice(r.pathIndex),t.children),xo(o,0,i)}else return r.match&&i.length===0?new Y(t.segments,{}):r.match&&!t.hasChildren()?Uh(t,e,n):r.match?xo(t,0,i):Uh(t,e,n)}function xo(t,e,n){if(n.length===0)return new Y(t.segments,{});{let r=lR(n),i={};if(Object.keys(r).some(o=>o!==V)&&t.children[V]&&t.numberOfChildren===1&&t.children[V].segments.length===0){let o=xo(t.children[V],e,n);return new Y(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Ww(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Y(t.segments,i)}}function dR(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Oo(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!Mw(u,c,s))return o;r+=2}else{if(!Mw(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Uh(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Oo(o)){let u=hR(o.outlets);return new Y(r,u)}if(i===0&&Iu(n[0])){let u=t.segments[e];r.push(new mr(u.path,Sw(n[0]))),i++;continue}let s=Oo(o)?o.outlets[V]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Iu(a)?(r.push(new mr(s,Sw(a))),i+=2):(r.push(new mr(s,{})),i++)}return new Y(r,{})}function hR(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Uh(new Y([],{}),0,r))}),e}function Sw(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Mw(t,e,n){return t==n.path&&Ht(e,n.parameters)}var Ro="imperative",De=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(De||{}),yt=class{constructor(e,n){this.id=e,this.url=n}},wi=class extends yt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=De.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},dn=class extends yt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=De.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},mt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(mt||{}),Cu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Cu||{}),kn=class extends yt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=De.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Vn=class extends yt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=De.NavigationSkipped}},Fo=class extends yt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=De.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},bu=class extends yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$h=class extends yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hh=class extends yt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=De.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zh=class extends yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qh=class extends yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gh=class{constructor(e){this.route=e,this.type=De.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wh=class{constructor(e){this.route=e,this.type=De.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kh=class{constructor(e){this.snapshot=e,this.type=De.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qh=class{constructor(e){this.snapshot=e,this.type=De.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yh=class{constructor(e){this.snapshot=e,this.type=De.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zh=class{constructor(e){this.snapshot=e,this.type=De.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tu=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=De.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ko=class{},Vo=class{constructor(e){this.url=e}};var Xh=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ho,this.attachRef=null}},Ho=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Xh,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Au=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Jh(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Jh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ef(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ef(e,this._root).map(n=>n.value)}};function Jh(t,e){if(t===e.value)return e;for(let n of e.children){let r=Jh(t,n);if(r)return r}return null}function ef(t,e){if(t===e.value)return[e];for(let n of e.children){let r=ef(t,n);if(r.length)return r.unshift(e),r}return[]}var at=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function gi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Su=class extends Au{constructor(e,n){super(e),this.snapshot=n,df(this,e)}toString(){return this.snapshot.toString()}};function Kw(t){let e=fR(t),n=new xe([new mr("",{})]),r=new xe({}),i=new xe({}),o=new xe({}),s=new xe(""),a=new Ei(n,r,o,s,i,V,t,e.root);return a.snapshot=e.root,new Su(new at(a,[]),e)}function fR(t){let e={},n={},r={},i="",o=new Lo([],e,r,i,n,V,t,null,{});return new Mu("",new at(o,[]))}var Ei=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(k(c=>c[Uo]))??R(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(k(e=>vi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(k(e=>vi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function lf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),t.params),data:E(E({},e.data),t.data),resolve:E(E(E(E({},t.data),e.data),i?.data),t._resolvedData)}:r={params:E({},t.params),data:E({},t.data),resolve:E(E({},t.data),t._resolvedData??{})},i&&Yw(i)&&(r.resolve[Uo]=i.title),r}var Lo=class{get title(){return this.data?.[Uo]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Mu=class extends Au{constructor(e,n){super(n),this.url=e,df(this,n)}toString(){return Qw(this._root)}};function df(t,e){e.value._routerState=t,e.children.forEach(n=>df(t,n))}function Qw(t){let e=t.children.length>0?` { ${t.children.map(Qw).join(", ")} } `:"";return`${t.value}${e}`}function Fh(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ht(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ht(e.params,n.params)||t.paramsSubject.next(n.params),$x(e.url,n.url)||t.urlSubject.next(n.url),Ht(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function tf(t,e){let n=Ht(t.params,e.params)&&Gx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||tf(t.parent,e.parent))}function Yw(t){return typeof t.title=="string"||t.title===null}var pR=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new ge,this.deactivateEvents=new ge,this.attachEvents=new ge,this.detachEvents=new ge,this.parentContexts=y(Ho),this.location=y(Za),this.changeDetector=y(vo),this.environmentInjector=y(qe),this.inputBinder=y(Ou,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new nf(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ve({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mn]});let t=e;return t})(),nf=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ei?this.route:e===Ho?this.childContexts:this.parent.get(e,n)}},Ou=new S(""),xw=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=to([i.queryParams,i.params,i.data]).pipe(Xe(([s,a,u],c)=>(u=E(E(E({},s),a),u),c===0?R(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=q_(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function gR(t,e,n){let r=jo(t,e._root,n?n._root:void 0);return new Su(r,e)}function jo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=mR(t,e,n);return new at(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>jo(t,a)),s}}let r=yR(e.value),i=e.children.map(o=>jo(t,o));return new at(r,i)}}function mR(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return jo(t,r,i);return jo(t,r)})}function yR(t){return new Ei(new xe(t.url),new xe(t.params),new xe(t.queryParams),new xe(t.fragment),new xe(t.data),t.outlet,t.component,t)}var Zw="ngNavigationCancelingError";function Xw(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=_i(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Jw(!1,mt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Jw(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Zw]=!0,n.cancellationCode=e,n}function vR(t){return eE(t)&&_i(t.url)}function eE(t){return!!t&&t[Zw]}var _R=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ua({type:e,selectors:[["ng-component"]],standalone:!0,features:[O_],decls:1,vars:0,template:function(i,o){i&1&&Pn(0,"router-outlet")},dependencies:[pR],encapsulation:2});let t=e;return t})();function wR(t,e){return t.providers&&!t._injector&&(t._injector=Ja(t.providers,e,`Route: ${t.path}`)),t._injector??e}function hf(t){let e=t.children&&t.children.map(hf),n=e?Z(E({},t),{children:e}):E({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=_R),n}function zt(t){return t.outlet||V}function ER(t,e){let n=t.filter(r=>zt(r)===e);return n.push(...t.filter(r=>zt(r)!==e)),n}function zo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var IR=(t,e,n,r)=>k(i=>(new rf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),rf=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Fh(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=gi(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=gi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=gi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=gi(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Zh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Qh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Fh(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Fh(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=zo(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},xu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},yi=class{constructor(e,n){this.component=e,this.route=n}};function DR(t,e,n){let r=t._root,i=e?e._root:null;return So(r,i,n,[r.value])}function CR(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Di(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Vy(t)?t:e.get(t):r}function So(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=gi(e);return t.children.forEach(s=>{bR(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>No(a,n.getContext(s),i)),i}function bR(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=TR(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new xu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?So(t,e,a?a.children:null,r,i):So(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new yi(a.outlet.component,s))}else s&&No(e,a,i),i.canActivateChecks.push(new xu(r)),o.component?So(t,null,a?a.children:null,r,i):So(t,null,n,r,i);return i}function TR(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!yr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!yr(t.url,e.url)||!Ht(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tf(t,e)||!Ht(t.queryParams,e.queryParams);case"paramsChange":default:return!tf(t,e)}}function No(t,e,n){let r=gi(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?No(s,e.children.getContext(o),n):No(s,null,n):No(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new yi(e.outlet.component,i)):n.canDeactivateChecks.push(new yi(null,i)):n.canDeactivateChecks.push(new yi(null,i))}function qo(t){return typeof t=="function"}function AR(t){return typeof t=="boolean"}function SR(t){return t&&qo(t.canLoad)}function MR(t){return t&&qo(t.canActivate)}function xR(t){return t&&qo(t.canActivateChild)}function RR(t){return t&&qo(t.canDeactivate)}function NR(t){return t&&qo(t.canMatch)}function tE(t){return t instanceof nn||t?.name==="EmptyError"}var vu=Symbol("INITIAL_VALUE");function Ii(){return Xe(t=>to(t.map(e=>e.pipe(on(1),Ml(vu)))).pipe(k(e=>{for(let n of e)if(n!==!0){if(n===vu)return vu;if(n===!1||n instanceof Fn)return n}return!0}),Ze(e=>e!==vu),on(1)))}function PR(t,e){return pe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?R(Z(E({},n),{guardsResult:!0})):OR(s,r,i,t).pipe(pe(a=>a&&AR(a)?FR(r,o,t,e):R(a)),k(a=>Z(E({},n),{guardsResult:a})))})}function OR(t,e,n,r){return oe(t).pipe(pe(i=>BR(i.component,i.route,n,e,r)),Mt(i=>i!==!0,!0))}function FR(t,e,n,r){return oe(e).pipe(rn(i=>qr(VR(i.route.parent,r),kR(i.route,r),jR(t,i.path,n),LR(t,i.route,n))),Mt(i=>i!==!0,!0))}function kR(t,e){return t!==null&&e&&e(new Yh(t)),R(!0)}function VR(t,e){return t!==null&&e&&e(new Kh(t)),R(!0)}function LR(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let i=r.map(o=>ua(()=>{let s=zo(e)??n,a=Di(o,s),u=MR(a)?a.canActivate(e,t):Vt(s,()=>a(e,t));return Ln(u).pipe(Mt())}));return R(i).pipe(Ii())}function jR(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>CR(s)).filter(s=>s!==null).map(s=>ua(()=>{let a=s.guards.map(u=>{let c=zo(s.node)??n,l=Di(u,c),d=xR(l)?l.canActivateChild(r,t):Vt(c,()=>l(r,t));return Ln(d).pipe(Mt())});return R(a).pipe(Ii())}));return R(o).pipe(Ii())}function BR(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return R(!0);let s=o.map(a=>{let u=zo(e)??i,c=Di(a,u),l=RR(c)?c.canDeactivate(t,e,n,r):Vt(u,()=>c(t,e,n,r));return Ln(l).pipe(Mt())});return R(s).pipe(Ii())}function UR(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return R(!0);let o=i.map(s=>{let a=Di(s,t),u=SR(a)?a.canLoad(e,n):Vt(t,()=>a(e,n));return Ln(u)});return R(o).pipe(Ii(),nE(r))}function nE(t){return wl(we(e=>{if(_i(e))throw Xw(t,e)}),k(e=>e===!0))}function $R(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return R(!0);let o=i.map(s=>{let a=Di(s,t),u=NR(a)?a.canMatch(e,n):Vt(t,()=>a(e,n));return Ln(u)});return R(o).pipe(Ii(),nE(r))}var Bo=class{constructor(e){this.segmentGroup=e||null}},Ru=class extends Error{constructor(e){super(),this.urlTree=e}};function pi(t){return Hr(new Bo(t))}function HR(t){return Hr(new M(4e3,!1))}function zR(t){return Hr(Jw(!1,mt.GuardRejected))}var of=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return R(r);if(i.numberOfChildren>1||!i.children[V])return HR(e.redirectTo);i=i.children[V]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Ru(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Fn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Y(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},sf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qR(t,e,n,r,i){let o=ff(t,e,n);return o.matched?(r=wR(e,r),$R(r,e,n,i).pipe(k(s=>s===!0?o:E({},sf)))):R(o)}function ff(t,e,n){if(e.path==="**")return GR(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?E({},sf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Ux)(n,t,e);if(!i)return E({},sf);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function GR(t){return{matched:!0,parameters:t.length>0?Fw(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Rw(t,e,n,r){return n.length>0&&QR(t,n,r)?{segmentGroup:new Y(e,KR(r,new Y(n,t.children))),slicedSegments:[]}:n.length===0&&YR(t,n,r)?{segmentGroup:new Y(t.segments,WR(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Y(t.segments,t.children),slicedSegments:n}}function WR(t,e,n,r){let i={};for(let o of n)if(Fu(t,e,o)&&!r[zt(o)]){let s=new Y([],{});i[zt(o)]=s}return E(E({},r),i)}function KR(t,e){let n={};n[V]=e;for(let r of t)if(r.path===""&&zt(r)!==V){let i=new Y([],{});n[zt(r)]=i}return n}function QR(t,e,n){return n.some(r=>Fu(t,e,r)&&zt(r)!==V)}function YR(t,e,n){return n.some(r=>Fu(t,e,r))}function Fu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ZR(t,e,n,r){return zt(t)!==r&&(r===V||!Fu(e,n,t))?!1:ff(e,t,n).matched}function XR(t,e,n){return e.length===0&&!t.children[n]}var af=class{};function JR(t,e,n,r,i,o,s="emptyOnly"){return new uf(t,e,n,r,i,s,o).recognize()}var eN=31,uf=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new of(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new M(4002,`'${e.segmentGroup}'`)}recognize(){let e=Rw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(k(n=>{let r=new Lo([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,{},V,this.rootComponentType,null,{}),i=new at(r,n),o=new Mu("",i),s=sR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,V).pipe(_n(r=>{if(r instanceof Ru)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Bo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=lf(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(k(o=>o instanceof at?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return oe(i).pipe(rn(o=>{let s=r.children[o],a=ER(n,o);return this.processSegmentGroup(e,a,s,o)}),Sl((o,s)=>(o.push(...s),o)),wn(null),Al(),pe(o=>{if(o===null)return pi(r);let s=rE(o);return tN(s),R(s)}))}processSegment(e,n,r,i,o,s){return oe(n).pipe(rn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(_n(u=>{if(u instanceof Bo)return R(null);throw u}))),Mt(a=>!!a),_n(a=>{if(tE(a))return XR(r,i,o)?R(new af):pi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return ZR(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):pi(i):pi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:l}=ff(n,i,o);if(!a)return pi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>eN&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(pe(h=>this.processSegment(e,r,n,h.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=qR(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Xe(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Xe(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new Lo(l,h,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,rN(r),zt(r),r.component??r._loadedComponent??null,r,iN(r)),{segmentGroup:m,slicedSegments:b}=Rw(n,l,d,u);if(b.length===0&&m.hasChildren())return this.processChildren(c,u,m).pipe(k(w=>w===null?null:new at(f,w)));if(u.length===0&&b.length===0)return R(new at(f,[]));let _=zt(r)===o;return this.processSegment(c,u,m,b,_?V:o,!0).pipe(k(w=>new at(f,w instanceof at?[w]:[])))}))):pi(n)))}getChildConfig(e,n,r){return n.children?R({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):UR(e,n,r,this.urlSerializer).pipe(pe(i=>i?this.configLoader.loadChildren(e,n).pipe(we(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):zR(n))):R({routes:[],injector:e})}};function tN(t){t.sort((e,n)=>e.value.outlet===V?-1:n.value.outlet===V?1:e.value.outlet.localeCompare(n.value.outlet))}function nN(t){let e=t.value.routeConfig;return e&&e.path===""}function rE(t){let e=[],n=new Set;for(let r of t){if(!nN(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=rE(r.children);e.push(new at(r.value,i))}return e.filter(r=>!n.has(r))}function rN(t){return t.data||{}}function iN(t){return t.resolve||{}}function oN(t,e,n,r,i,o){return pe(s=>JR(t,e,n,r,s.extractedUrl,i,o).pipe(k(({state:a,tree:u})=>Z(E({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function sN(t,e){return pe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return R(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let c of iE(u))s.add(c);let a=0;return oe(s).pipe(rn(u=>o.has(u)?aN(u,r,t,e):(u.data=lf(u,u.parent,t).resolve,R(void 0))),we(()=>a++),Gr(1),pe(u=>a===s.size?R(n):dt))})}function iE(t){let e=t.children.map(n=>iE(n)).flat();return[t,...e]}function aN(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Yw(i)&&(o[Uo]=i.title),uN(o,t,e,r).pipe(k(s=>(t._resolvedData=s,t.data=lf(t,t.parent,n).resolve,null)))}function uN(t,e,n,r){let i=Lh(t);if(i.length===0)return R({});let o={};return oe(i).pipe(pe(s=>cN(t[s],e,n,r).pipe(Mt(),we(a=>{o[s]=a}))),Gr(1),Tl(o),_n(s=>tE(s)?dt:Hr(s)))}function cN(t,e,n,r){let i=zo(e)??r,o=Di(t,i),s=o.resolve?o.resolve(e,n):Vt(i,()=>o(e,n));return Ln(s)}function kh(t){return Xe(e=>{let n=t(e);return n?oe(n).pipe(k(()=>e)):R(e)})}var oE=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===V);return i}getResolvedTitleForRoute(r){return r.data[Uo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>y(lN),providedIn:"root"});let t=e;return t})(),lN=(()=>{let e=class e extends oE{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(T(Cw))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Go=new S("",{providedIn:"root",factory:()=>({})}),Nu=new S(""),pf=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=y(tu)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return R(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ln(r.loadComponent()).pipe(k(sE),we(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),En(()=>{this.componentLoaders.delete(r)})),o=new $r(i,()=>new ot).pipe(Ur());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return R({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=dN(i,this.compiler,r,this.onLoadEndListener).pipe(En(()=>{this.childrenLoaders.delete(i)})),a=new $r(s,()=>new ot).pipe(Ur());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dN(t,e,n,r){return Ln(t.loadChildren()).pipe(k(sE),pe(i=>i instanceof po||Array.isArray(i)?R(i):oe(e.compileModuleAsync(i))),k(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Nu,[],{optional:!0,self:!0}).flat()),{routes:s.map(hf),injector:o}}))}function hN(t){return t&&typeof t=="object"&&"default"in t}function sE(t){return hN(t)?t.default:t}var gf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>y(fN),providedIn:"root"});let t=e;return t})(),fN=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aE=new S(""),uE=new S("");function pN(t,e,n){let r=t.get(uE),i=t.get(Le);return t.get(ee).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),gN(t))),{onViewTransitionCreated:u}=r;return u&&Vt(t,()=>u({transition:a,from:e,to:n})),s})}function gN(t){return new Promise(e=>{rh(e,{injector:t})})}var mf=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ot,this.transitionAbortSubject=new ot,this.configLoader=y(pf),this.environmentInjector=y(qe),this.urlSerializer=y($o),this.rootContexts=y(Ho),this.location=y(hi),this.inputBindingEnabled=y(Ou,{optional:!0})!==null,this.titleStrategy=y(oE),this.options=y(Go,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=y(gf),this.createViewTransition=y(aE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Gh(o)),i=o=>this.events.next(new Wh(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Z(E(E({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new xe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ro,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ze(s=>s.id!==0),k(s=>Z(E({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Xe(s=>{this.currentTransition=s;let a=!1,u=!1;return R(s).pipe(we(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Z(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Xe(c=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Vn(c.id,this.urlSerializer.serialize(c.rawUrl),h,Cu.IgnoredSameUrlNavigation)),c.resolve(null),dt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return R(c).pipe(Xe(h=>{let f=this.transitions?.getValue();return this.events.next(new wi(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?dt:Promise.resolve(h)}),oN(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),we(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Z(E({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new bu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:m,restoredState:b,extras:_}=c,w=new wi(h,this.urlSerializer.serialize(f),m,b);this.events.next(w);let B=Kw(this.rootComponentType).snapshot;return this.currentTransition=s=Z(E({},c),{targetSnapshot:B,urlAfterRedirects:f,extras:Z(E({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,R(s)}else{let h="";return this.events.next(new Vn(c.id,this.urlSerializer.serialize(c.extractedUrl),h,Cu.IgnoredByUrlHandlingStrategy)),c.resolve(null),dt}}),we(c=>{let l=new $h(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),k(c=>(this.currentTransition=s=Z(E({},c),{guards:DR(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),PR(this.environmentInjector,c=>this.events.next(c)),we(c=>{if(s.guardsResult=c.guardsResult,_i(c.guardsResult))throw Xw(this.urlSerializer,c.guardsResult);let l=new Hh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ze(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",mt.GuardRejected),!1)),kh(c=>{if(c.guards.canActivateChecks.length)return R(c).pipe(we(l=>{let d=new zh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Xe(l=>{let d=!1;return R(l).pipe(sN(this.paramsInheritanceStrategy,this.environmentInjector),we({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",mt.NoDataFromResolver)}}))}),we(l=>{let d=new qh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),kh(c=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(we(f=>{d.component=f}),k(()=>{})));for(let f of d.children)h.push(...l(f));return h};return to(l(c.targetSnapshot.root)).pipe(wn(null),on(1))}),kh(()=>this.afterPreactivation()),Xe(()=>{let{currentSnapshot:c,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return d?oe(d).pipe(k(()=>s)):R(s)}),k(c=>{let l=gR(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=Z(E({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),we(()=>{this.events.next(new ko)}),IR(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),on(1),we({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new dn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),xl(this.transitionAbortSubject.pipe(we(c=>{throw c}))),En(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",mt.SupersededByNewNavigation),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),_n(c=>{if(u=!0,eE(c))this.events.next(new kn(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),vR(c)?this.events.next(new Vo(c.url)):s.resolve(!1);else{this.events.next(new Fo(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return dt}))}))}cancelNavigationTransition(r,i,o){let s=new kn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mN(t){return t!==Ro}var yN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>y(vN),providedIn:"root"});let t=e;return t})(),cf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},vN=(()=>{let e=class e extends cf{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ur(e)))(o||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>y(_N),providedIn:"root"});let t=e;return t})(),_N=(()=>{let e=class e extends cE{constructor(){super(...arguments),this.location=y(hi),this.urlSerializer=y($o),this.options=y(Go,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=y(gf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Kw(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof wi)this.stateMemento=this.createStateMemento();else if(r instanceof Vn)this.rawUrlTree=i.initialUrl;else if(r instanceof bu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof ko?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof kn&&(r.code===mt.GuardRejected||r.code===mt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Fo?this.restoreHistory(i,!0):r instanceof dn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=E(E({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=E(E({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ur(e)))(o||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Mo||{});function lE(t,e){t.events.pipe(Ze(n=>n instanceof dn||n instanceof kn||n instanceof Fo||n instanceof Vn),k(n=>n instanceof dn||n instanceof Vn?Mo.COMPLETE:(n instanceof kn?n.code===mt.Redirect||n.code===mt.SupersededByNewNavigation:!1)?Mo.REDIRECTING:Mo.FAILED),Ze(n=>n!==Mo.REDIRECTING),on(1)).subscribe(()=>{e()})}function wN(t){throw t}var EN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},vr=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=y(eu),this.stateManager=y(cE),this.options=y(Go,{optional:!0})||{},this.pendingTasks=y(hr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=y(mf),this.urlSerializer=y($o),this.location=y(hi),this.urlHandlingStrategy=y(gf),this._events=new ot,this.errorHandler=this.options.errorHandler||wN,this.navigated=!1,this.routeReuseStrategy=y(yN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=y(Nu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!y(Ou,{optional:!0}),this.eventsSubscription=new _e,this.isNgZoneEnabled=y(ee)instanceof ee&&ee.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof kn&&i.code!==mt.Redirect&&i.code!==mt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof dn)this.navigated=!0;else if(i instanceof Vo){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||mN(o.source)};this.scheduleNavigation(a,Ro,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}CN(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ro,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=E({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(hf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a,d=null;switch(u){case"merge":d=E(E({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=zw(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return qw(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=_i(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ro,null,i)}navigate(r,i={skipLocationChange:!1}){return DN(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=E({},EN):i===!1?o=E({},IN):o=i,_i(r))return Tw(this.currentUrlTree,r,o);let s=this.parseUrl(r);return Tw(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((h,f)=>{u=h,c=f});let d=this.pendingTasks.add();return lE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function DN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new M(4008,!1)}function CN(t){return!(t instanceof ko)&&!(t instanceof Vo)}var Pu=class{};var bN=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ze(r=>r instanceof dn),rn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Ja(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return oe(o).pipe(zr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=R(null);let s=o.pipe(pe(a=>a===null?R(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return oe([s,a]).pipe(zr())}else return s})}};e.\u0275fac=function(i){return new(i||e)(T(vr),T(tu),T(qe),T(Pu),T(pf))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dE=new S(""),TN=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof wi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof dn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Vn&&r.code===Cu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Tu&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Tu(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){f_()},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function AN(t){return t.routerState.root}function Wo(t,e){return{\u0275kind:t,\u0275providers:e}}function SN(){let t=y(Ct);return e=>{let n=t.get(fr);if(e!==n.components[0])return;let r=t.get(vr),i=t.get(hE);t.get(yf)===1&&r.initialNavigation(),t.get(fE,null,L.Optional)?.setUpPreloading(),t.get(dE,null,L.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var hE=new S("",{factory:()=>new ot}),yf=new S("",{providedIn:"root",factory:()=>1});function MN(){return Wo(2,[{provide:yf,useValue:0},{provide:iu,multi:!0,deps:[Ct],useFactory:e=>{let n=e.get(Z_,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(vr),o=e.get(hE);lE(i,()=>{r(!0)}),e.get(mf).afterPreactivation=()=>(r(!0),o.closed?R(void 0):o),i.initialNavigation()}))}}])}function xN(){return Wo(3,[{provide:iu,multi:!0,useFactory:()=>{let e=y(vr);return()=>{e.setUpLocationChangeListener()}}},{provide:yf,useValue:2}])}var fE=new S("");function RN(t){return Wo(0,[{provide:fE,useExisting:bN},{provide:Pu,useExisting:t}])}function NN(){return Wo(8,[xw,{provide:Ou,useExisting:xw}])}function PN(t){let e=[{provide:aE,useValue:pN},{provide:uE,useValue:E({skipNextTransition:!!t?.skipInitialTransition},t)}];return Wo(9,e)}var Nw=new S("ROUTER_FORROOT_GUARD"),ON=[hi,{provide:$o,useClass:Po},vr,Ho,{provide:Ei,useFactory:AN,deps:[vr]},pf,[]],vf=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[ON,[],{provide:Nu,multi:!0,useValue:r},{provide:Nw,useFactory:LN,deps:[[vr,new Bd,new jv]]},{provide:Go,useValue:i||{}},i?.useHash?kN():VN(),FN(),i?.preloadingStrategy?RN(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?jN(i):[],i?.bindToComponentInputs?NN().\u0275providers:[],i?.enableViewTransitions?PN().\u0275providers:[],BN()]}}static forChild(r){return{ngModule:e,providers:[{provide:Nu,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(T(Nw,8))},e.\u0275mod=Ne({type:e}),e.\u0275inj=Re({});let t=e;return t})();function FN(){return{provide:dE,useFactory:()=>{let t=y(nw),e=y(ee),n=y(Go),r=y(mf),i=y($o);return n.scrollOffset&&t.setOffset(n.scrollOffset),new TN(i,r,t,e,n)}}}function kN(){return{provide:pr,useClass:J_}}function VN(){return{provide:pr,useClass:mh}}function LN(t){return"guarded"}function jN(t){return[t.initialNavigation==="disabled"?xN().\u0275providers:[],t.initialNavigation==="enabledBlocking"?MN().\u0275providers:[]]}var Pw=new S("");function BN(){return[{provide:Pw,useFactory:SN},{provide:ou,multi:!0,useExisting:Pw}]}var UN=[],pE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ne({type:e}),e.\u0275inj=Re({imports:[vf.forRoot(UN),vf]});let t=e;return t})();var DE=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(ne(cr),ne(Rn))},e.\u0275dir=Ve({type:e});let t=e;return t})(),$N=(()=>{let e=class e extends DE{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ur(e)))(o||e)}})(),e.\u0275dir=Ve({type:e,features:[jt]});let t=e;return t})(),CE=new S("");var HN={provide:CE,useExisting:Sn(()=>qu),multi:!0};function zN(){let t=$t()?$t().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var qN=new S(""),qu=(()=>{let e=class e extends DE{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!zN())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(ne(cr),ne(Rn),ne(qN,8))},e.\u0275dir=Ve({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Bt("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[li([HN]),jt]});let t=e;return t})();function jn(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function bE(t){return t!=null&&typeof t.length=="number"}var Gu=new S(""),TE=new S(""),GN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Yo=class{static min(e){return WN(e)}static max(e){return KN(e)}static required(e){return AE(e)}static requiredTrue(e){return QN(e)}static email(e){return YN(e)}static minLength(e){return ZN(e)}static maxLength(e){return XN(e)}static pattern(e){return SE(e)}static nullValidator(e){return Lu(e)}static compose(e){return OE(e)}static composeAsync(e){return kE(e)}};function WN(t){return e=>{if(jn(e.value)||jn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function KN(t){return e=>{if(jn(e.value)||jn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function AE(t){return jn(t.value)?{required:!0}:null}function QN(t){return t.value===!0?null:{required:!0}}function YN(t){return jn(t.value)||GN.test(t.value)?null:{email:!0}}function ZN(t){return e=>jn(e.value)||!bE(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function XN(t){return e=>bE(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function SE(t){if(!t)return Lu;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(jn(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Lu(t){return null}function ME(t){return t!=null}function xE(t){return dr(t)?oe(t):t}function RE(t){let e={};return t.forEach(n=>{e=n!=null?E(E({},e),n):e}),Object.keys(e).length===0?null:e}function NE(t,e){return e.map(n=>n(t))}function JN(t){return!t.validate}function PE(t){return t.map(e=>JN(e)?e:n=>e.validate(n))}function OE(t){if(!t)return null;let e=t.filter(ME);return e.length==0?null:function(n){return RE(NE(n,e))}}function FE(t){return t!=null?OE(PE(t)):null}function kE(t){if(!t)return null;let e=t.filter(ME);return e.length==0?null:function(n){let r=NE(n,e).map(xE);return bl(r).pipe(k(RE))}}function VE(t){return t!=null?kE(PE(t)):null}function gE(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function LE(t){return t._rawValidators}function jE(t){return t._rawAsyncValidators}function _f(t){return t?Array.isArray(t)?t:[t]:[]}function ju(t,e){return Array.isArray(t)?t.includes(e):t===e}function mE(t,e){let n=_f(e);return _f(t).forEach(i=>{ju(n,i)||n.push(i)}),n}function yE(t,e){return _f(e).filter(n=>!ju(t,n))}var Bu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=FE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=VE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},bi=class extends Bu{get formDirective(){return null}get path(){return null}},Zo=class extends Bu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Uu=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},eP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Y$=Z(E({},eP),{"[class.ng-submitted]":"isSubmitted"}),BE=(()=>{let e=class e extends Uu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ne(Zo,2))},e.\u0275dir=Ve({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Nn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[jt]});let t=e;return t})(),UE=(()=>{let e=class e extends Uu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ne(bi,10))},e.\u0275dir=Ve({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Nn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[jt]});let t=e;return t})();var Ko="VALID",ku="INVALID",Ci="PENDING",Qo="DISABLED";function If(t){return(Wu(t)?t.validators:t)||null}function tP(t){return Array.isArray(t)?FE(t):t||null}function Df(t,e){return(Wu(e)?e.asyncValidators:t)||null}function nP(t){return Array.isArray(t)?VE(t):t||null}function Wu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function $E(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new M(1e3,"");if(!r[n])throw new M(1001,"")}function HE(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new M(1002,"")})}var Ti=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ko}get invalid(){return this.status===ku}get pending(){return this.status==Ci}get disabled(){return this.status===Qo}get enabled(){return this.status!==Qo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(mE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yE(e,this._rawAsyncValidators))}hasValidator(e){return ju(this._rawValidators,e)}hasAsyncValidator(e){return ju(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ci,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Qo,this.errors=null,this._forEachChild(r=>{r.disable(Z(E({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Z(E({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ko,this._forEachChild(r=>{r.enable(Z(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Z(E({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ko||this.status===Ci)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qo:Ko}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ci,this._hasOwnPendingAsyncValidator=!0;let n=xE(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ge,this.statusChanges=new ge}_calculateStatus(){return this._allControlsDisabled()?Qo:this.errors?ku:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ci)?Ci:this._anyControlsHaveStatus(ku)?ku:Ko}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=tP(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=nP(this._rawAsyncValidators)}},$u=class extends Ti{constructor(e,n,r){super(If(n),Df(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){HE(this,!0,e),Object.keys(e).forEach(r=>{$E(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var wf=class extends $u{};var Cf=new S("CallSetDisabledState",{providedIn:"root",factory:()=>Ku}),Ku="always";function rP(t,e){return[...e.path,t]}function vE(t,e,n=Ku){bf(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),oP(t,e),aP(t,e),sP(t,e),iP(t,e)}function _E(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),zu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Hu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function iP(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function bf(t,e){let n=LE(t);e.validator!==null?t.setValidators(gE(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=jE(t);e.asyncValidator!==null?t.setAsyncValidators(gE(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Hu(e._rawValidators,i),Hu(e._rawAsyncValidators,i)}function zu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=LE(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=jE(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Hu(e._rawValidators,r),Hu(e._rawAsyncValidators,r),n}function oP(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&zE(t,e)})}function sP(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&zE(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function zE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function aP(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function uP(t,e){t==null,bf(t,e)}function cP(t,e){return zu(t,e)}function lP(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function dP(t){return Object.getPrototypeOf(t.constructor)===$N}function hP(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function fP(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===qu?n=o:dP(o)?r=o:i=o}),i||r||n||null}function pP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function wE(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function EE(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Vu=class extends Ti{constructor(e=null,n,r){super(If(n),Df(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(EE(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){EE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var gP=t=>t instanceof Vu;var qE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ve({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var GE=new S("");var mP={provide:bi,useExisting:Sn(()=>Tf)},Tf=(()=>{let e=class e extends bi{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ge,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return vE(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){_E(r.control||null,r,!1),pP(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,hP(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(_E(i||null,r),gP(o)&&(vE(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);uP(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&cP(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bf(this.form,this),this._oldForm&&zu(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(ne(Gu,10),ne(TE,10),ne(Cf,8))},e.\u0275dir=Ve({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&Bt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[et.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[li([mP]),jt,Mn]});let t=e;return t})();var yP={provide:Zo,useExisting:Sn(()=>Af)},Af=(()=>{let e=class e extends Zo{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ge,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=fP(this,s)}ngOnChanges(r){this._added||this._setUpControl(),lP(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return rP(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(ne(bi,13),ne(Gu,10),ne(TE,10),ne(CE,10),ne(GE,8))},e.\u0275dir=Ve({type:e,selectors:[["","formControlName",""]],inputs:{name:[et.None,"formControlName","name"],isDisabled:[et.None,"disabled","isDisabled"],model:[et.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[li([yP]),jt,Mn]});let t=e;return t})();var WE=(()=>{let e=class e{constructor(){this._validator=Lu}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Lu,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ve({type:e,features:[Mn]});let t=e;return t})();var vP={provide:Gu,useExisting:Sn(()=>Sf),multi:!0};var Sf=(()=>{let e=class e extends WE{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=su,this.createValidator=r=>AE}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ur(e)))(o||e)}})(),e.\u0275dir=Ve({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&_o("required",o._enabled?"":null)},inputs:{required:"required"},features:[li([vP]),jt]});let t=e;return t})();var _P={provide:Gu,useExisting:Sn(()=>Mf),multi:!0},Mf=(()=>{let e=class e extends WE{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=r=>r,this.createValidator=r=>SE(r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ur(e)))(o||e)}})(),e.\u0275dir=Ve({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&_o("pattern",o._enabled?o.pattern:null)},inputs:{pattern:"pattern"},features:[li([_P]),jt]});let t=e;return t})();var KE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ne({type:e}),e.\u0275inj=Re({});let t=e;return t})(),Ef=class extends Ti{constructor(e,n,r){super(If(n),Df(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){HE(this,!1,e),e.forEach((r,i)=>{$E(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function IE(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var QE=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let o=this._reduceControls(r),s={};return IE(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new $u(o,s)}record(r,i=null){let o=this._reduceControls(r);return new wf(o,i)}control(r,i,o){let s={};return this.useNonNullable?(IE(i)?s=i:(s.validators=i,s.asyncValidators=o),new Vu(r,Z(E({},s),{nonNullable:!0}))):new Vu(r,i,o)}array(r,i,o){let s=r.map(a=>this._createControl(a));return new Ef(s,i,o)}_reduceControls(r){let i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){if(r instanceof Vu)return r;if(r instanceof Ti)return r;if(Array.isArray(r)){let i=r[0],o=r.length>1?r[1]:null,s=r.length>2?r[2]:null;return this.control(i,o,s)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var YE=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Cf,useValue:r.callSetDisabledState??Ku}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ne({type:e}),e.\u0275inj=Re({imports:[KE]});let t=e;return t})(),ZE=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:GE,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Cf,useValue:r.callSetDisabledState??Ku}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ne({type:e}),e.\u0275inj=Re({imports:[KE]});let t=e;return t})();var eC=gC(JE());var xf={manholofSewageURL:"https://services6.arcgis.com/UNGtzlPO9YSLDiqC/arcgis/rest/services/FinalKarbalaData/FeatureServer/1",firebaseConfig:{apiKey:"AIzaSyCOrhO_98B0GOKpuKXMYQyUEk4BLJdVwi8",authDomain:"karbala-4a98c.firebaseapp.com",databaseURL:"https://karbala-4a98c-default-rtdb.firebaseio.com",projectId:"karbala-4a98c",storageBucket:"karbala-4a98c.appspot.com",messagingSenderId:"843976576194",appId:"1:843976576194:web:cb022cbd0e4ee749a0bf5b"}};var tI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},EP=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},nI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|c>>6,f=c&63;u||(f=64,s||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new Rf;let h=o<<2|a>>4;if(r.push(h),c!==64){let f=a<<4&240|c>>2;if(r.push(f),d!==64){let m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Rf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},IP=function(t){let e=tI(t);return nI.encodeByteArray(e,!0)},Xo=function(t){return IP(t).replace(/\./g,"")},DP=function(t){try{return nI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function CP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var bP=()=>CP().__FIREBASE_DEFAULTS__,TP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&DP(t[1]);return e&&JSON.parse(e)},Nf=()=>{try{return bP()||TP()||AP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SP=t=>{var e,n;return(n=(e=Nf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rI=t=>{let e=SP(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Pf=()=>{var t;return(t=Nf())===null||t===void 0?void 0:t.config};var Yu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function iI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xo(JSON.stringify(n)),Xo(JSON.stringify(s)),""].join(".")}function es(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MP(){var t;let e=(t=Nf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oI(){return!MP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zu(){try{return typeof indexedDB=="object"}catch{return!1}}function sI(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var xP="FirebaseError",hn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xP,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jo.prototype.create)}},Jo=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?RP(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new hn(i,a,r)}};function RP(t,e){return t.replace(NP,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var NP=/\{\$([^}]+)}/g;function ts(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(eI(o)&&eI(s)){if(!ts(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function eI(t){return t!==null&&typeof t=="object"}var e4=4*60*60*1e3;function Ai(t){return t&&t._delegate?t._delegate:t}var fn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var _r="[DEFAULT]";var Of=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Yu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OP(e))try{this.getOrInitializeService({instanceIdentifier:_r})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=_r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=_r){return this.instances.has(e)}getOptions(e=_r){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_r){return this.component?this.component.multipleInstances?e:_r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PP(t){return t===_r?void 0:t}function OP(t){return t.instantiationMode==="EAGER"}var Xu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Of(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var FP=[],Q=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Q||{}),kP={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},VP=Q.INFO,LP={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},jP=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=LP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Si=class{constructor(e){this.name=e,this._logLevel=VP,this._logHandler=jP,this._userLogHandler=null,FP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}};var BP=(t,e)=>e.some(n=>t instanceof n),aI,uI;function UP(){return aI||(aI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $P(){return uI||(uI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var cI=new WeakMap,kf=new WeakMap,lI=new WeakMap,Ff=new WeakMap,Lf=new WeakMap;function HP(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(qt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&cI.set(n,t)}).catch(()=>{}),Lf.set(e,t),e}function zP(t){if(kf.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});kf.set(t,e)}var Vf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dI(t){Vf=t(Vf)}function qP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ju(this),e,...n);return lI.set(r,e.sort?e.sort():[e]),qt(r)}:$P().includes(t)?function(...e){return t.apply(Ju(this),e),qt(cI.get(this))}:function(...e){return qt(t.apply(Ju(this),e))}}function GP(t){return typeof t=="function"?qP(t):(t instanceof IDBTransaction&&zP(t),BP(t,UP())?new Proxy(t,Vf):t)}function qt(t){if(t instanceof IDBRequest)return HP(t);if(Ff.has(t))return Ff.get(t);let e=GP(t);return e!==t&&(Ff.set(t,e),Lf.set(e,t)),e}var Ju=t=>Lf.get(t);function fI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=qt(s);return r&&s.addEventListener("upgradeneeded",u=>{r(qt(s.result),u.oldVersion,u.newVersion,qt(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var WP=["get","getKey","getAll","getAllKeys","count"],KP=["put","add","delete","clear"],jf=new Map;function hI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jf.get(e))return jf.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=KP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WP.includes(n)))return;let o=function(s,...a){return D(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&u.done]))[0]})};return jf.set(e,o),o}dI(t=>Z(E({},t),{get:(e,n,r)=>hI(e,n)||t.get(e,n,r),has:(e,n)=>!!hI(e,n)||t.has(e,n)}));var Uf=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function QP(t){let e=t.getComponent();return e?.type==="VERSION"}var $f="@firebase/app",pI="0.9.27";var wr=new Si("@firebase/app"),YP="@firebase/app-compat",ZP="@firebase/analytics-compat",XP="@firebase/analytics",JP="@firebase/app-check-compat",e1="@firebase/app-check",t1="@firebase/auth",n1="@firebase/auth-compat",r1="@firebase/database",i1="@firebase/database-compat",o1="@firebase/functions",s1="@firebase/functions-compat",a1="@firebase/installations",u1="@firebase/installations-compat",c1="@firebase/messaging",l1="@firebase/messaging-compat",d1="@firebase/performance",h1="@firebase/performance-compat",f1="@firebase/remote-config",p1="@firebase/remote-config-compat",g1="@firebase/storage",m1="@firebase/storage-compat",y1="@firebase/firestore",v1="@firebase/firestore-compat",_1="firebase",w1="10.8.0";var Hf="[DEFAULT]",E1={[$f]:"fire-core",[YP]:"fire-core-compat",[XP]:"fire-analytics",[ZP]:"fire-analytics-compat",[e1]:"fire-app-check",[JP]:"fire-app-check-compat",[t1]:"fire-auth",[n1]:"fire-auth-compat",[r1]:"fire-rtdb",[i1]:"fire-rtdb-compat",[o1]:"fire-fn",[s1]:"fire-fn-compat",[a1]:"fire-iid",[u1]:"fire-iid-compat",[c1]:"fire-fcm",[l1]:"fire-fcm-compat",[d1]:"fire-perf",[h1]:"fire-perf-compat",[f1]:"fire-rc",[p1]:"fire-rc-compat",[g1]:"fire-gcs",[m1]:"fire-gcs-compat",[y1]:"fire-fst",[v1]:"fire-fst-compat","fire-js":"fire-js",[_1]:"fire-js-all"};var ec=new Map,zf=new Map;function I1(t,e){try{t.container.addComponent(e)}catch(n){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ns(t){let e=t.name;if(zf.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;zf.set(e,t);for(let n of ec.values())I1(n,t);return!0}function vI(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var D1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Bn=new Jo("app","Firebase",D1);var qf=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bn.create("app-deleted",{appName:this._name})}};var _I=w1;function Kf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Hf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Bn.create("bad-app-name",{appName:String(i)});if(n||(n=Pf()),!n)throw Bn.create("no-options");let o=ec.get(i);if(o){if(ts(n,o.options)&&ts(r,o.config))return o;throw Bn.create("duplicate-app",{appName:i})}let s=new Xu(i);for(let u of zf.values())s.addComponent(u);let a=new qf(n,r,s);return ec.set(i,a),a}function wI(t=Hf){let e=ec.get(t);if(!e&&t===Hf&&Pf())return Kf();if(!e)throw Bn.create("no-app",{appName:t});return e}function Un(t,e,n){var r;let i=(r=E1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(a.join(" "));return}ns(new fn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var C1="firebase-heartbeat-database",b1=1,rs="firebase-heartbeat-store",Bf=null;function EI(){return Bf||(Bf=fI(C1,b1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rs)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bn.create("idb-open",{originalErrorMessage:t.message})})),Bf}function T1(t){return D(this,null,function*(){try{let n=(yield EI()).transaction(rs),r=yield n.objectStore(rs).get(II(t));return yield n.done,r}catch(e){if(e instanceof hn)wr.warn(e.message);else{let n=Bn.create("idb-get",{originalErrorMessage:e?.message});wr.warn(n.message)}}})}function gI(t,e){return D(this,null,function*(){try{let r=(yield EI()).transaction(rs,"readwrite");yield r.objectStore(rs).put(e,II(t)),yield r.done}catch(n){if(n instanceof hn)wr.warn(n.message);else{let r=Bn.create("idb-set",{originalErrorMessage:n?.message});wr.warn(r.message)}}})}function II(t){return`${t.name}!${t.options.appId}`}var A1=1024,S1=30*24*60*60*1e3,Gf=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Wf(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=mI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=S1}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return D(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=mI(),{heartbeatsToSend:r,unsentEntries:i}=M1(this._heartbeatsCache.heartbeats),o=Xo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function mI(){return new Date().toISOString().substring(0,10)}function M1(t,e=A1){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),yI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Wf=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return Zu()?sI().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield T1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function yI(t){return Xo(JSON.stringify({version:2,heartbeats:t})).length}function x1(t){ns(new fn("platform-logger",e=>new Uf(e),"PRIVATE")),ns(new fn("heartbeat",e=>new Gf(e),"PRIVATE")),Un($f,pI,t),Un($f,pI,"esm2017"),Un("fire-js","")}x1("");var R1="firebase",N1="10.8.0";Un(R1,N1,"app");var P1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},St={},v,mp=mp||{},N=P1||self;function pc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ys(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function O1(t){return Object.prototype.hasOwnProperty.call(t,Qf)&&t[Qf]||(t[Qf]=++F1)}var Qf="closure_uid_"+(1e9*Math.random()>>>0),F1=0;function k1(t,e,n){return t.call.apply(t.bind,arguments)}function V1(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function je(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?je=k1:je=V1,je.apply(null,arguments)}function tc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function be(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function $n(){this.s=this.s,this.o=this.o}var L1=0;$n.prototype.s=!1;$n.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),L1!=0)&&O1(this)};$n.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var FI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function yp(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function DI(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(pc(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Be(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Be.prototype.h=function(){this.defaultPrevented=!0};var j1=function(){if(!N.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};N.addEventListener("test",n,e),N.removeEventListener("test",n,e)}catch{}return t}();function cs(t){return/^[\s\xa0]*$/.test(t)}function gc(){var t=N.navigator;return t&&(t=t.userAgent)?t:""}function Gt(t){return gc().indexOf(t)!=-1}function vp(t){return vp[" "](t),t}vp[" "]=function(){};function B1(t,e){var n=SO;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var U1=Gt("Opera"),Ni=Gt("Trident")||Gt("MSIE"),kI=Gt("Edge"),ep=kI||Ni,VI=Gt("Gecko")&&!(gc().toLowerCase().indexOf("webkit")!=-1&&!Gt("Edge"))&&!(Gt("Trident")||Gt("MSIE"))&&!Gt("Edge"),$1=gc().toLowerCase().indexOf("webkit")!=-1&&!Gt("Edge");function LI(){var t=N.document;return t?t.documentMode:void 0}var tp;e:{if(nc="",rc=function(){var t=gc();if(VI)return/rv:([^\);]+)(\)|;)/.exec(t);if(kI)return/Edge\/([\d\.]+)/.exec(t);if(Ni)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if($1)return/WebKit\/(\S+)/.exec(t);if(U1)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),rc&&(nc=rc?rc[1]:""),Ni&&(ic=LI(),ic!=null&&ic>parseFloat(nc))){tp=String(ic);break e}tp=nc}var nc,rc,ic,np;N.document&&Ni?(Yf=LI(),np=Yf||parseInt(tp,10)||void 0):np=void 0;var Yf,H1=np;function ls(t,e){if(Be.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(VI){e:{try{vp(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:z1[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ls.$.h.call(this)}}be(ls,Be);var z1={2:"touch",3:"pen",4:"mouse"};ls.prototype.h=function(){ls.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var vs="closure_listenable_"+(1e6*Math.random()|0),q1=0;function G1(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++q1,this.fa=this.ia=!1}function mc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function _p(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function W1(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function jI(t){let e={};for(let n in t)e[n]=t[n];return e}var CI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<CI.length;o++)n=CI[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yc(t){this.src=t,this.g={},this.h=0}yc.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=ip(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new G1(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function rp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=FI(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(mc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ip(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var wp="closure_lm_"+(1e6*Math.random()|0),Zf={};function UI(t,e,n,r,i){if(r&&r.once)return HI(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)UI(t,e[o],n,r,i);return null}return n=Dp(n),t&&t[vs]?t.O(e,n,ys(r)?!!r.capture:!!r,i):$I(t,e,n,!1,r,i)}function $I(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=ys(i)?!!i.capture:!!i,a=Ip(t);if(a||(t[wp]=a=new yc(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=K1(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)j1||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(qI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function K1(){function t(n){return e.call(t.src,t.listener,n)}let e=Q1;return t}function HI(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)HI(t,e[o],n,r,i);return null}return n=Dp(n),t&&t[vs]?t.P(e,n,ys(r)?!!r.capture:!!r,i):$I(t,e,n,!0,r,i)}function zI(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)zI(t,e[o],n,r,i);else r=ys(r)?!!r.capture:!!r,n=Dp(n),t&&t[vs]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=ip(o,n,r,i),-1<n&&(mc(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ip(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ip(e,n,r,i)),(n=-1<t?e[t]:null)&&Ep(n))}function Ep(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[vs])rp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(qI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ip(e))?(rp(n,t),n.h==0&&(n.src=null,e[wp]=null)):mc(t)}}}function qI(t){return t in Zf?Zf[t]:Zf[t]="on"+t}function Q1(t,e){if(t.fa)t=!0;else{e=new ls(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ep(t),t=n.call(r,e)}return t}function Ip(t){return t=t[wp],t instanceof yc?t:null}var Xf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dp(t){return typeof t=="function"?t:(t[Xf]||(t[Xf]=function(e){return t.handleEvent(e)}),t[Xf])}function Ce(){$n.call(this),this.i=new yc(this),this.S=this,this.J=null}be(Ce,$n);Ce.prototype[vs]=!0;Ce.prototype.removeEventListener=function(t,e,n,r){zI(this,t,e,n,r)};function Oe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Be(e,t);else if(e instanceof Be)e.target=e.target||t;else{var i=e;e=new Be(r,t),BI(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=oc(s,r,!0,e)&&i}if(s=e.g=t,i=oc(s,r,!0,e)&&i,i=oc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=oc(s,r,!1,e)&&i}Ce.prototype.N=function(){if(Ce.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)mc(n[r]);delete t.g[e],t.h--}}this.J=null};Ce.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ce.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function oc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&rp(t.i,s),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Cp=N.JSON.stringify,op=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Y1(){var t=bp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var sp=class{constructor(){this.h=this.g=null}add(e,n){let r=GI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},GI=new op(()=>new ap,t=>t.reset()),ap=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function Z1(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function X1(t){N.setTimeout(()=>{throw t},0)}var ds,hs=!1,bp=new sp,WI=()=>{let t=N.Promise.resolve(void 0);ds=()=>{t.then(J1)}},J1=()=>{for(var t;t=Y1();){try{t.h.call(t.g)}catch(n){X1(n)}var e=GI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}hs=!1};function vc(t,e){Ce.call(this),this.h=t||1,this.g=e||N,this.j=je(this.qb,this),this.l=Date.now()}be(vc,Ce);v=vc.prototype;v.ga=!1;v.T=null;v.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Oe(this,"tick"),this.ga&&(Tp(this),this.start()))}};v.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Tp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}v.N=function(){vc.$.N.call(this),Tp(this),delete this.g};function Ap(t,e,n){if(typeof t=="function")n&&(t=je(t,n));else if(t&&typeof t.handleEvent=="function")t=je(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:N.setTimeout(t,e||0)}function KI(t){t.g=Ap(()=>{t.g=null,t.i&&(t.i=!1,KI(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var up=class extends $n{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:KI(this)}N(){super.N(),this.g&&(N.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function fs(t){$n.call(this),this.h=t,this.g={}}be(fs,$n);var bI=[];function QI(t,e,n,r){Array.isArray(n)||(n&&(bI[0]=n.toString()),n=bI);for(var i=0;i<n.length;i++){var o=UI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function YI(t){_p(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ep(e)},t),t.g={}}fs.prototype.N=function(){fs.$.N.call(this),YI(this)};fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function _c(){this.g=!0}_c.prototype.Ea=function(){this.g=!1};function eO(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&d[1]=="type"?s+(l+"="+c+"&"):s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function tO(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function xi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+rO(t,n)+(r?" "+r:"")})}function nO(t,e){t.info(function(){return"TIMEOUT: "+e})}_c.prototype.info=function(){};function rO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Cp(n)}catch{return e}}var Cr={},TI=null;function wc(){return TI=TI||new Ce}Cr.Ta="serverreachability";function ZI(t){Be.call(this,Cr.Ta,t)}be(ZI,Be);function ps(t){let e=wc();Oe(e,new ZI(e))}Cr.STAT_EVENT="statevent";function XI(t,e){Be.call(this,Cr.STAT_EVENT,t),this.stat=e}be(XI,Be);function Ke(t){let e=wc();Oe(e,new XI(e,t))}Cr.Ua="timingevent";function JI(t,e){Be.call(this,Cr.Ua,t),this.size=e}be(JI,Be);function _s(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return N.setTimeout(function(){t()},e)}var Ec={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},eD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Sp(){}Sp.prototype.h=null;function AI(t){return t.h||(t.h=t.i())}function tD(){}var ws={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Mp(){Be.call(this,"d")}be(Mp,Be);function xp(){Be.call(this,"c")}be(xp,Be);var cp;function Ic(){}be(Ic,Sp);Ic.prototype.g=function(){return new XMLHttpRequest};Ic.prototype.i=function(){return{}};cp=new Ic;function Es(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new fs(this),this.P=iO,t=ep?125:void 0,this.V=new vc(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new nD}function nD(){this.i=null,this.g="",this.h=!1}var iO=45e3,rD={},lp={};v=Es.prototype;v.setTimeout=function(t){this.P=t};function dp(t,e,n){t.L=1,t.A=Cc(gn(e)),t.u=n,t.S=!0,iD(t,null)}function iD(t,e){t.G=Date.now(),Is(t),t.B=gn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),hD(n.i,"t",r),t.o=0,n=t.l.J,t.h=new nD,t.g=PD(t.l,n?e:null,!t.u),0<t.O&&(t.M=new up(je(t.Pa,t,t.g),t.O)),QI(t.U,t.g,"readystatechange",t.nb),e=t.I?jI(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ps(),eO(t.j,t.v,t.B,t.m,t.W,t.u)}v.nb=function(t){t=t.target;let e=this.M;e&&Wt(t)==3?e.l():this.Pa(t)};v.Pa=function(t){try{if(t==this.g)e:{let l=Wt(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||ep||this.g&&(this.h.h||this.g.ja()||RI(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?ps(3):ps(2)),Dc(this);var n=this.g.da();this.ca=n;t:if(oD(this)){var r=RI(this.g);t="";var i=r.length,o=Wt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Er(this),us(this);var s="";break t}this.h.i=new N.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,tO(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cs(a)){var c=a;break t}}c=null}if(n=c)xi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hp(this,n);else{this.i=!1,this.s=3,Ke(12),Er(this),us(this);break e}}this.S?(sD(this,l,s),ep&&this.i&&l==3&&(QI(this.U,this.V,"tick",this.mb),this.V.start())):(xi(this.j,this.m,s,null),hp(this,s)),l==4&&Er(this),this.i&&!this.J&&(l==4?MD(this.l,this):(this.i=!1,Is(this)))}else bO(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Ke(12)):(this.s=0,Ke(13)),Er(this),us(this)}}}catch{}finally{}};function oD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function sD(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=oO(t,n),i==lp){e==4&&(t.s=4,Ke(14),r=!1),xi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==rD){t.s=4,Ke(15),xi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else xi(t.j,t.m,i,null),hp(t,i);oD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ke(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),kp(e),e.M=!0,Ke(11))):(xi(t.j,t.m,n,"[Invalid Chunked Response]"),Er(t),us(t))}v.mb=function(){if(this.g){var t=Wt(this.g),e=this.g.ja();this.o<e.length&&(Dc(this),sD(this,t,e),this.i&&t!=4&&Is(this))}};function oO(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?lp:(n=Number(e.substring(n,r)),isNaN(n)?rD:(r+=1,r+n>e.length?lp:(e=e.slice(r,r+n),t.o=r+n,e)))}v.cancel=function(){this.J=!0,Er(this)};function Is(t){t.Y=Date.now()+t.P,aD(t,t.P)}function aD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=_s(je(t.lb,t),e)}function Dc(t){t.C&&(N.clearTimeout(t.C),t.C=null)}v.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(nO(this.j,this.B),this.L!=2&&(ps(),Ke(17)),Er(this),this.s=2,us(this)):aD(this,this.Y-t)};function us(t){t.l.H==0||t.J||MD(t.l,t)}function Er(t){Dc(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Tp(t.V),YI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function hp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||fp(n.i,t))){if(!t.K&&fp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)lc(n),Ac(n);else break e;Fp(n),Ke(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=_s(je(n.ib,n),6e3));if(1>=gD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ir(n,11)}else if((t.K||n.g==t)&&lc(n),!cs(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];let l=c[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=r.i;o.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Rp(o,o.h),o.h=null))}if(r.F){let b=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(r.Da=b,se(r.I,r.F,b))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=ND(r,r.J?r.pa:null,r.Y),s.K){mD(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.C&&(Dc(a),Is(a)),r.g=s}else AD(r);0<n.j.length&&Sc(n)}else c[0]!="stop"&&c[0]!="close"||Ir(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ir(n,7):Op(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}ps(4)}catch{}}function sO(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(pc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function aO(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(pc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function uD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(pc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=aO(t),r=sO(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var cD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Dr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Dr){this.h=t.h,uc(this,t.j),this.s=t.s,this.g=t.g,cc(this,t.m),this.l=t.l;var e=t.i,n=new gs;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),SI(this,n),this.o=t.o}else t&&(e=String(t).match(cD))?(this.h=!1,uc(this,e[1]||"",!0),this.s=ss(e[2]||""),this.g=ss(e[3]||"",!0),cc(this,e[4]),this.l=ss(e[5]||"",!0),SI(this,e[6]||"",!0),this.o=ss(e[7]||"")):(this.h=!1,this.i=new gs(null,this.h))}Dr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(as(e,MI,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(as(e,MI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(as(n,n.charAt(0)=="/"?dO:lO,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",as(n,fO)),t.join("")};function gn(t){return new Dr(t)}function uc(t,e,n){t.j=n?ss(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function cc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function SI(t,e,n){e instanceof gs?(t.i=e,pO(t.i,t.h)):(n||(e=as(e,hO)),t.i=new gs(e,t.h))}function se(t,e,n){t.i.set(e,n)}function Cc(t){return se(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ss(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function as(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,cO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function cO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var MI=/[#\/\?@]/g,lO=/[#\?:]/g,dO=/[#\?]/g,hO=/[#\?@]/g,fO=/#/g;function gs(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Hn(t){t.g||(t.g=new Map,t.h=0,t.i&&uO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}v=gs.prototype;v.add=function(t,e){Hn(this),this.i=null,t=Pi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function lD(t,e){Hn(t),e=Pi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function dD(t,e){return Hn(t),e=Pi(t,e),t.g.has(e)}v.forEach=function(t,e){Hn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};v.ta=function(){Hn(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};v.Z=function(t){Hn(this);let e=[];if(typeof t=="string")dD(this,t)&&(e=e.concat(this.g.get(Pi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};v.set=function(t,e){return Hn(this),this.i=null,t=Pi(this,t),dD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};v.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function hD(t,e,n){lD(t,e),0<n.length&&(t.i=null,t.g.set(Pi(t,e),yp(n)),t.h+=n.length)}v.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Pi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function pO(t,e){e&&!t.j&&(Hn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(lD(this,r),hD(this,i,n))},t)),t.j=e}var gO=class{constructor(t,e){this.g=t,this.map=e}};function fD(t){this.l=t||mO,N.PerformanceNavigationTiming?(t=N.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(N.g&&N.g.Ka&&N.g.Ka()&&N.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var mO=10;function pD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function gD(t){return t.h?1:t.g?t.g.size:0}function fp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Rp(t,e){t.g?t.g.add(e):t.h=e}function mD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}fD.prototype.cancel=function(){if(this.i=yD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function yD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return yp(t.i)}var yO=class{stringify(t){return N.JSON.stringify(t,void 0)}parse(t){return N.JSON.parse(t,void 0)}};function vO(){this.g=new yO}function _O(t,e,n){let r=n||"";try{uD(t,function(i,o){let s=i;ys(i)&&(s=Cp(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wO(t,e){let n=new _c;if(N.Image){let r=new Image;r.onload=tc(sc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=tc(sc,n,r,"TestLoadImage: error",!1,e),r.onabort=tc(sc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=tc(sc,n,r,"TestLoadImage: timeout",!1,e),N.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function sc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ds(t){this.l=t.ec||null,this.j=t.ob||!1}be(Ds,Sp);Ds.prototype.g=function(){return new bc(this.l,this.j)};Ds.prototype.i=function(t){return function(){return t}}({});function bc(t,e){Ce.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Np,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}be(bc,Ce);var Np=0;v=bc.prototype;v.open=function(t,e){if(this.readyState!=Np)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ms(this)};v.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||N).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};v.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=Np};v.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ms(this)),this.g&&(this.readyState=3,ms(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof N.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function vD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}v.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Cs(this):ms(this),this.readyState==3&&vD(this)}};v.Za=function(t){this.g&&(this.response=this.responseText=t,Cs(this))};v.Ya=function(t){this.g&&(this.response=t,Cs(this))};v.ka=function(){this.g&&Cs(this)};function Cs(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ms(t)}v.setRequestHeader=function(t,e){this.v.append(t,e)};v.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};v.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ms(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(bc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var EO=N.JSON.parse;function ce(t){Ce.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_D,this.L=this.M=!1}be(ce,Ce);var _D="",IO=/^https?$/i,DO=["POST","PUT"];v=ce.prototype;v.Oa=function(t){this.M=t};v.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cp.g(),this.C=this.u?AI(this.u):AI(cp),this.g.onreadystatechange=je(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){xI(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=N.FormData&&t instanceof N.FormData,!(0<=FI(DO,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ID(this),0<this.B&&((this.L=CO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=je(this.ua,this)):this.A=Ap(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){xI(this,o)}};function CO(t){return Ni&&typeof t.timeout=="number"&&t.ontimeout!==void 0}v.ua=function(){typeof mp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oe(this,"timeout"),this.abort(8))};function xI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,wD(t),Tc(t)}function wD(t){t.F||(t.F=!0,Oe(t,"complete"),Oe(t,"error"))}v.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Oe(this,"complete"),Oe(this,"abort"),Tc(this))};v.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tc(this,!0)),ce.$.N.call(this)};v.La=function(){this.s||(this.G||this.v||this.l?ED(this):this.kb())};v.kb=function(){ED(this)};function ED(t){if(t.h&&typeof mp<"u"&&(!t.C[1]||Wt(t)!=4||t.da()!=2)){if(t.v&&Wt(t)==4)Ap(t.La,0,t);else if(Oe(t,"readystatechange"),Wt(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(cD)[1]||null;!i&&N.self&&N.self.location&&(i=N.self.location.protocol.slice(0,-1)),r=!IO.test(i?i.toLowerCase():"")}n=r}if(n)Oe(t,"complete"),Oe(t,"success");else{t.m=6;try{var o=2<Wt(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",wD(t)}}finally{Tc(t)}}}}function Tc(t,e){if(t.g){ID(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Oe(t,"ready");try{n.onreadystatechange=r}catch{}}}function ID(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(N.clearTimeout(t.A),t.A=null)}v.isActive=function(){return!!this.g};function Wt(t){return t.g?t.g.readyState:0}v.da=function(){try{return 2<Wt(this)?this.g.status:-1}catch{return-1}};v.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};v.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),EO(e)}};function RI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case _D:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function bO(t){let e={};t=(t.g&&2<=Wt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(cs(t[r]))continue;var n=Z1(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}W1(e,function(r){return r.join(", ")})}v.Ia=function(){return this.m};v.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function DD(t){let e="";return _p(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Pp(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=DD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):se(t,e,n))}function is(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function CD(t){this.Ga=0,this.j=[],this.l=new _c,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=is("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=is("baseRetryDelayMs",5e3,t),this.hb=is("retryDelaySeedMs",1e4,t),this.eb=is("forwardChannelMaxRetries",2,t),this.xa=is("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new fD(t&&t.concurrentRequestLimit),this.Ja=new vO,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}v=CD.prototype;v.ra=8;v.H=1;function Op(t){if(bD(t),t.H==3){var e=t.W++,n=gn(t.I);if(se(n,"SID",t.K),se(n,"RID",e),se(n,"TYPE","terminate"),bs(t,n),e=new Es(t,t.l,e),e.L=2,e.A=Cc(gn(n)),n=!1,N.navigator&&N.navigator.sendBeacon)try{n=N.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&N.Image&&(new Image().src=e.A,n=!0),n||(e.g=PD(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Is(e)}RD(t)}function Ac(t){t.g&&(kp(t),t.g.cancel(),t.g=null)}function bD(t){Ac(t),t.u&&(N.clearTimeout(t.u),t.u=null),lc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&N.clearTimeout(t.m),t.m=null)}function Sc(t){if(!pD(t.i)&&!t.m){t.m=!0;var e=t.Na;ds||WI(),hs||(ds(),hs=!0),bp.add(e,t),t.C=0}}function TO(t,e){return gD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=_s(je(t.Na,t,e),xD(t,t.C)),t.C++,!0)}v.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Es(this,this.l,t),o=this.s;if(this.U&&(o?(o=jI(o),BI(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=TD(this,i,e),n=gn(this.I),se(n,"RID",t),se(n,"CVER",22),this.F&&se(n,"X-HTTP-Session-Id",this.F),bs(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(DD(o)))+"&"+e:this.o&&Pp(n,this.o,o)),Rp(this.i,i),this.bb&&se(n,"TYPE","init"),this.P?(se(n,"$req",e),se(n,"SID","null"),i.aa=!0,dp(i,n,null)):dp(i,n,e),this.H=2}}else this.H==3&&(t?NI(this,t):this.j.length==0||pD(this.i)||NI(this))};function NI(t,e){var n;e?n=e.m:n=t.W++;let r=gn(t.I);se(r,"SID",t.K),se(r,"RID",n),se(r,"AID",t.V),bs(t,r),t.o&&t.s&&Pp(r,t.o,t.s),n=new Es(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=TD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Rp(t.i,n),dp(n,r,e)}function bs(t,e){t.na&&_p(t.na,function(n,r){se(e,r,n)}),t.h&&uD({},function(n,r){se(e,r,n)})}function TD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?je(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let c=i[u].g,l=i[u].map;if(c-=o,0>c)o=Math.max(0,i[u].g-100),a=!1;else try{_O(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function AD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ds||WI(),hs||(ds(),hs=!0),bp.add(e,t),t.A=0}}function Fp(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=_s(je(t.Ma,t),xD(t,t.A)),t.A++,!0)}v.Ma=function(){if(this.u=null,SD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=_s(je(this.jb,this),t)}};v.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ke(10),Ac(this),SD(this))};function kp(t){t.B!=null&&(N.clearTimeout(t.B),t.B=null)}function SD(t){t.g=new Es(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=gn(t.wa);se(e,"RID","rpc"),se(e,"SID",t.K),se(e,"AID",t.V),se(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&se(e,"TO",t.qa),se(e,"TYPE","xmlhttp"),bs(t,e),t.o&&t.s&&Pp(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Cc(gn(e)),n.u=null,n.S=!0,iD(n,t)}v.ib=function(){this.v!=null&&(this.v=null,Ac(this),Fp(this),Ke(19))};function lc(t){t.v!=null&&(N.clearTimeout(t.v),t.v=null)}function MD(t,e){var n=null;if(t.g==e){lc(t),kp(t),t.g=null;var r=2}else if(fp(t.i,e))n=e.F,mD(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=wc(),Oe(r,new JI(r,n)),Sc(t)}else AD(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&TO(t,e)||r==2&&Fp(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ir(t,5);break;case 4:Ir(t,10);break;case 3:Ir(t,6);break;default:Ir(t,2)}}}function xD(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ir(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=je(t.pb,t);n||(n=new Dr("//www.google.com/images/cleardot.gif"),N.location&&N.location.protocol=="http"||uc(n,"https"),Cc(n)),wO(n.toString(),r)}else Ke(2);t.H=0,t.h&&t.h.za(e),RD(t),bD(t)}v.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ke(2)):(this.l.info("Failed to ping google.com"),Ke(1))};function RD(t){if(t.H=0,t.ma=[],t.h){let e=yD(t.i);(e.length!=0||t.j.length!=0)&&(DI(t.ma,e),DI(t.ma,t.j),t.i.i.length=0,yp(t.j),t.j.length=0),t.h.ya()}}function ND(t,e,n){var r=n instanceof Dr?gn(n):new Dr(n);if(r.g!="")e&&(r.g=e+"."+r.g),cc(r,r.m);else{var i=N.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Dr(null);r&&uc(o,r),e&&(o.g=e),i&&cc(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&se(r,n,e),se(r,"VER",t.ra),bs(t,r),r}function PD(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ce(new Ds({ob:n})):new ce(t.va),e.Oa(t.J),e}v.isActive=function(){return!!this.h&&this.h.isActive(this)};function OD(){}v=OD.prototype;v.Ba=function(){};v.Aa=function(){};v.za=function(){};v.ya=function(){};v.isActive=function(){return!0};v.Va=function(){};function dc(){if(Ni&&!(10<=Number(H1)))throw Error("Environmental error: no available transport.")}dc.prototype.g=function(t,e){return new ut(t,e)};function ut(t,e){Ce.call(this),this.g=new CD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!cs(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cs(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Oi(this)}be(ut,Ce);ut.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ke(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ND(t,null,t.Y),Sc(t)};ut.prototype.close=function(){Op(this.g)};ut.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Cp(t),t=n);e.j.push(new gO(e.fb++,t)),e.H==3&&Sc(e)};ut.prototype.N=function(){this.g.h=null,delete this.j,Op(this.g),delete this.g,ut.$.N.call(this)};function FD(t){Mp.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}be(FD,Mp);function kD(){xp.call(this),this.status=1}be(kD,xp);function Oi(t){this.g=t}be(Oi,OD);Oi.prototype.Ba=function(){Oe(this.g,"a")};Oi.prototype.Aa=function(t){Oe(this.g,new FD(t))};Oi.prototype.za=function(t){Oe(this.g,new kD)};Oi.prototype.ya=function(){Oe(this.g,"b")};function AO(){this.blockSize=-1}function At(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}be(At,AO);At.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Jf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}At.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Jf(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Jf(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Jf(this,r),i=0;break}}this.h=i,this.i+=e};At.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function X(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var SO={};function Vp(t){return-128<=t&&128>t?B1(t,function(e){return new X([e|0],0>e?-1:0)}):new X([t|0],0>t?-1:0)}function Kt(t){if(isNaN(t)||!isFinite(t))return Ri;if(0>t)return Pe(Kt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=pp;return new X(e,0)}function VD(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Pe(VD(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Kt(Math.pow(e,8)),r=Ri,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Kt(Math.pow(e,o)),r=r.R(o).add(Kt(s))):(r=r.R(n),r=r.add(Kt(s)))}return r}var pp=4294967296,Ri=Vp(0),gp=Vp(1),PI=Vp(16777216);v=X.prototype;v.ea=function(){if(vt(this))return-Pe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:pp+r)*e,e*=pp}return t};v.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(pn(this))return"0";if(vt(this))return"-"+Pe(this).toString(t);for(var e=Kt(Math.pow(t,6)),n=this,r="";;){var i=fc(n,e).g;n=hc(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,pn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};v.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function pn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function vt(t){return t.h==-1}v.X=function(t){return t=hc(this,t),vt(t)?-1:pn(t)?0:1};function Pe(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new X(n,~t.h).add(gp)}v.abs=function(){return vt(this)?Pe(this):this};v.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new X(n,n[n.length-1]&-2147483648?-1:0)};function hc(t,e){return t.add(Pe(e))}v.R=function(t){if(pn(this)||pn(t))return Ri;if(vt(this))return vt(t)?Pe(this).R(Pe(t)):Pe(Pe(this).R(t));if(vt(t))return Pe(this.R(Pe(t)));if(0>this.X(PI)&&0>t.X(PI))return Kt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=s*u,ac(n,2*r+2*i),n[2*r+2*i+1]+=o*u,ac(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,ac(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,ac(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new X(n,0)};function ac(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function os(t,e){this.g=t,this.h=e}function fc(t,e){if(pn(e))throw Error("division by zero");if(pn(t))return new os(Ri,Ri);if(vt(t))return e=fc(Pe(t),e),new os(Pe(e.g),Pe(e.h));if(vt(e))return e=fc(t,Pe(e)),new os(Pe(e.g),e.h);if(30<t.g.length){if(vt(t)||vt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=gp,r=e;0>=r.X(t);)n=OI(n),r=OI(r);var i=Mi(n,1),o=Mi(r,1);for(r=Mi(r,2),n=Mi(n,2);!pn(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Mi(r,1),n=Mi(n,1)}return e=hc(t,i.R(e)),new os(i,e)}for(i=Ri;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Kt(n),s=o.R(e);vt(s)||0<s.X(t);)n-=r,o=Kt(n),s=o.R(e);pn(o)&&(o=gp),i=i.add(o),t=hc(t,s)}return new os(i,t)}v.gb=function(t){return fc(this,t).h};v.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new X(n,this.h&t.h)};v.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new X(n,this.h|t.h)};v.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new X(n,this.h^t.h)};function OI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new X(n,t.h)}function Mi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new X(i,t.h)}dc.prototype.createWebChannel=dc.prototype.g;ut.prototype.send=ut.prototype.u;ut.prototype.open=ut.prototype.m;ut.prototype.close=ut.prototype.close;Ec.NO_ERROR=0;Ec.TIMEOUT=8;Ec.HTTP_ERROR=6;eD.COMPLETE="complete";tD.EventType=ws;ws.OPEN="a";ws.CLOSE="b";ws.ERROR="c";ws.MESSAGE="d";Ce.prototype.listen=Ce.prototype.O;ce.prototype.listenOnce=ce.prototype.P;ce.prototype.getLastError=ce.prototype.Sa;ce.prototype.getLastErrorCode=ce.prototype.Ia;ce.prototype.getStatus=ce.prototype.da;ce.prototype.getResponseJson=ce.prototype.Wa;ce.prototype.getResponseText=ce.prototype.ja;ce.prototype.send=ce.prototype.ha;ce.prototype.setWithCredentials=ce.prototype.Oa;At.prototype.digest=At.prototype.l;At.prototype.reset=At.prototype.reset;At.prototype.update=At.prototype.j;X.prototype.add=X.prototype.add;X.prototype.multiply=X.prototype.R;X.prototype.modulo=X.prototype.gb;X.prototype.compare=X.prototype.X;X.prototype.toNumber=X.prototype.ea;X.prototype.toString=X.prototype.toString;X.prototype.getBits=X.prototype.D;X.fromNumber=Kt;X.fromString=VD;var LD=St.createWebChannelTransport=function(){return new dc},jD=St.getStatEventTarget=function(){return wc()},Mc=St.ErrorCode=Ec,BD=St.EventType=eD,UD=St.Event=Cr,Lp=St.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},D4=St.FetchXmlHttpFactory=Ds,Ts=St.WebChannel=tD,$D=St.XhrIo=ce,MO=St.Md5=At,HD=St.Integer=X;var zD="@firebase/firestore";var Te=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Te.UNAUTHENTICATED=new Te(null),Te.GOOGLE_CREDENTIALS=new Te("google-credentials-uid"),Te.FIRST_PARTY=new Te("first-party-uid"),Te.MOCK_USER=new Te("mock-user");var Xi="10.8.0";var xr=new Si("@firebase/firestore");function As(){return xr.logLevel}function I(t,...e){if(xr.logLevel<=Q.DEBUG){let n=e.map(um);xr.debug(`Firestore (${Xi}): ${t}`,...n)}}function qn(t,...e){if(xr.logLevel<=Q.ERROR){let n=e.map(um);xr.error(`Firestore (${Xi}): ${t}`,...n)}}function Fc(t,...e){if(xr.logLevel<=Q.WARN){let n=e.map(um);xr.warn(`Firestore (${Xi}): ${t}`,...n)}}function um(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function H(t="Unexpected state"){let e=`FIRESTORE (${Xi}) INTERNAL ASSERTION FAILED: `+t;throw qn(e),new Error(e)}function Se(t,e){t||H()}function ae(t,e){return t}var p={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},x=class extends hn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Xt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var kc=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},$p=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Te.UNAUTHENTICATED))}shutdown(){}},Hp=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},zp=class{constructor(e){this.t=e,this.currentUser=Te.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Xt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xt,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>D(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xt)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new kc(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new Te(e)}},qp=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Te.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Gp=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new qp(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Te.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Wp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Kp=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,I("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new Wp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function xO(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Vc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=xO(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ie(t,e){return t<e?-1:t>e?1:0}function Li(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var He=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new x(p.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new x(p.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new x(p.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(p.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var de=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new He(0,0))}static max(){return new t(new He(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Lc=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&H(),r===void 0?r=e.length-n:r>e.length-n&&H(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ve=class t extends Lc{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new x(p.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},RO=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ct=class t extends Lc{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return RO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new x(p.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new x(p.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new x(p.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new x(p.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var j=class t{constructor(e){this.path=e}static fromPath(e){return new t(ve.fromString(e))}static fromName(e){return new t(ve.fromString(e).popFirst(5))}static empty(){return new t(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ve(e.slice()))}};var Qp=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Qp.UNKNOWN_ID=-1;function NO(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new Rr(i,j.empty(),e)}function PO(t){return new Rr(t.readTime,t.key,-1)}var Rr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(de.min(),j.empty(),-1)}static max(){return new t(de.max(),j.empty(),-1)}};function OO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}var FO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Yp=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function c0(t){return D(this,null,function*(){if(t.code!==p.FAILED_PRECONDITION||t.message!==FO)throw t;I("LocalStore","Unexpectedly lost primary lease")})}var g=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let c=u;n(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};var Zp=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Xt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ar(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=cm(r.target.error);this.V.reject(new Ar(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new Ar(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(I("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Jp(n)}},jc=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(es())===12.2&&qn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return I("SimpleDb","Removing database:",e),br(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Zu())return!1;if(t.C())return!0;let e=es(),n=t.S(e),r=0<n&&n<10,i=t.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return D(this,null,function*(){return this.db||(I("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;n(s)},i.onblocked=()=>{r(new Ar(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new x(p.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new x(p.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Ar(e,s))},i.onupgradeneeded=o=>{I("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{I("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return D(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.O(e);let a=Zp.open(this.db,e,o?"readonly":"readwrite",r),u=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),g.reject(c))).toPromise();return u.catch(()=>{}),yield a.m,u}catch(a){let u=a,c=u.name!=="FirebaseError"&&s<3;if(I("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),!c)return Promise.reject(u)}}})}close(){this.db&&this.db.close(),this.db=void 0}},Xp=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return br(this.k.delete())}},Ar=class extends x{constructor(e,n){super(p.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function rl(t){return t.name==="IndexedDbTransactionError"}var Jp=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(I("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(I("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),br(r)}add(e){return I("SimpleDb","ADD",this.store.name,e,e),br(this.store.add(e))}get(e){return br(this.store.get(e)).next(n=>(n===void 0&&(n=null),I("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return I("SimpleDb","DELETE",this.store.name,e),br(this.store.delete(e))}count(){return I("SimpleDb","COUNT",this.store.name),br(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new g((s,a)=>{o.onerror=u=>{a(u.target.error)},o.onsuccess=u=>{s(u.target.result)}})}{let o=this.cursor(r),s=[];return this.G(o,(a,u)=>{s.push(u)}).next(()=>s)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new g((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){I("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new g((r,i)=>{n.onerror=o=>{let s=cm(o.target.error);i(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){let r=[];return new g((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let u=new Xp(a),c=n(a.primaryKey,a.value,u);if(c instanceof g){let l=c.catch(d=>(u.done(),g.reject(d)));r.push(l)}u.isDone?i():u.$===null?a.continue():a.continue(u.$)}}).next(()=>g.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function br(t){return new g((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=cm(r.target.error);n(i)}})}var qD=!1;function cm(t){let e=jc.S(es());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new x("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qD||(qD=!0,setTimeout(()=>{throw r},0)),r}}return t}var kO=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function lm(t){return t==null}function Ps(t){return t===0&&1/t==-1/0}function VO(t){return typeof t=="number"&&Number.isInteger(t)&&!Ps(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var LO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],O4=[...LO,"documentOverlays"],jO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],BO=jO,F4=[...BO,"indexConfiguration","indexState","indexEntries"];function GD(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function l0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var lt=class t{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ki(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ki(this.root,e,this.comparator,!1)}getReverseIterator(){return new ki(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ki(this.root,e,this.comparator,!0)}},ki=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Jt=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();let e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}};Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Qe=class t{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bc(this.data.getIterator())}getIteratorFrom(e){return new Bc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Bc=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Zt=class t{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new t([])}unionWith(e){let n=new Qe(ct.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Li(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var eg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Gn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eg("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Gn.EMPTY_BYTE_STRING=new Gn("");var UO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(t){if(Se(!!t),typeof t=="string"){let e=0,n=UO.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ee(t.seconds),nanos:Ee(t.nanos)}}function Ee(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ji(t){return typeof t=="string"?Gn.fromBase64String(t):Gn.fromUint8Array(t)}function dm(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function d0(t){let e=t.mapValue.fields.__previous_value__;return dm(e)?d0(e):e}function Uc(t){let e=Nr(t.mapValue.fields.__local_write_time__.timestampValue);return new He(e.seconds,e.nanos)}var tg=class{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}},ng=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var xc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dm(t)?4:h0(t)?9007199254740991:10:H()}function en(t,e){if(t===e)return!0;let n=Bi(t);if(n!==Bi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uc(t).isEqual(Uc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Nr(i.timestampValue),a=Nr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ji(i.bytesValue).isEqual(ji(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ee(i.geoPointValue.latitude)===Ee(o.geoPointValue.latitude)&&Ee(i.geoPointValue.longitude)===Ee(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ee(i.integerValue)===Ee(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ee(i.doubleValue),a=Ee(o.doubleValue);return s===a?Ps(s)===Ps(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Li(t.arrayValue.values||[],e.arrayValue.values||[],en);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(GD(s)!==GD(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!en(s[u],a[u])))return!1;return!0}(t,e);default:return H()}}function Os(t,e){return(t.values||[]).find(n=>en(n,e))!==void 0}function Ui(t,e){if(t===e)return 0;let n=Bi(t),r=Bi(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ee(o.integerValue||o.doubleValue),u=Ee(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return WD(t.timestampValue,e.timestampValue);case 4:return WD(Uc(t),Uc(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(o,s){let a=ji(o),u=ji(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){let l=ie(a[c],u[c]);if(l!==0)return l}return ie(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ie(Ee(o.latitude),Ee(s.latitude));return a!==0?a:ie(Ee(o.longitude),Ee(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){let l=Ui(a[c],u[c]);if(l)return l}return ie(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===xc.mapValue&&s===xc.mapValue)return 0;if(o===xc.mapValue)return 1;if(s===xc.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),c=s.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){let h=ie(u[d],l[d]);if(h!==0)return h;let f=Ui(a[u[d]],c[l[d]]);if(f!==0)return f}return ie(u.length,l.length)}(t.mapValue,e.mapValue);default:throw H()}}function WD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);let n=Nr(t),r=Nr(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function $i(t){return rg(t)}function rg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Nr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return j.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=rg(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${rg(n.fields[s])}`;return i+"}"}(t.mapValue):H()}function ig(t){return!!t&&"integerValue"in t}function hm(t){return!!t&&"arrayValue"in t}function Pc(t){return!!t&&"mapValue"in t}function Ms(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Vs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ms(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ms(t.arrayValue.values[n]);return e}return Object.assign({},t)}function h0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Yt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ms(n)}setAll(e){let n=ct.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ms(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Pc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return en(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vs(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Ms(this.value))}};function f0(t){let e=[];return Vs(t.fields,(n,r)=>{let i=new ct([n]);if(Pc(r)){let o=f0(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Zt(e)}var Hi=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,de.min(),de.min(),de.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,de.min(),de.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,de.min(),de.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var zi=class{constructor(e,n){this.position=e,this.inclusive=n}};function KD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=j.comparator(j.fromName(s.referenceValue),n.key):r=Ui(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function QD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!en(t.position[n],e.position[n]))return!1;return!0}var qi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function $O(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var $c=class{},Ae=class t extends $c{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sg(e,n,r):n==="array-contains"?new cg(e,r):n==="in"?new lg(e,r):n==="not-in"?new dg(e,r):n==="array-contains-any"?new hg(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ag(e,r):new ug(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ui(n,this.value)):n!==null&&Bi(this.value)===Bi(n)&&this.matchesComparison(Ui(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Wn=class t extends $c{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return p0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function p0(t){return t.op==="and"}function g0(t){return HO(t)&&p0(t)}function HO(t){for(let e of t.filters)if(e instanceof Wn)return!1;return!0}function og(t){if(t instanceof Ae)return t.field.canonicalString()+t.op.toString()+$i(t.value);if(g0(t))return t.filters.map(e=>og(e)).join(",");{let e=t.filters.map(n=>og(n)).join(",");return`${t.op}(${e})`}}function m0(t,e){return t instanceof Ae?function(r,i){return i instanceof Ae&&r.op===i.op&&r.field.isEqual(i.field)&&en(r.value,i.value)}(t,e):t instanceof Wn?function(r,i){return i instanceof Wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&m0(s,i.filters[a]),!0):!1}(t,e):void H()}function y0(t){return t instanceof Ae?function(n){return`${n.field.canonicalString()} ${n.op} ${$i(n.value)}`}(t):t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(y0).join(" ,")+"}"}(t):"Filter"}var sg=class extends Ae{constructor(e,n,r){super(e,n,r),this.key=j.fromName(r.referenceValue)}matches(e){let n=j.comparator(e.key,this.key);return this.matchesComparison(n)}},ag=class extends Ae{constructor(e,n){super(e,"in",n),this.keys=v0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},ug=class extends Ae{constructor(e,n){super(e,"not-in",n),this.keys=v0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function v0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}var cg=class extends Ae{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return hm(n)&&Os(n.arrayValue,this.value)}},lg=class extends Ae{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Os(this.value.arrayValue,n)}},dg=class extends Ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(Os(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Os(this.value.arrayValue,n)}},hg=class extends Ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!hm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Os(this.value.arrayValue,r))}};var fg=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function YD(t,e=null,n=[],r=[],i=null,o=null,s=null){return new fg(t,e,n,r,i,o,s)}function fm(t){let e=ae(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>og(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),lm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$i(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$i(r)).join(",")),e.ce=n}return e.ce}function pm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$O(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!m0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QD(t.startAt,e.startAt)&&QD(t.endAt,e.endAt)}var Gi=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function zO(t,e,n,r,i,o,s,a){return new Gi(t,e,n,r,i,o,s,a)}function qO(t){return new Gi(t)}function ZD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GO(t){return t.collectionGroup!==null}function xs(t){let e=ae(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Qe(ct.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new qi(o,r))}),n.has(ct.keyField().canonicalString())||e.le.push(new qi(ct.keyField(),r))}return e.le}function Sr(t){let e=ae(t);return e.he||(e.he=WO(e,xs(t))),e.he}function WO(t,e){if(t.limitType==="F")return YD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new qi(i.field,o)});let n=t.endAt?new zi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zi(t.startAt.position,t.startAt.inclusive):null;return YD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pg(t,e,n){return new Gi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _0(t,e){return pm(Sr(t),Sr(e))&&t.limitType===e.limitType}function w0(t){return`${fm(Sr(t))}|lt:${t.limitType}`}function Ss(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>y0(i)).join(", ")}]`),lm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$i(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$i(i)).join(",")),`Target(${r})`}(Sr(t))}; limitType=${t.limitType})`}function gm(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):j.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of xs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let c=KD(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,xs(r),i)||r.endAt&&!function(s,a,u){let c=KD(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,xs(r),i))}(t,e)}function KO(t){return(e,n)=>{let r=!1;for(let i of xs(t)){let o=QO(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function QO(t,e,n){let r=t.field.isKeyField()?j.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),c=a.data.field(o);return u!==null&&c!==null?Ui(u,c):H()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}var Kn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vs(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return l0(this.inner)}size(){return this.innerSize}};var YO=new lt(j.comparator);function Hc(){return YO}var E0=new lt(j.comparator);function Rc(...t){let e=E0;for(let n of t)e=e.insert(n.key,n);return e}function I0(t){let e=E0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Tr(){return Rs()}function D0(){return Rs()}function Rs(){return new Kn(t=>t.toString(),(t,e)=>t.isEqual(e))}var ZO=new lt(j.comparator),XO=new Qe(j.comparator);function $e(...t){let e=XO;for(let n of t)e=e.add(n);return e}var JO=new Qe(ie);function eF(){return JO}function C0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ps(e)?"-0":e}}function b0(t){return{integerValue:""+t}}function tF(t,e){return VO(e)?b0(e):C0(t,e)}var Wi=class{constructor(){this._=void 0}};function nF(t,e,n){return t instanceof Ki?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&dm(o)&&(o=d0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Pr?A0(t,e):t instanceof Or?S0(t,e):function(i,o){let s=T0(i,o),a=XD(s)+XD(i.Ie);return ig(s)&&ig(i.Ie)?b0(a):C0(i.serializer,a)}(t,e)}function rF(t,e,n){return t instanceof Pr?A0(t,e):t instanceof Or?S0(t,e):n}function T0(t,e){return t instanceof Qi?function(r){return ig(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ki=class extends Wi{},Pr=class extends Wi{constructor(e){super(),this.elements=e}};function A0(t,e){let n=M0(e);for(let r of t.elements)n.some(i=>en(i,r))||n.push(r);return{arrayValue:{values:n}}}var Or=class extends Wi{constructor(e){super(),this.elements=e}};function S0(t,e){let n=M0(e);for(let r of t.elements)n=n.filter(i=>!en(i,r));return{arrayValue:{values:n}}}var Qi=class extends Wi{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function XD(t){return Ee(t.integerValue||t.doubleValue)}function M0(t){return hm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function iF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Pr&&i instanceof Pr||r instanceof Or&&i instanceof Or?Li(r.elements,i.elements,en):r instanceof Qi&&i instanceof Qi?en(r.Ie,i.Ie):r instanceof Ki&&i instanceof Ki}(t.transform,e.transform)}var gg=class{constructor(e,n){this.version=e,this.transformResults=n}},Mr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Oc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Yi=class{};function x0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zc(t.key,Mr.none()):new Fr(t.key,t.data,Mr.none());{let n=t.data,r=Yt.empty(),i=new Qe(ct.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new yn(t.key,r,new Zt(i.toArray()),Mr.none())}}function oF(t,e,n){t instanceof Fr?function(i,o,s){let a=i.value.clone(),u=e0(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof yn?function(i,o,s){if(!Oc(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=e0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(R0(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ns(t,e,n,r){return t instanceof Fr?function(o,s,a,u){if(!Oc(o.precondition,s))return a;let c=o.value.clone(),l=t0(o.fieldTransforms,u,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof yn?function(o,s,a,u){if(!Oc(o.precondition,s))return a;let c=t0(o.fieldTransforms,u,s),l=s.data;return l.setAll(R0(o)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return Oc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function sF(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=T0(r.transform,i||null);o!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,o))}return n||null}function JD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Li(r,i,(o,s)=>iF(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Fr=class extends Yi{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},yn=class extends Yi{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function R0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function e0(t,e,n){let r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,rF(s,a,n[i]))}return r}function t0(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,nF(o,s,e))}return r}var zc=class extends Yi{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},mg=class extends Yi{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var yg=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&oF(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ns(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ns(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=D0();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=x0(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&Li(this.mutations,e.mutations,(n,r)=>JD(n,r))&&Li(this.baseMutations,e.baseMutations,(n,r)=>JD(n,r))}},vg=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length);let i=function(){return ZO}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var _g=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var me,G;function aF(t){switch(t){default:return H();case p.CANCELLED:case p.UNKNOWN:case p.DEADLINE_EXCEEDED:case p.RESOURCE_EXHAUSTED:case p.INTERNAL:case p.UNAVAILABLE:case p.UNAUTHENTICATED:return!1;case p.INVALID_ARGUMENT:case p.NOT_FOUND:case p.ALREADY_EXISTS:case p.PERMISSION_DENIED:case p.FAILED_PRECONDITION:case p.ABORTED:case p.OUT_OF_RANGE:case p.UNIMPLEMENTED:case p.DATA_LOSS:return!0}}function uF(t){if(t===void 0)return qn("GRPC error has no .code"),p.UNKNOWN;switch(t){case me.OK:return p.OK;case me.CANCELLED:return p.CANCELLED;case me.UNKNOWN:return p.UNKNOWN;case me.DEADLINE_EXCEEDED:return p.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return p.RESOURCE_EXHAUSTED;case me.INTERNAL:return p.INTERNAL;case me.UNAVAILABLE:return p.UNAVAILABLE;case me.UNAUTHENTICATED:return p.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return p.INVALID_ARGUMENT;case me.NOT_FOUND:return p.NOT_FOUND;case me.ALREADY_EXISTS:return p.ALREADY_EXISTS;case me.PERMISSION_DENIED:return p.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return p.FAILED_PRECONDITION;case me.ABORTED:return p.ABORTED;case me.OUT_OF_RANGE:return p.OUT_OF_RANGE;case me.UNIMPLEMENTED:return p.UNIMPLEMENTED;case me.DATA_LOSS:return p.DATA_LOSS;default:return H()}}(G=me||(me={}))[G.OK=0]="OK",G[G.CANCELLED=1]="CANCELLED",G[G.UNKNOWN=2]="UNKNOWN",G[G.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",G[G.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",G[G.NOT_FOUND=5]="NOT_FOUND",G[G.ALREADY_EXISTS=6]="ALREADY_EXISTS",G[G.PERMISSION_DENIED=7]="PERMISSION_DENIED",G[G.UNAUTHENTICATED=16]="UNAUTHENTICATED",G[G.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",G[G.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",G[G.ABORTED=10]="ABORTED",G[G.OUT_OF_RANGE=11]="OUT_OF_RANGE",G[G.UNIMPLEMENTED=12]="UNIMPLEMENTED",G[G.INTERNAL=13]="INTERNAL",G[G.UNAVAILABLE=14]="UNAVAILABLE",G[G.DATA_LOSS=15]="DATA_LOSS";var V4=new HD([4294967295,4294967295],0);var wg=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Eg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lF(t,e){return Eg(t,e.toTimestamp())}function Vi(t){return Se(!!t),de.fromTimestamp(function(n){let r=Nr(n);return new He(r.seconds,r.nanos)}(t))}function N0(t,e){return Ig(t,e).canonicalString()}function Ig(t,e){let n=function(i){return new ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dF(t){let e=ve.fromString(t);return Se(_F(e)),e}function Dg(t,e){return N0(t.databaseId,e.path)}function hF(t){let e=dF(t);return e.length===4?ve.emptyPath():pF(e)}function fF(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pF(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function n0(t,e,n){return{name:Dg(t,e),fields:n.value.mapValue.fields}}function gF(t,e){let n;if(e instanceof Fr)n={update:n0(t,e.key,e.value)};else if(e instanceof zc)n={delete:Dg(t,e.key)};else if(e instanceof yn)n={update:n0(t,e.key,e.data),updateMask:vF(e.fieldMask)};else{if(!(e instanceof mg))return H();n={verify:Dg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ki)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Pr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Or)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qi)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw H()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:lF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:H()}(t,e.precondition)),n}function mF(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Vi(i.updateTime):Vi(o);return s.isEqual(de.min())&&(s=Vi(o)),new gg(s,i.transformResults||[])}(n,e))):[]}function yF(t){let e=hF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Se(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(d){let h=P0(d);return h instanceof Wn&&g0(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(m){return new qi(Fi(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,lm(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(d){let h=!!d.before,f=d.values||[];return new zi(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){let h=!d.before,f=d.values||[];return new zi(f,h)}(n.endAt)),zO(e,i,s,o,a,"F",u,c)}function P0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Fi(n.unaryFilter.field);return Ae.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Fi(n.unaryFilter.field);return Ae.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Fi(n.unaryFilter.field);return Ae.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Fi(n.unaryFilter.field);return Ae.create(s,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(t):t.fieldFilter!==void 0?function(n){return Ae.create(Fi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(r=>P0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return H()}}(n.compositeFilter.op))}(t):H()}function Fi(t){return ct.fromServerFormat(t.fieldPath)}function vF(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _F(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Cg=class{constructor(e){this.ct=e}};function wF(t){let e=yF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pg(e,e.limit,"L"):e}var qc=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Ee(e.integerValue));else if("doubleValue"in e){let r=Ee(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Ps(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(ji(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?h0(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):H()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),j.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};qc.bt=new qc;var bg=class{constructor(){this._n=new Tg}addToCollectionParentIndex(e,n){return this._n.add(n),g.resolve()}getCollectionParents(e,n){return g.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return g.resolve()}deleteFieldIndex(e,n){return g.resolve()}deleteAllFieldIndexes(e){return g.resolve()}createTargetIndexes(e,n){return g.resolve()}getDocumentsMatchingTarget(e,n){return g.resolve(null)}getIndexType(e,n){return g.resolve(0)}getFieldIndexes(e,n){return g.resolve([])}getNextCollectionGroupToUpdate(e){return g.resolve(null)}getMinOffset(e,n){return g.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,n){return g.resolve(Rr.min())}updateCollectionGroup(e,n,r){return g.resolve()}updateIndexEntries(e,n){return g.resolve()}},Tg=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(ve.comparator)).toArray()}};var L4=new Uint8Array(0);var Qt=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(41943040,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);var Fs=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var Ag=class{constructor(){this.changes=new Kn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Hi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?g.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Sg=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Mg=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ns(r.mutation,i,Zt.empty(),He.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$e()){let i=Tr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Rc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Tr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$e()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Hc(),s=Rs(),a=function(){return Rs()}();return n.forEach((u,c)=>{let l=r.get(c.key);i.has(c.key)&&(l===void 0||l.mutation instanceof yn)?o=o.insert(c.key,c):l!==void 0?(s.set(c.key,l.mutation.getFieldMask()),Ns(l.mutation,c,l.mutation.getFieldMask(),He.now())):s.set(c.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Sg(l,(d=s.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Rs(),i=new lt((s,a)=>s-a),o=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let c=n.get(u);if(c===null)return;let l=r.get(u)||Zt.empty();l=a.applyToLocalView(c,l),r.set(u,l);let d=(i.get(a.batchId)||$e()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),c=u.key,l=u.value,d=D0();l.forEach(h=>{if(!o.has(h)){let f=x0(n.get(h),r.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return g.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return j.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):g.resolve(Tr()),a=-1,u=o;return s.next(c=>g.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?g.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,$e())).next(l=>({batchId:a,changes:I0(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(r=>{let i=Rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Rc();return this.indexManager.getCollectionParents(e,o).next(a=>g.forEach(a,u=>{let c=function(d,h){return new Gi(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{let l=c.getKey();s.get(l)===null&&(s=s.insert(l,Hi.newInvalidDocument(l)))});let a=Rc();return s.forEach((u,c)=>{let l=o.get(u);l!==void 0&&Ns(l.mutation,c,Zt.empty(),He.now()),gm(n,c)&&(a=a.insert(u,c))}),a})}};var xg=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return g.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Vi(i.createTime)}}(n)),g.resolve()}getNamedQuery(e,n){return g.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:wF(i.bundledQuery),readTime:Vi(i.readTime)}}(n)),g.resolve()}};var Rg=class{constructor(){this.overlays=new lt(j.comparator),this.hr=new Map}getOverlay(e,n){return g.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Tr();return g.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),g.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),g.resolve()}getOverlaysForCollection(e,n,r){let i=Tr(),o=n.length+1,s=new j(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return g.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new lt((c,l)=>c-l),s=this.overlays.getIterator();for(;s.hasNext();){let c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=o.get(c.largestBatchId);l===null&&(l=Tr(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}let a=Tr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return g.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new _g(n,r));let o=this.hr.get(n);o===void 0&&(o=$e(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}};var ks=class{constructor(){this.Pr=new Qe(ye.Ir),this.Tr=new Qe(ye.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new ye(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new ye(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new j(new ve([])),r=new ye(n,e),i=new ye(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new j(new ve([])),r=new ye(n,e),i=new ye(n,e+1),o=$e();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ye(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ye=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return j.comparator(e.key,n.key)||ie(e.pr,n.pr)}static Er(e,n){return ie(e.pr,n.pr)||j.comparator(e.key,n.key)}};var Ng=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Qe(ye.Ir)}checkEmpty(e){return g.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new yg(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.wr=this.wr.add(new ye(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return g.resolve(s)}lookupMutationBatch(e,n){return g.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),o=i<0?0:i;return g.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return g.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return g.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ye(n,0),i=new ye(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{let a=this.Sr(s.pr);o.push(a)}),g.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(ie);return n.forEach(i=>{let o=new ye(i,0),s=new ye(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),g.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;j.isDocumentKey(o)||(o=o.child(""));let s=new ye(new j(o),0),a=new Qe(ie);return this.wr.forEachWhile(u=>{let c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},s),g.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return g.forEach(n.mutations,i=>{let o=new ye(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new ye(n,0),i=this.wr.firstAfterOrEqual(r);return g.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,g.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Pg=class{constructor(e){this.vr=e,this.docs=function(){return new lt(j.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return g.resolve(r?r.document.mutableCopy():Hi.newInvalidDocument(n))}getEntries(e,n){let r=Hc();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Hi.newInvalidDocument(i))}),g.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Hc(),s=n.path,a=new j(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||OO(PO(l),r)<=0||(i.has(l.key)||gm(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return g.resolve(o)}getAllFromCollectionGroup(e,n,r,i){H()}Fr(e,n){return g.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Og(this)}getSize(e){return g.resolve(this.size)}},Og=class extends Ag{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),g.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Fg=class{constructor(e){this.persistence=e,this.Mr=new Kn(n=>fm(n),pm),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ks,this.targetCount=0,this.Br=Fs.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),g.resolve()}getLastRemoteSnapshotVersion(e){return g.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return g.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),g.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),g.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new Fs(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,g.resolve()}updateTargetData(e,n){return this.qn(n),g.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,g.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),g.waitFor(o).next(()=>i)}getTargetCount(e){return g.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return g.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),g.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),g.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),g.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return g.resolve(r)}containsKey(e,n){return g.resolve(this.Nr.containsKey(n))}};var kg=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new kO(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Fg(this),this.indexManager=new bg,this.remoteDocumentCache=function(i){return new Pg(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Cg(n),this.$r=new xg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Rg,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new Ng(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){I("MemoryPersistence","Starting transaction:",e);let i=new Vg(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return g.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},Vg=class extends Yp{constructor(e){super(),this.currentSequenceNumber=e}},Lg=class t{constructor(e){this.persistence=e,this.zr=new ks,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw H()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),g.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),g.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),g.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return g.forEach(this.Jr,r=>{let i=j.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,de.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return g.or([()=>g.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var jg=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=$e(),i=$e();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Bg=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ug=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return oI()?8:jc.v(es())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Bg;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(As()<=Q.DEBUG&&I("QueryEngine","SDK will not create cache indexes for query:",Ss(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),g.resolve()):(As()<=Q.DEBUG&&I("QueryEngine","Query:",Ss(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(As()<=Q.DEBUG&&I("QueryEngine","The SDK decides to create cache indexes for query:",Ss(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(n))):g.resolve())}ji(e,n){if(ZD(n))return g.resolve(null);let r=Sr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=pg(n,null,"F"),r=Sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=$e(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let c=this.Zi(n,a);return this.Xi(n,c,s,u.readTime)?this.ji(e,pg(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return ZD(n)||i.isEqual(de.min())?g.resolve(null):this.zi.getDocuments(e,r).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,r,i)?g.resolve(null):(As()<=Q.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ss(n)),this.es(e,s,n,NO(i,-1)).next(a=>a))})}Zi(e,n){let r=new Qe(KO(e));return n.forEach((i,o)=>{gm(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return As()<=Q.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",Ss(n)),this.zi.getDocumentsMatchingQuery(e,n,Rr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var $g=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new lt(ie),this.rs=new Kn(o=>fm(o),pm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mg(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function EF(t,e,n,r){return new $g(t,e,n,r)}function O0(t,e){return D(this,null,function*(){let n=ae(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=$e();for(let c of i){s.push(c.batchId);for(let l of c.mutations)u=u.add(l.key)}for(let c of o){a.push(c.batchId);for(let l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})})}function IF(t,e){let n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){let d=c.batch,h=d.keys(),f=g.resolve();return h.forEach(m=>{f=f.next(()=>l.getEntry(u,m)).next(b=>{let _=c.docVersions.get(m);Se(_!==null),b.version.compareTo(_)<0&&(d.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),l.addEntry(b)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=$e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function DF(t){let e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function CF(t,e){let n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Gc=class{constructor(){this.activeTargetIds=eF()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Hg=class{constructor(){this.no=new Gc,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Gc,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var zg=class{io(e){}shutdown(){}};var Wc=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Nc=null;function jp(){return Nc===null?Nc=function(){return 268435456+Math.round(2147483648*Math.random())}():Nc++,"0x"+Nc.toString(16)}var bF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var qg=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Ue="WebChannelConnection",Gg=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){let a=jp(),u=this.bo(n,r.toUriEncodedString());I("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,o,s),this.Co(n,u,c,i).then(l=>(I("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Fc("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){let i=bF[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let o=jp();return new Promise((s,a)=>{let u=new $D;u.setWithCredentials(!0),u.listenOnce(BD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Mc.NO_ERROR:let l=u.getResponseJson();I(Ue,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case Mc.TIMEOUT:I(Ue,`RPC '${e}' ${o} timed out`),a(new x(p.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:let d=u.getStatus();if(I(Ue,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let m=function(_){let w=_.toLowerCase().replace(/_/g,"-");return Object.values(p).indexOf(w)>=0?w:p.UNKNOWN}(f.status);a(new x(m,f.message))}else a(new x(p.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new x(p.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{I(Ue,`RPC '${e}' ${o} completed.`)}});let c=JSON.stringify(i);I(Ue,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Fo(e,n,r){let i=jp(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=LD(),a=jD(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let l=o.join("");I(Ue,`Creating RPC '${e}' stream ${i}: ${l}`,u);let d=s.createWebChannel(l,u),h=!1,f=!1,m=new qg({lo:_=>{f?I(Ue,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(I(Ue,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),I(Ue,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},ho:()=>d.close()}),b=(_,w,B)=>{_.listen(w,re=>{try{B(re)}catch(U){setTimeout(()=>{throw U},0)}})};return b(d,Ts.EventType.OPEN,()=>{f||I(Ue,`RPC '${e}' stream ${i} transport opened.`)}),b(d,Ts.EventType.CLOSE,()=>{f||(f=!0,I(Ue,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),b(d,Ts.EventType.ERROR,_=>{f||(f=!0,Fc(Ue,`RPC '${e}' stream ${i} transport errored:`,_),m.Vo(new x(p.UNAVAILABLE,"The operation could not be completed")))}),b(d,Ts.EventType.MESSAGE,_=>{var w;if(!f){let B=_.data[0];Se(!!B);let re=B,U=re.error||((w=re[0])===null||w===void 0?void 0:w.error);if(U){I(Ue,`RPC '${e}' stream ${i} received error:`,U);let he=U.status,Me=function(J){let ue=me[J];if(ue!==void 0)return uF(ue)}(he),C=U.message;Me===void 0&&(Me=p.INTERNAL,C="Unknown error status: "+he+" with message "+U.message),f=!0,m.Vo(new x(Me,C)),d.close()}else I(Ue,`RPC '${e}' stream ${i} received:`,B),m.mo(B)}}),b(a,UD.STAT_EVENT,_=>{_.stat===Lp.PROXY?I(Ue,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Lp.NOPROXY&&I(Ue,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}};function Bp(){return typeof document<"u"?document:null}function il(t){return new wg(t,!0)}var Kc=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&I("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var Wg=class{constructor(e,n,r,i,o,s,a,u){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Kc(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return D(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return D(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return D(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===p.RESOURCE_EXHAUSTED?(qn(n.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===p.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new x(p.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>D(this,null,function*(){this.state=0,this.start()}))}__(e){return I("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Kg=class extends Wg{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=mF(e.writeResults,e.commitTime),r=Vi(e.commitTime);return this.listener.T_(r,n)}return Se(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=fF(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>gF(this.serializer,r))};this.t_(n)}};var Qg=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new x(p.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Ig(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===p.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new x(p.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,Ig(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===p.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new x(p.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var Yg=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(qn(n),this.g_=!1):I("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var Zg=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(()=>D(this,null,function*(){js(this)&&(I("RemoteStore","Restarting streams for network reachability change."),yield function(u){return D(this,null,function*(){let c=ae(u);c.v_.add(4),yield Ls(c),c.x_.set("Unknown"),c.v_.delete(4),yield ol(c)})}(this))}))}),this.x_=new Yg(r,i)}};function ol(t){return D(this,null,function*(){if(js(t))for(let e of t.F_)yield e(!0)})}function Ls(t){return D(this,null,function*(){for(let e of t.F_)yield e(!1)})}function js(t){return ae(t).v_.size===0}function F0(t,e,n){return D(this,null,function*(){if(!rl(e))throw e;t.v_.add(1),yield Ls(t),t.x_.set("Offline"),n||(n=()=>DF(t.localStore)),t.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){I("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield ol(t)}))})}function k0(t,e){return e().catch(n=>F0(t,n,e))}function sl(t){return D(this,null,function*(){let e=ae(t),n=Qn(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;TF(e);)try{let i=yield CF(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,AF(e,i)}catch(i){yield F0(e,i)}V0(e)&&L0(e)})}function TF(t){return js(t)&&t.D_.length<10}function AF(t,e){t.D_.push(e);let n=Qn(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function V0(t){return js(t)&&!Qn(t).Ho()&&t.D_.length>0}function L0(t){Qn(t).start()}function SF(t){return D(this,null,function*(){Qn(t).d_()})}function MF(t){return D(this,null,function*(){let e=Qn(t);for(let n of t.D_)e.I_(n.mutations)})}function xF(t,e,n){return D(this,null,function*(){let r=t.D_.shift(),i=vg.from(r,e,n);yield k0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield sl(t)})}function RF(t,e){return D(this,null,function*(){e&&Qn(t).P_&&(yield function(r,i){return D(this,null,function*(){if(function(s){return aF(s)&&s!==p.ABORTED}(i.code)){let o=r.D_.shift();Qn(r).Zo(),yield k0(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield sl(r)}})}(t,e)),V0(t)&&L0(t)})}function r0(t,e){return D(this,null,function*(){let n=ae(t);n.asyncQueue.verifyOperationInProgress(),I("RemoteStore","RemoteStore received new credentials");let r=js(n);n.v_.add(3),yield Ls(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield ol(n)})}function NF(t,e){return D(this,null,function*(){let n=ae(t);e?(n.v_.delete(2),yield ol(n)):e||(n.v_.add(2),yield Ls(n),n.x_.set("Unknown"))})}function Qn(t){return t.B_||(t.B_=function(n,r,i){let o=ae(n);return o.R_(),new Kg(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:SF.bind(null,t),To:RF.bind(null,t),E_:MF.bind(null,t),T_:xF.bind(null,t)}),t.F_.push(e=>D(this,null,function*(){e?(t.B_.Zo(),yield sl(t)):(yield t.B_.stop(),t.D_.length>0&&(I("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var Xg=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new x(p.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function j0(t,e){if(qn("AsyncQueue",`${e}: ${t}`),rl(t))return new x(p.UNAVAILABLE,`${e}: ${t}`);throw t}var Jg=class{constructor(){this.queries=new Kn(e=>w0(e),_0),this.onlineState="Unknown",this.K_=new Set}};function PF(t){t.K_.forEach(e=>{e.next()})}var em=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Kn(a=>w0(a),_0),this.pa=new Map,this.ya=new Set,this.wa=new lt(j.comparator),this.Sa=new Map,this.ba=new ks,this.Da={},this.Ca=new Map,this.va=Fs.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function OF(t,e,n){return D(this,null,function*(){let r=LF(t);try{let i=yield function(s,a){let u=ae(s),c=He.now(),l=a.reduce((f,m)=>f.add(m.key),$e()),d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=Hc(),b=$e();return u.os.getEntries(f,l).next(_=>{m=_,m.forEach((w,B)=>{B.isValidDocument()||(b=b.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,m)).next(_=>{d=_;let w=[];for(let B of a){let re=sF(B,d.get(B.key).overlayedDocument);re!=null&&w.push(new yn(B.key,re,f0(re.value.mapValue),Mr.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,w,a)}).next(_=>{h=_;let w=_.applyToLocalDocumentSet(d,b);return u.documentOverlayCache.saveOverlays(f,_.batchId,w)})}).then(()=>({batchId:h.batchId,changes:I0(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Da[s.currentUser.toKey()];c||(c=new lt(ie)),c=c.insert(a,u),s.Da[s.currentUser.toKey()]=c}(r,i.batchId,n),yield al(r,i.changes),yield sl(r.remoteStore)}catch(i){let o=j0(i,"Failed to persist write");n.reject(o)}})}function i0(t,e,n){let r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ga.forEach((o,s)=>{let a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ae(s);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(let h of d.Q_)h.U_(a)&&(c=!0)}),c&&PF(u)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function FF(t,e){return D(this,null,function*(){let n=ae(t),r=e.batch.batchId;try{let i=yield IF(n.localStore,e);U0(n,r,null),B0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield al(n,i)}catch(i){yield c0(i)}})}function kF(t,e,n){return D(this,null,function*(){let r=ae(t);try{let i=yield function(s,a){let u=ae(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(Se(d!==null),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);U0(r,e,n),B0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield al(r,i)}catch(i){yield c0(i)}})}function B0(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function U0(t,e,n){let r=ae(t),i=r.Da[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function al(t,e,n){return D(this,null,function*(){let r=ae(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,u)=>{s.push(r.Ma(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);let l=jg.Ki(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.fa.u_(i),yield function(u,c){return D(this,null,function*(){let l=ae(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>g.forEach(c,h=>g.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>g.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!rl(d))throw d;I("LocalStore","Failed to update sequence numbers: "+d)}for(let d of c){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),m=f.snapshotVersion,b=f.withLastLimboFreeSnapshotVersion(m);l.ns=l.ns.insert(h,b)}}})}(r.localStore,o))})}function VF(t,e){return D(this,null,function*(){let n=ae(t);if(!n.currentUser.isEqual(e)){I("SyncEngine","User change. New user:",e.toKey());let r=yield O0(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(u=>{u.reject(new x(p.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield al(n,r.us)}})}function LF(t){let e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kF.bind(null,e),e}var Qc=class{constructor(){this.synchronizeTabs=!1}initialize(e){return D(this,null,function*(){this.serializer=il(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return EF(this.persistence,new Ug,e.initialUser,this.serializer)}createPersistence(e){return new kg(Lg.Hr,this.serializer)}createSharedClientState(e){return new Hg}terminate(){return D(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var tm=class{initialize(e,n){return D(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>i0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VF.bind(null,this.syncEngine),yield NF(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Jg}()}createDatastore(e){let n=il(e.databaseInfo.databaseId),r=function(o){return new Gg(o)}(e.databaseInfo);return function(o,s,a,u){return new Qg(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Zg(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>i0(this.syncEngine,n,0),function(){return Wc.D()?new Wc:new zg}())}createSyncEngine(e,n){return function(i,o,s,a,u,c,l){let d=new em(i,o,s,a,u,c);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return D(this,null,function*(){var e;yield function(r){return D(this,null,function*(){let i=ae(r);I("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield Ls(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var nm=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Te.UNAUTHENTICATED,this.clientId=Vc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>D(this,null,function*(){I("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(I("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(p.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Xt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=j0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Up(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),I("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield O0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function o0(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield BF(t);I("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>r0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>r0(e.remoteStore,i)),t._onlineComponents=e})}function jF(t){return t.name==="FirebaseError"?t.code===p.FAILED_PRECONDITION||t.code===p.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function BF(t){return D(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){I("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Up(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!jF(n))throw n;Fc("Error using user provided cache. Falling back to memory cache: "+n),yield Up(t,new Qc)}}else I("FirestoreClient","Using default OfflineComponentProvider"),yield Up(t,new Qc);return t._offlineComponents})}function UF(t){return D(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(I("FirestoreClient","Using user provided OnlineComponentProvider"),yield o0(t,t._uninitializedComponentsProvider._online)):(I("FirestoreClient","Using default OnlineComponentProvider"),yield o0(t,new tm))),t._onlineComponents})}function $F(t){return UF(t).then(e=>e.syncEngine)}function $0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var s0=new Map;function H0(t,e,n){if(!n)throw new x(p.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HF(t,e,n,r){if(e===!0&&r===!0)throw new x(p.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function a0(t){if(!j.isDocumentKey(t))throw new x(p.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function u0(t){if(j.isDocumentKey(t))throw new x(p.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":H()}function z0(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new x(p.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=mm(t);throw new x(p.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Yc=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new x(p.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new x(p.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new x(p.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new x(p.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new x(p.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Zi=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yc({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new x(p.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new x(p.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yc(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $p;switch(r.type){case"firstParty":return new Gp(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new x(p.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=s0.get(n);r&&(I("ComponentProvider","Removing Datastore"),s0.delete(n),r.terminate())}(this),Promise.resolve()}};function zF(t,e,n,r={}){var i;let o=(t=z0(t,Zi))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Fc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Te.MOCK_USER;else{a=iI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new x(p.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Te(c)}t._authCredentials=new Hp(new kc(a,u))}}var rm=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},mn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},zn=class t extends rm{constructor(e,n,r){super(e,n,qO(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new j(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function q0(t,e,...n){if(t=Ai(t),H0("collection","path",e),t instanceof Zi){let r=ve.fromString(e,...n);return u0(r),new zn(t,null,r)}{if(!(t instanceof mn||t instanceof zn))throw new x(p.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ve.fromString(e,...n));return u0(r),new zn(t.firestore,null,r)}}function qF(t,e,...n){if(t=Ai(t),arguments.length===1&&(e=Vc.newId()),H0("doc","path",e),t instanceof Zi){let r=ve.fromString(e,...n);return a0(r),new mn(t,null,new j(r))}{if(!(t instanceof mn||t instanceof zn))throw new x(p.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ve.fromString(e,...n));return a0(r),new mn(t.firestore,t instanceof zn?t.converter:null,new j(r))}}var im=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Kc(this,"async_queue_retry"),this._u=()=>{let n=Bp();n&&I("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Bp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Xt;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return D(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!rl(e))throw e;I("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw qn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=Xg.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&H()}verifyOperationInProgress(){}hu(){return D(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var Zc=class extends Zi{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new im}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||W0(this),this._firestoreClient.terminate()}};function G0(t,e){let n=typeof t=="object"?t:wI(),r=typeof t=="string"?t:e||"(default)",i=vI(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=rI("firestore");o&&zF(i,...o)}return i}function GF(t){return t._firestoreClient||W0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function W0(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,c,l){return new tg(a,u,c,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,$0(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new nm(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Xc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Gn.fromBase64String(e))}catch(n){throw new x(p.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Jc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new x(p.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var el=class{constructor(e){this._methodName=e}};var tl=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new x(p.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new x(p.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}};var WF=/^__.*__$/,om=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fr(e,this.data,n,this.fieldTransforms)}};function K0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}var sm=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return nl(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(K0(this.du)&&WF.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},am=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||il(e)}Su(e,n,r,i=!1){return new sm({du:e,methodName:n,wu:r,path:ct.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function KF(t){let e=t._freezeSettings(),n=il(t._databaseId);return new am(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QF(t,e,n,r,i,o={}){let s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);X0("Data must be an object, but it was:",s,r);let a=Y0(r,s),u,c;if(o.merge)u=new Zt(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){let l=[];for(let d of o.mergeFields){let h=YF(e,d,n);if(!s.contains(h))throw new x(p.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);JF(l,h)||l.push(h)}u=new Zt(l),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new om(new Yt(a),u,c)}function Q0(t,e){if(Z0(t=Ai(t)))return X0("Unsupported field value:",e,t),Y0(t,e);if(t instanceof el)return function(r,i){if(!K0(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Q0(a,i.gu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ai(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=He.fromDate(r);return{timestampValue:Eg(i.serializer,o)}}if(r instanceof He){let o=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Eg(i.serializer,o)}}if(r instanceof tl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xc)return{bytesValue:cF(i.serializer,r._byteString)};if(r instanceof mn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:N0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${mm(r)}`)}(t,e)}function Y0(t,e){let n={};return l0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vs(t,(r,i)=>{let o=Q0(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Z0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof tl||t instanceof Xc||t instanceof mn||t instanceof el)}function X0(t,e,n){if(!Z0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=mm(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function YF(t,e,n){if((e=Ai(e))instanceof Jc)return e._internalPath;if(typeof e=="string")return XF(t,e);throw nl("Field path arguments must be of type string or ",t,!1,void 0,n)}var ZF=new RegExp("[~\\*/\\[\\]]");function XF(t,e,n){if(e.search(ZF)>=0)throw nl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jc(...e.split("."))._internalPath}catch{throw nl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nl(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new x(p.INVALID_ARGUMENT,a+t+u)}function JF(t,e){return t.some(n=>n.isEqual(e))}function ek(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function J0(t,e){let n=z0(t.firestore,Zc),r=qF(t),i=ek(t.converter,e);return tk(n,[QF(KF(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Mr.exists(!1))]).then(()=>r)}function tk(t,e){return function(r,i){let o=new Xt;return r.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return OF(yield $F(r),i,o)})),o.promise}(GF(t),e)}(function(e,n=!0){(function(i){Xi=i})(_I),ns(new fn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Zc(new zp(r.getProvider("auth-internal")),new Kp(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new x(p.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ng(c.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Un(zD,"4.4.2",e),Un(zD,"4.4.2","esm2017")})();var ul=(()=>{let e=class e{constructor(r){this.httpClient=r,this.initialize()}initialize(){return D(this,null,function*(){let[r]=yield(0,eC.loadModules)(["esri/layers/FeatureLayer"]);this.ManholofSewage=new r({url:xf.manholofSewageURL})})}getManholoCount(r){return this.ManholofSewage.queryFeatureCount({where:`ManholoID= ${r}`})}postComment(r){return D(this,null,function*(){let i=Kf(xf.firebaseConfig),o=G0(i);return r.dateTime=new Date,r.isReview=!1,yield J0(q0(o,"Records"),r)})}};e.\u0275fac=function(i){return new(i||e)(T(Dh))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nC=(()=>{let e=class e{constructor(r){this.arcGisConnection=r}EmailExistMatch(){return r=>this.arcGisConnection.getManholoCount(r.value).then(i=>i>0?null:{idNotExsit:!0})}};e.\u0275fac=function(i){return new(i||e)(T(ul))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rk=(t,e)=>({"sun-icon":t,"moon-icon":e}),ik=(t,e)=>({"is-invalid":t,"is-valid":e}),ok=(t,e,n)=>({"bg-success":t,"bg-danger":e,show:n}),rC=(()=>{let e=class e{get manholoId(){return this.reactForm.get("manholoId")}constructor(r,i,o){this.arcGisConnection=r,this.fb=i,this.ManholoIdValidtion=o,this.title="Sewer Emergency",this.theme={active:"dark",menuOpen:!1},this.respons={message:"",type:"",show:!1},this.reactForm=this.fb.group({manholoId:["",[Yo.required,Yo.pattern("[0-9]{5}")],[this.ManholoIdValidtion.EmailExistMatch()]],comments:[""]})}changeTheme(r,i){r.preventDefault(),this.theme.active=i,this.theme.menuOpen=!1,window.document.body.setAttribute("data-bs-theme",i)}checkManholoID(r,i){i&&this.arcGisConnection.getManholoCount(r).then(o=>{console.log(o)})}saveData(){this.arcGisConnection.postComment(this.reactForm.value).then(i=>{this.openToast("Your report has been sent successfully","success"),this.reactForm.reset()}).catch(i=>{this.openToast("Something bad happened when post data...","error")})}openToast(r,i){this.respons.type=i,this.respons.message=r,this.respons.show=!0,this.closeToast()}closeToast(){setTimeout(()=>{this.respons.show=!1},1e4)}};e.\u0275fac=function(i){return new(i||e)(ne(ul),ne(QE),ne(nC))},e.\u0275cmp=Ua({type:e,selectors:[["app-root"]],decls:41,vars:27,consts:[[1,"d-flex","justify-content-center","align-items-center","app-title"],[1,"col-3","d-flex","justify-content-center","align-items-center","title-logo"],["src","assets/Images/Logo.png","alt","Logo"],[1,"col","d-flex","justify-content-center","align-items-center","ms-3","fw-bold","title"],[1,"col-3","d-flex","justify-content-center","align-items-center"],[1,"dropdown"],["type","button",1,"btn","dropdown-toggle",3,"ngClass","click"],[1,"dropdown-menu"],["href","#",1,"dropdown-item","sun-icon",3,"click"],["href","#",1,"dropdown-item","moon-icon",3,"click"],[1,"p-3","d-flex","flex-column","justify-content-start","align-items-center","main-container"],[1,"mt-3","p-3","border","shaddwing","d-flex","flex-column","justify-content-center","align-items-center","form-container"],[1,"col-12",3,"formGroup"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],["formControlName","manholoId","type","text","placeholder","Type Manholo ID...","aria-label","Username","aria-describedby","basic-addon1","required","","pattern","[0-9]{5}",1,"form-control",3,"ngClass"],[1,"col-12","alert","alert-warning",3,"hidden"],[3,"hidden"],[1,"col-12","mb-3"],["for","description",1,"form-label"],["formControlName","comments","id","description","rows","6","placeholder","Please provide a detailed description of the sewage issue you have encountered, including its any relevant information that can assist our team in addressing the problem effectively.",1,"form-control"],[1,"col-12","d-grid"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["role","alert","aria-live","assertive","aria-atomic","true",1,"toast","align-items-center",3,"ngClass"],[1,"d-flex"],[1,"toast-body"],["type","button","data-bs-dismiss","toast","aria-label","Close",1,"btn-close","me-2","m-auto"]],template:function(i,o){i&1&&(We(0,"div",0)(1,"div",1),Pn(2,"img",2),Ie(),We(3,"div",3),Tt(4,"Karbala Sewer"),Ie(),We(5,"div",4)(6,"div",5)(7,"button",6),Bt("click",function(){return o.theme.menuOpen=!o.theme.menuOpen}),Ie(),We(8,"ul",7)(9,"li")(10,"a",8),Bt("click",function(a){return o.changeTheme(a,"light")}),Tt(11,"Light"),Ie()(),We(12,"li")(13,"a",9),Bt("click",function(a){return o.changeTheme(a,"dark")}),Tt(14,"Dark"),Ie()()()()()(),We(15,"div",10)(16,"div",11)(17,"form",12)(18,"div",13)(19,"span",14),Tt(20,"Manholo ID:"),Ie(),Pn(21,"input",15),Ie(),We(22,"div",16)(23,"small",17),Tt(24,"* Manholo ID Is Required."),Ie(),We(25,"small",17),Tt(26,"* Manholo ID Must Be 5 Numbers."),Ie(),We(27,"small",17),Tt(28),Ie()(),We(29,"div",18)(30,"label",19),Tt(31,"Description of the sewage issue:"),Ie(),Pn(32,"textarea",20),Ie(),We(33,"div",21)(34,"button",22),Bt("click",function(){return o.saveData()}),Tt(35,"Sent"),Ie()()()()(),We(36,"div",23)(37,"div",24)(38,"div",25),Tt(39),Ie(),Pn(40,"button",26),Ie()()),i&2&&(Ge(7),bt("ngClass",oh(17,rk,o.theme.active=="light",o.theme.active=="dark")),Ge(),Nn("show",o.theme.menuOpen),Ge(2),Nn("active",o.theme.active=="light"),Ge(3),Nn("active",o.theme.active=="dark"),Ge(4),bt("formGroup",o.reactForm),Ge(4),bt("ngClass",oh(20,ik,(o.manholoId==null?null:o.manholoId.invalid)&&(o.manholoId==null?null:o.manholoId.touched),(o.manholoId==null?null:o.manholoId.valid)&&(o.manholoId==null?null:o.manholoId.touched))),Ge(),bt("hidden",(o.manholoId==null?null:o.manholoId.valid)||(o.manholoId==null?null:o.manholoId.untouched)),Ge(),bt("hidden",!(!(o.manholoId==null||o.manholoId.errors==null)&&o.manholoId.errors.required)),Ge(2),bt("hidden",!(!(o.manholoId==null||o.manholoId.errors==null)&&o.manholoId.errors.pattern)),Ge(2),bt("hidden",!(!(o.manholoId==null||o.manholoId.errors==null)&&o.manholoId.errors.idNotExsit)),Ge(),Xa("* Manholo ID ",o.manholoId==null?null:o.manholoId.value," not found."),Ge(6),bt("disabled",!(o.manholoId!=null&&o.manholoId.valid)),Ge(2),bt("ngClass",F_(23,ok,o.respons.type=="success",o.respons.type=="error",o.respons.show)),Ge(3),Xa(" ",o.respons.message," "))},dependencies:[ew,qE,qu,BE,UE,Sf,Mf,Tf,Af],styles:[`.app-title[_ngcontent-%COMP%]{width:100%;height:130px;border-bottom:1px solid #aaa}.app-title[_ngcontent-%COMP%]   .title-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;max-width:75px}.app-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:35px}.main-container[_ngcontent-%COMP%]{width:100vw;height:calc(100vh - 130px)}.form-container[_ngcontent-%COMP%]{width:100%;max-width:500px;border-radius:10px}.sun-icon[_ngcontent-%COMP%]{display:flex;align-items:center}.sun-icon[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:15px;height:15px;background-image:url('data:image/svg+xml,%3csvg xmlns="http://www.w3.org/2000/svg" fill="white" class="bi bi-brightness-high" viewBox="0 0 16 16"><path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"/%3e%3c/svg%3e');background-repeat:no-repeat;background-position:center;background-size:cover;margin-right:5px}.sun-icon.dropdown-toggle[_ngcontent-%COMP%]:before{filter:invert(1) brightness(100%)}.moon-icon[_ngcontent-%COMP%]{display:flex;align-items:center}.moon-icon[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:15px;height:15px;background-image:url('data:image/svg+xml,%3csvg xmlns="http://www.w3.org/2000/svg" fill="white" class="bi bi-moon-stars" viewBox="0 0 16 16"><path d="M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278M4.858 1.311A7.27 7.27 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.32 7.32 0 0 0 5.205-2.162q-.506.063-1.029.063c-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286"/><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.73 1.73 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.73 1.73 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.73 1.73 0 0 0 1.097-1.097zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.16 1.16 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.16 1.16 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732z"/%3e%3c/svg%3e');background-repeat:no-repeat;background-position:center;background-size:cover;margin-right:5px}.form-title[_ngcontent-%COMP%]{text-align:justify;text-justify:distribute}@media screen and (max-width: 600px){.app-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px}}`]});let t=e;return t})();var iC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ne({type:e,bootstrap:[rC]}),e.\u0275inj=Re({imports:[Dw,pE,YE,ZE,pw]});let t=e;return t})();Iw().bootstrapModule(iC).catch(t=>console.error(t));
